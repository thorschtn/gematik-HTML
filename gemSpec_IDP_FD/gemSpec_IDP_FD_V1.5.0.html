<html>
 <head>
  <link rel="stylesheet" href="attachments/styleSheetForToc.css">
 </head>
 <body>
  <p id="polarion_1"> <br> </p>
  <p id="polarion_2"> <br> </p>
  <p id="polarion_3"> <br> </p>
  <p id="polarion_4"> <br> </p>
  <p id="polarion_5"> <br> </p>
  <p id="polarion_6"> <span style="font-weight: bold;text-decoration: underline;font-size: 12pt;font-family: Arial, Helvetica, sans-serif;line-height: 1.5;">Elektronische Gesundheitskarte und Telematikinfrastruktur</span> </p>
  <p id="polarion_7"> <br> </p>
  <p id="polarion_8"> <br> </p>
  <p id="polarion_9"> <br> </p>
  <p id="polarion_10"> <br> </p>
  <p id="polarion_11" style="text-align: center;"> <span style="font-weight: bold;font-size: 28pt;font-family: Arial, Helvetica, sans-serif;line-height: 1.2;">Spezifikation Identity Provider – </span><span style="font-weight: bold;font-style: normal;font-size: 28pt;font-family: Arial, Helvetica, sans-serif;line-height: 1.2;">Nutzungsspezifikation </span><span style="font-weight: bold;font-size: 28pt;font-family: Arial, Helvetica, sans-serif;line-height: 1.2;"><span style="font-weight: normal;font-style: normal;"><br> </span>für Fachdienste</span> </p>
  <p id="polarion_12" style="text-align: center;"></p>
  <p id="polarion_13"> <br> </p>
  <p id="polarion_14"> <br> </p>
  <p id="polarion_15"> <br> </p>
  <div id="polarion_editor_html_block2" class="polarion-dle-wiki-block"> 
   <div id="polarion_editor_html_block_content" contenteditable="false"></div>
   <pre id="polarion_editor_html_block_source" class="polarion-dle-wiki-block-source" contenteditable="false">
    <table>
     <tr>
      <td>Version</td>
      <td>1.5.0</td>
     </tr>
     <tr>
      <td>Revision</td>
      <td>567567</td>
     </tr>
     <tr>
      <td>Stand</td>
      <td>06.02.23</td>
     </tr>
     <tr>
      <td>Status</td>
      <td>freigegeben</td>
     </tr>
     <tr>
      <td>Klassifizierung</td>
      <td>öffentlich</td>
     </tr>
     <tr>
      <td>Referenzierung</td>
      <td>gemSpec_IDP_FD</td>
     </tr>
    </table></pre> 
  </div>
  <p id="polarion_16"></p>
  <h1 id="polarion_wiki macro name=module-workitem;params=id=ML-108574">Dokumentinformationen</h1>
  <p id="polarion_21"> <span style="font-weight: bold;">Änderungen zur Vorversion</span> </p>
  <p id="polarion_22">Anpassungen des vorliegenden Dokumentes im Vergleich zur Vorversion können Sie der nachfolgenden Tabelle entnehmen.</p>
  <p id="polarion_23"></p>
  <p id="polarion_24" data-keep-next="true"> <span style="font-weight: bold;">Dokumentenhistorie</span> </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=25" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 60.4px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Version<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 67.6px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Stand<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 50px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Kap./ Seite<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 276.4px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Grund der Änderung, besondere Hinweise<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 94px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Bearbeitung<br> </th> 
    </tr> 
    <tr> 
     <td style="width: 60.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1.0.0</td> 
     <td style="width: 67.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">30.06.20</td> 
     <td style="width: 50px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 276.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">initiale Erstellung des Dokuments</td> 
     <td style="width: 94px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
    <tr> 
     <td style="width: 60.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1.1.0</td> 
     <td style="width: 67.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">12.10.20</td> 
     <td style="width: 50px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 276.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Einarbeitung Scope-Themen zu R4.0.1<br> </td> 
     <td style="width: 94px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
    <tr> 
     <td style="width: 60.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1.1.1</td> 
     <td style="width: 67.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">13.11.20</td> 
     <td style="width: 50px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 276.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Einarbeitung P22.4</td> 
     <td style="width: 94px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
    <tr> 
     <td style="width: 60.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1.2.0</td> 
     <td style="width: 67.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">19.02.21</td> 
     <td style="width: 50px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 276.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Einarbeitung P22.5</td> 
     <td style="width: 94px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
    <tr> 
     <td style="width: 60.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1.3.0</td> 
     <td style="width: 67.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">14.06.21</td> 
     <td style="width: 50px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 276.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Einarbeitung IDP 2.2.0 (inkl. entsprechender Anteile aus gemF_Tokenverschlüsselung &amp; gemF_Biometrie) und der Änderungsliste IDP_Maintenance_21.1&nbsp;</td> 
     <td style="width: 94px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
    <tr> 
     <td style="width: 60.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1.4.0</td> 
     <td style="width: 67.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">17.12.21</td> 
     <td style="width: 50px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 276.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Einarbeitung IDP 2.3.0 (inkl. entsprechender Anteile aus gemF_sektorale_IDP) und der Änderungsliste IdP_CR_Q4&nbsp; zur&nbsp;Funktion eines Authorization-Server in der Föderation</td> 
     <td style="width: 94px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
    <tr> 
     <td style="width: 60.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1.5.0</td> 
     <td style="width: 67.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">06.02.23</td> 
     <td style="width: 50px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 276.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Einarbeitung IDP_Maintenance_22.2</td> 
     <td style="width: 94px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_27"></p>
  <h1 id="polarion_wiki macro name=module-workitem;params=id=ML-104107">Inhaltsverzeichnis</h1>
  <div id="polarion_wiki macro name=toc"></div>
  <div id="toc_container">
   <p class="toc_title"><h1></h1></p>
   <li><a href="#polarion_wiki macro name=module-workitem;params=id=ML-108574">Dokumentinformationen</a></li>
   <li><a href="#polarion_wiki macro name=module-workitem;params=id=ML-104107">Inhaltsverzeichnis</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104108">1 Einordnung des Dokumentes</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104109">1.1 Zielsetzung</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104110">1.2 Zielgruppe</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104111">1.3 Geltungsbereich</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104112">1.4 Abgrenzungen</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104113">1.5 Methodik</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104115">2 Systemüberblick</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104246">3 Systemkontext</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104244">3.1 Akteure und Rollen</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133486">4 Funktion eines Authorization-Server in der Föderation</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133484">4.1 Registrierung des Fachdienstes beim Federation Master</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133485">4.2 Übergreifende Festlegungen</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133491">4.3 Entity Statements</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133492">4.4 Anfrage von "ID_TOKEN" beim sektoralen Identity Provider</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133489">4.5 Verifikation des "ID_TOKEN"</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133490">4.6 Blacklisting von Client-IP-Adressen</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133487">4.7 ACCESS_TOKEN</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133488">4.8 REFRESH_TOKEN</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133479">5 Anbindung eines Fachdienstes an den zentralen IDP-Dienst</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104117">5.1 Registrierung des Fachdienstes beim IDP-Dienst</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104231">5.1.1 Inhalte des Claims</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104232">5.2 Blacklisting von Client-IP-Adressen</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104236">5.3 "ACCESS_TOKEN"</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104237">5.4 Abstimmen der Rahmenbedingungen "ACCESS_TOKEN"-Gültigkeit</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104136">6 Anhang A – Verzeichnisse</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104137">6.1 Abkürzungen</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104138">6.2 Glossar</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104139">6.3 Abbildungsverzeichnis</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104140">6.4 Tabellenverzeichnis</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104141">6.5 Referenzierte Dokumente</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104142">6.5.1 Dokumente der gematik</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-104143">6.5.2 Weitere Dokumente</a></li>
  </div>
  <p id="polarion_83"></p>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-104108">1 Einordnung des Dokumentes</h2>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104109">1.1 Zielsetzung</h3>
  <p id="polarion_40">Dieses Kapitel definiert die Anforderungen zu Herstellung, Test und Betrieb der Schnittstellen von Fachdiensten, die am föderierten Identity Management der TI teilnehmen wollen, um dessen Benutzern darüber die Authentisierung zu ermöglichen, oder die den Identity Provider-Dienst (IDP-Dienst) nutzen wollen.</p>
  <p id="polarion_47">Die bisherigen Inhalte der gemSpec_IDP_FD beschreiben die Nutzung des IDP Dienstes und gelten weiterhin als Unterkapitel.</p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104110">1.2 Zielgruppe</h3>
  <p id="polarion_44">Das Dokument richtet sich an Hersteller und Anbieter von Fachdiensten und Fachanwendungen, welche die Funktion des&nbsp;IDP-Dienstes nutzen wollen oder die am föderierten Identity Management der TI teilnehmen wollen.</p>
  <p id="polarion_29"></p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104111">1.3 Geltungsbereich</h3>
  <p id="polarion_53">Dieses Dokument enthält normative Festlegungen zur Telematikinfrastruktur des deutschen Gesundheitswesens. Der Gültigkeitszeitraum der vorliegenden Version und deren Anwendung in Zulassungs- oder Abnahmeverfahren wird durch die gematik GmbH in gesonderten Dokumenten (z. B. Dokumentenlandkarte, Produkttypsteckbrief, Leistungsbeschreibung) festgelegt und bekanntgegeben.</p>
  <p id="polarion_54"></p>
  <p id="polarion_34"> <span style="font-weight: bold;font-size: 10pt;font-family: Arial, Helvetica, sans-serif;line-height: 1.5;">Schutzrechts-/Patentrechtshinweis</span> </p>
  <p id="polarion_55"> <span style="font-style: italic;font-size: 10pt;font-family: Arial, Helvetica, sans-serif;line-height: 1.5;">Die nachfolgende Spezifikation ist von der gematik allein unter technischen Gesichtspunkten erstellt worden. Im Einzelfall kann nicht ausgeschlossen werden, dass die Implementierung der Spezifikation in technische Schutzrechte Dritter eingreift. Es ist allein Sache des Anbieters oder Herstellers, durch geeignete Maßnahmen dafür Sorge zu tragen, dass von ihm aufgrund der Spezifikation angebotene Produkte und/oder Leistungen nicht gegen Schutzrechte Dritter verstoßen und sich ggf. die erforderlichen Erlaubnisse/Lizenzen von den betroffenen Schutzrechtsinhabern einzuholen. Die gematik GmbH übernimmt insofern keinerlei Gewährleistungen.</span> </p>
  <p id="polarion_18"></p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104112">1.4 Abgrenzungen</h3>
  <p id="polarion_58"> Spezifiziert werden in diesem Dokument die von den Produkttypen sektoraler Identity Provider und IDP-Dienst bereitgestellten Schnittstellen sowie die Bedingungen, unter denen diese zu nutzen sind. Weitere Details zu den benutzten Schnittstellen werden in den Spezifikationen des sektoralen Identity Providers bzw. des&nbsp;IDP-Dienstes beschrieben. Auf die entsprechenden Dokumente wird referenziert (siehe auch Anhang <span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-104136" data-option-id="shortoutline"></span>). </p>
  <p id="polarion_30">Die vollständige Anforderungslage für die Produkttypen sektoraler Identity Provider und IDP-Dienst ergibt sich aus den weiteren Konzept- und Spezifikationsdokumenten; diese sind in den jeweiligen Produkttypsteckbriefen verzeichnet.</p>
  <p id="polarion_32">Nicht Bestandteil des vorliegenden Dokumentes sind die Festlegungen und Anforderungen, welche sich an sektorale Identity Provider und den IDP-Dienst selbst richten.</p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104113">1.5 Methodik</h3>
  <p id="polarion_65">Anforderungen als Ausdruck normativer Festlegungen werden durch eine eindeutige ID in eckigen Klammern sowie die dem RFC 2119 [RFC2119] entsprechenden, in Großbuchstaben geschriebenen deutschen Schlüsselworte MUSS, DARF NICHT, SOLL, SOLL NICHT, KANN gekennzeichnet.</p>
  <p id="polarion_66"></p>
  <p id="polarion_67"> Sie werden im Dokument wie folgt dargestellt:<span style="font-weight: bold;font-family: Wingdings;"><br> </span> <span style="font-weight: bold;">&lt;AFO-ID&gt; - &lt;Titel der Afo&gt;</span><br> Text / Beschreibung<br> [&lt;=] </p>
  <p id="polarion_70">Dabei umfasst die Anforderung sämtliche zwischen Afo-ID und der Textmarke [&lt;=] angeführten Inhalte.</p>
  <p id="polarion_71"></p>
  <p id="polarion_91"> <span style="font-weight: bold;font-size: 10pt;line-height: 1.5;">Hinweis auf offene Punkte</span> </p>
  <table id="polarion_wiki macro name=table;params=header=no|width=100%|uid=1" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <td style="width: 591.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #3366FF;">Offene Punkten werden im Dokument in dieser Darstellung ausgewiesen.</span></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_25"></p>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-104115">2 Systemüberblick</h2>
  <p id="polarion_140"> <span id="polarion-comment:658"></span>Im Rahmen der Telematikinfrastruktur (TI) werden zahlreiche Fachdienste angeboten. Sektorale Identity Provider (IDPs) übernehmen für diese Fachdienste die Aufgabe der Authentisierung des Nutzers. Anwendungsfrontends können, über die Authentifizierung des Nutzers gegenüber sektoralen IDP, Zugriff zu den von den Fachdiensten für den jeweiligen Nutzer angebotenen Daten erhalten. Sektorale IDP stellen durch gesicherte JSON Web Token (JWT) attestierte Identitäten aus, sogenannten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>. Auf dieser Basis wird dem Anwendungsfrontends vom Authorization-Server des Fachdienstes ein <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> ausgestellt. Gegen Vorlage dieses <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>&nbsp;erhalten Anwendungsfrontends, entsprechend der im Token attestierten Informationen, Zugriff auf die Inhalte der Fachdienst API. Der Authorization-Server und die Fachdienst API sind Teile des Fachdienstes.&nbsp;Fachdienste müssen keine Überprüfung des Nutzers selbst implementieren, sondern können sich darauf verlassen, dass der Nutzer bereits identifiziert und authentisiert wurde und die im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span><span style="font-family: Arial, Helvetica;"> </span>enthaltenen Attribute gültig sind. Zudem müssen im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> keine persönlichen Informationen enthalten sein, sondern diese können, sofern benötigt von der Fachdienst API abgerufen werden. </p>
  <p id="polarion_141"> Im Falle einer App als Anwendungsfrontend werden direkt dort die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> gehandhabt und gespeichert. Im Falle eines Web-basierten Anwendungsfrontends kann diese Aufgabe das Web-Backend übernehmen. </p>
  <p id="polarion_142"></p>
  <p id="polarion_143" style="text-align: center;" data-keep-next="true"> <img src="attachments/Bausteinsicht_Föderierung_klein.drawio.png" style="max-width: 650px;" data-lastmodified="2022-07-18T16:22:55.155+02:00"> </p>
  <p id="polarion_144" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">1</span>: Systemüberblick </p>
  <p id="polarion_145"></p>
  <p id="polarion_146">Die Abbildung stellt den Systemüberblick dar. Der Authentifizierungsprozess, welcher mit der Ausstellung und Übergabe der Token an das Anwendungsfrontend endet, wird dabei zur besseren Übersicht vereinfacht dargestellt.</p>
  <p id="polarion_147" class="MsoNormal">Fachdienste, welche sektorale IDPs der TI-Föderation zur Nutzer-Authentisierung nutzen möchten, müssen die folgenden Prozesse und Schnittstellen bedienen:</p>
  <ul id="polarion_148"> 
   <li>Registrierung des Fachdienstes beim Federation Master (organisatorischer Prozess gemäß [<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_FedMaster]</span>), sowie der verwendeten öffentlichen Schlüssel für die Signatur von Entity Statements und Mitteilung der benötigten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> (Key/Value-Paare im Payload eines JWT)</li> 
   <li>Veröffentlichung ihres signierten Entity Statements (siehe&nbsp;4.5).</li> 
  </ul>
  <p id="polarion_149"> Alle Fachdienste müssen zur Absicherung der JWT gegen Einsichtnahme und Profilbildung durch Dritte den Transportweg bis in die Vertrauenswürdige Ausführungsumgebung (siehe [<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_Sek</span>]) mit Transport Layer Security (TLS) gemäß [gemSpec_Krypt] absichern. </p>
  <p id="polarion_150"></p>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-104246">3 Systemkontext</h2>
  <p id="polarion_153">Der Systemkontext besteht für den Fachdienst aus einem sektoralen Identity Provider, dem Federation Master und einem Anwendungsfrontend.</p>
  <p id="polarion_154"> Der Fachdienst muss beim Federation Master eine organisatorische Registrierung durchführen [<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_FedMaster</span>], bei welcher der vom Fachdienst verwendete kryptographische öffentlicher Schlüssel sowie dessen Adresse beim Federation Master hinterlegt werden. </p>
  <p id="polarion_155">Der Fachdienst besteht aus einem Authorization-Server, einer Fachdienst API und optional aus einem Web-Backend. Das Web-Backend kann im Falle einer Web-Anwendung zur Anwendung kommen. In diesem Fall besteht das Anwendungsfrontend aus einer Web-Anwendung die üblicherweise im Browser des Benutzers ausgeführt wird. Diese Web-Anwendung interagiert mit dem Web-Backend, der wiederum Teilaufgaben übernehmen kann und insb. mit dem Authorization-Server kommuniziert. Bei einer solchen Web-Lösung muss keine direkte Interaktion zwischen Anwendungsfrontend und Authorization-Server erfolgen.</p>
  <p id="polarion_156">Im Falle einer mobilen App stellt diese das Anwendungsfrontend dar und es ist kein Web-Backend nötig.</p>
  <p id="polarion_157"> Das Anwendungsfrontend bzw. Web-Backend erlangt nach Vorlage des&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> und positiver Validierung der Inhalte des Tokens durch den Fachdienst Zugang zu den angeforderten Fachdaten. </p>
  <p id="polarion_158">Die folgende Abbildung stellt den Systemkontext aus Sicht eines Fachdienstes dar.</p>
  <p id="polarion_159" data-keep-next="true"> <img src="attachments/Überblick-Bausteinsicht.drawio.png" style="max-width: 650px;" data-lastmodified="2022-07-19T08:55:41.350+02:00"> </p>
  <p id="polarion_160" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">2</span>: Systemkontext </p>
  <p id="polarion_161"></p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104244">3.1 Akteure und Rollen</h3>
  <p id="polarion_19"> <span style="color: #000000;">Im Systemkontext des Fachdienstes interagieren verschiedene Akteure (Nutzer und aktive Komponenten) in unterschiedlichen OAuth2-Rollen gemäß [<a href="https://tools.ietf.org/html/rfc6749#section-1.1" target="_top" class="descriptionLink">RFC6749 # section-1.1</a>].</span> </p>
  <p id="polarion_100" class="MsoNormal"></p>
  <p id="polarion_101" data-keep-next="true" class="polarion-rte-caption-paragraph"> <span style="color: #000000;">Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">1</span>: TAB_IDP_FD_0001 Akteure und Rollen nach OAuth2/OIDC</span> </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=102" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 275px;height: 19px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Akteur</span></th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 305px;height: 19px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">OAuth2-Rolle</span></th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 305px;height: 19px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">OIDC Rolle</span></th> 
    </tr> 
    <tr> 
     <td style="width: 275px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Nutzer</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Resource Owner</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">End-User</span></td> 
    </tr> 
    <tr> 
     <td style="width: 275px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Fachdienst</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Resource Server</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">-</span></td> 
    </tr> 
    <tr> 
     <td style="width: 275px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Anwendungsfrontend</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Client</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">-</span></td> 
    </tr> 
    <tr> 
     <td style="width: 275px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Authenticator-Modul</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">-</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Komponente des IDP auf dem Gerät des Nutzer</span></td> 
    </tr> 
    <tr> 
     <td style="width: 275px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Authorization Server</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Authorization Server</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Relying Party (RP)</span></td> 
    </tr> 
    <tr> 
     <td style="width: 275px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">sektoraler Identity Provider</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">-</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">OpenID Provider (OP)</span></td> 
    </tr> 
    <tr> 
     <td style="width: 275px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Fachdaten</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Protected Resource</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">-</span></td> 
    </tr> 
    <tr> 
     <td style="width: 275px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Federation Master</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">-</span></td> 
     <td style="width: 305px;height: 18px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Federation Master</span></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_103" class="MsoNormal"></p>
  <p id="polarion_105"> <span style="font-weight: bold;color: #000000;">Nutzer</span> </p>
  <p id="polarion_106" class="MsoNormal"> <span style="color: #000000;">Der Resource Owner ist der Nutzer, welcher auf die beim Fachdienst (Resource Server) für ihn bereitgestellten Daten (Protected Resource) zugreift.</span> </p>
  <p id="polarion_107"> <span style="color: #000000;">Der Resource Owner verfügt über die folgenden Komponenten:</span> </p>
  <p id="polarion_108" style="margin-left: 36pt;" class="MsoListParagraph"> <span style="color: #000000;"><span style="font-family: Symbol, 'Symbol Regular';">·<span style="font-size: 8pt;font-family: 'Times New Roman', Times;line-height: 1.5;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Endgerät des Nutzers</span> </p>
  <p id="polarion_109" style="margin-left: 36pt;" class="MsoListParagraph"> <span style="color: #000000;"><span style="font-family: Symbol, 'Symbol Regular';">·<span style="font-size: 8pt;font-family: 'Times New Roman', Times;line-height: 1.5;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Authenticator-Modul</span> </p>
  <p id="polarion_110" style="margin-left: 36pt;" class="MsoListParagraph"> <span style="color: #000000;"><span style="font-family: Symbol, 'Symbol Regular';">·<span style="font-size: 8pt;font-family: 'Times New Roman', Times;line-height: 1.5;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>Anwendungsfrontend</span> </p>
  <p id="polarion_111" class="MsoNormal"></p>
  <p id="polarion_112"> <span style="font-weight: bold;color: #000000;">Fachdienst </span> </p>
  <p id="polarion_113"> <span style="color: #000000;">Der Resource Server ist der Fachdienst, der dem Nutzer (Resource Owner) Zugriff auf seine Fachdaten (Protected Resource) gewährt. Der Fachdienst, der die geschützten Fachdaten (Protected Resources) anbietet, ist in der Lage, auf Basis von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> Zugriff für Clients zu gewähren. Ein solches Token repräsentiert die delegierte Identifikation des Resource Owners.</span> </p>
  <p id="polarion_114"></p>
  <p id="polarion_115"> <span style="font-weight: bold;color: #000000;">Anwendungsfrontend</span> </p>
  <p id="polarion_20"> <span style="color: #000000;">Der Frontend&nbsp;greift als OAuth2 Client auf&nbsp;Fachdienste (Resource Server) und ihre geschützten Fachdaten (Protected Resource) zu. Das Anwendungsfrontend kann auf einem Server als Webanwendung (Backend System), auf einem Desktop-PC oder einem mobilen Gerät (z.B. Smartphone) ausgeführt werden.&nbsp;</span> </p>
  <p id="polarion_26"></p>
  <p id="polarion_35"> <span style="font-weight: bold;color: #000000;">Authenticator-Modul</span> </p>
  <p id="polarion_116" class="MsoNormal"> <span style="color: #000000;">Das Authenticator-Modul stellt eine Komponente&nbsp;des sektoralen IDP dar über welche die Authentifizierung des Nutzers stattfindet. Sie wird auf einem Gerät des Nutzers ausgeführt.</span> </p>
  <p id="polarion_28"></p>
  <p id="polarion_118"> <span style="font-weight: bold;color: #000000;">Authorization Server</span> </p>
  <p id="polarion_119" class="MsoNormal"> <span style="color: #000000;">Der Authorization Server gehört zum Fachdienst und autorisiert (erlaubt)<span style="font-weight: bold;font-family: Arial, Helvetica;"> </span> für einen bestimmten Resource Owner Zugriff auf die Fachdaten am Fachdienst - basierend auf der Identität und den Rechten des Nutzers. Gegenüber dem sektoralen IDP agiert er als Client welcher die Authentisierung des Nutzers anfragt.</span><br> </p>
  <p id="polarion_123"> <span style="font-weight: bold;color: #000000;">sektoraler Identity Provider</span> </p>
  <p id="polarion_37"> <span style="color: #000000;">Der IDP authentifiziert den Nutzer und bestätigt die Identität des Resource Owner gegenüber dem&nbsp;Authorization Server. Die in der Föderation registrierten Fachdienste nutzen die sektoralen Identity Provider&nbsp;um Nutzer ihrer Anwendungen über die Verfahren der sektoralen Identity Provider&nbsp;eindeutig zu authentifizieren und die Zustimmung der Datennutzung von den Nutzern einzuholen.&nbsp;Dabei nutzt der sektorale Identity Provider&nbsp;das&nbsp;Authenticator-Modul als Schnittstelle zum Nutzer.</span> </p>
  <p id="polarion_45"></p>
  <p id="polarion_124" class="MsoNormal"> <span style="font-weight: bold;color: #000000;">Fachdaten</span> </p>
  <p id="polarion_125"> <span style="color: #000000;">Die geschützten Fachdaten, welche vom Fachdienst (Resource Server) angeboten werden.</span><span style="color: #FF0000;"><span id="polarion-comment:626"></span></span> </p>
  <p id="polarion_126"></p>
  <p id="polarion_50"> <span style="font-weight: bold;color: #000000;">Federation Master</span> </p>
  <p id="polarion_51"> <span style="color: #000000;">Der Federation Master verwaltet und vermittelt die Vertrauensbeziehungen zwischen Identity Providern und Fachdiensten, so dass diese keine bilateralen Verbindungen über organisatorische Registrierungsprozesse bilden müssen. Er bestätigt Kryptographische Schlüssel der Dienste und ermöglicht es so das Nutzern jedes sektoralen Identity Provider direkt auf alle Dienste der Föderation zugreifen können. Und er schafft Möglichkeiten dazu Dienste aus der Föderation auszuschließen, wenn es dazu die Notwendigkeit gibt.</span> </p>
  <p id="polarion_60"></p>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-133486">4 Funktion eines Authorization-Server in der Föderation</h2>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-133484">4.1 Registrierung des Fachdienstes beim Federation Master</h3>
  <p id="polarion_163"> Fachdienstbetreiber müssen ihren Authorization-Server beim Federation Master registrieren. Die Registrierung erfolgt als organisatorischer Prozess, bevor ein Fachdienst an den vom föderierten Identitätsmanagement (IDM) angebotenen Authentifizierungsprozessen teilnehmen kann. Erst nach erfolgter Registrierung, bei der die Adresse des Fachdienstes bzw. seines Authorization-Servers,&nbsp;seine öffentlichen Schlüssel sowie der verwendete <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span> angegeben wurden, können sektorale Identity Provider <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> für&nbsp;den Fachdienst ausstellen.<span style="color: #FF0000;"> </span> </p>
  <p id="polarion_164"> <span style="font-style: italic;">Hinweis: <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> definieren konkrete Key/Value-Paare, die als Payload eines JWT codiert werden. Ein vereinbarter </span><span style="font-style: italic;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span> <span style="font-style: italic;">sagt aus, welche Key/Value-Paare im Payload erwartet werden. Die Vereinbarung wird zwischen dem Fachdienst und dem Federation Master während der Registrierung des Fachdienstes getroffen. Im Rahmen einer Authentifizierung fragen Authorization-Server den jeweils benötigten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span> an, der im Rahmen des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span></span> <span style="font-style: italic;">vom sektoralen Identity Provider bestätigt wird</span>. </p>
  <p id="polarion_165"></p>
  <table id="polarion_wiki macro name=table;params=header=no|width=100%|uid=166" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <td style="width: 591.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #3333FF;">Offener Punkt: Definition der Kriterien, welche eine Drittanwendung erfüllen muss, um in die Föderation aufgenommen zu werden&nbsp;</span></td> 
    </tr> 
   </tbody> 
  </table>
  <table id="polarion_wiki macro name=table;params=header=no|width=100%|uid=167" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <td style="width: 591.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #3333FF;">Offener Punkt: Definition der Kriterien und Prozesse, wie eine Drittanwendung in die Föderation aufgenommen wird.</span></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_168"></p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133134">
   <p><b>A_23045</b></p>
   <p><span style="color: #000000;">Anbieter von Fachdiensten MÜSSEN bei der Registrierung ihrer Authorization-Server am Federation Master die von ihnen erwarteten Attribute in</span> <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> <span style="color: #000000;">(siehe Abschnitt&nbsp;<span data-option-id="long" data-item-id="ML-128467" id="fake" data-type="workItem" class="polarion-rte-link"></span>) beschreiben und dem Federation Master zur Verfügung stellen. Die Registrierung&nbsp;<span title="Removed">MUSS ebenso</span>&nbsp;die absolute URI des Fachdienstes im Internet&nbsp;<span title="Removed">umfassen (seine Client-ID) sowie dessen Signaturschlüssel für das Entity_Statement</span>.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133135">
   <p><b>A_23046</b></p>
   <p><span style="font-weight: normal;">Anbieter von Fachdiensten MÜSSEN den öffentlichen Signaturschlüssel des Federation Master durch einen sicheren Registrierungsprozess im Authorization-Server einbringen und initial zur Signaturprüfung verwenden.<span id="polarion-comment:659"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_170"> <span style="font-style: italic;">Hinweis: Weitere Signaturschlüssel des Federation Master können aus dessen Entity Statement importiert werden.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133122">
   <p><b>A_23042</b></p>
   <p>Die Hersteller der Fachdienste MÜSSEN prüfen ob die CA, welche die TLS Zertifikate für Verbindungen in den sicheren Verarbeitungskontext eines sektoralen Identity Provider erstellt hat, Certificate Transparency gemäß&nbsp;RFC 6962/RFC 9162 unterstützt. <b>&lt;=</b></p>
  </div>
  <p id="polarion_172"> <span style="font-style: italic;">Hinweis: Diese Funktionalität wird durch aktuelle Standard Bibliotheken für TLS Verbindungen unterstützt.</span> </p>
  <p id="polarion_173"></p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-133485">4.2 Übergreifende Festlegungen</h3>
  <p id="polarion_174"> <span id="polarion-comment:649"></span> </p>
  <p id="polarion_92"> Der Payload eines JWT beinhaltet Key/Value-Paare, welche in einem oder mehreren <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> definiert werden. Inhalte eines scopes sind mehrere Attribute, welche der sektorale IDP auf Basis der vorgetragenen Identität bestätigen kann. </p>
  <p id="polarion_176"> Die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span>&nbsp;beinhalten die für diesen Fachdienst abgestimmten Attribute (die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span>&nbsp;werden pro Fachdienst in einem organisatorischen Prozess gesondert vom jeweiligen Fachdienst mit dem Federation Master abgestimmt) und den Wertebereich, welchen diese annehmen können. </p>
  <p id="polarion_177" class="MsoNormal"> Neben den im Standard vorgesehenen Attributen (siehe <a href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken" target="_top">openid-connect-core-1_0.html#IDToken</a>) erwarten Fachdienste in der Regel weitere Informationen, wie zum Beispiel Vorname, Name, Rolle und KVNR des Nutzers. Siehe hierzu auch [gemSpec_IDP_Sek] Kapitel: <span style="font-style: italic;">"<span style="font-size: 10pt;line-height: 1.5;">Token-Endpunkt Ausgangsdaten</span>"</span>.<span id="polarion-comment:629"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133115">
   <p><b>A_23035</b></p>
   <p><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Fachdienste MÜSSEN das Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span> als pseudonyme ID des Versicherten in Kombination mit dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span> des ausstellenden IDP verwenden, da dieses nur eineindeutig je IDP ist.</span><span id="polarion-comment:660"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133116">
   <p><b>A_23036</b></p>
   <p>Fachdienste MÜSSEN bei ihrer Registrierung am Federation Master sicherstellen, dass ausschließlich die fachlich benötigten Attribute aus der in [gemSpec_IDP_Sek] Kapitel: <span style="font-style: italic;">"<span style="font-size: 10pt;line-height: 1.5;">Token-Endpunkt Ausgangsdaten</span>"</span> definierten Auswahl&nbsp;als <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> beantragt werden. <b>&lt;=</b></p>
  </div>
  <p id="polarion_183"> <span style="font-style: italic;">Hinweis: Der Aufbau von ID_TOKEN entspricht den Anforderungen gemäß [gemSpec_IDP_Sek] Kapitel: "Token-Endpunkt Ausgangsdaten".</span> </p>
  <p id="polarion_93"> <span style="font-style: italic;">Hinweis: Fachdienste, welche keine personenbezogenen Daten des Nutzers benötigen, setzen allein den Scope "openid" und erhalten damit im&nbsp;Attribut sub eine dienstspezifische&nbsp;pseudonyme ID des Versicherten.</span><span style="font-style: italic;font-size: 10pt;line-height: 1.5;"><span id="polarion-comment:656"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133117">
   <p><b>A_23037</b></p>
   <p>Sind einzelne <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> des angefragten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> nicht im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> enthalten oder leer<span id="polarion-comment:678"></span>, weil beispielsweise der Nutzer die Herausgabe verweigert oder Daten nicht hinterlegt wurden, so MUSS der Fachdienste das&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>&nbsp;trotzdem akzeptieren und innerhalb der Fachanwendung geeignet reagieren. <b>&lt;=</b></p>
  </div>
  <p id="polarion_184"> <span style="font-style: italic;">Hinweis: Geeignete Reaktion auf fehlenden claims könnten darin bestehen, dass nur fachliche Anwendungsfälle ausgeführt werden, für welche die Informationen zum Nutzer hinreichend vorhanden sind. Zulässig ist auch eine Ablehnung des Benutzers mit entsprechender Information für den Fall, dass ohne die notwendigen Angaben aus den fehlenden claims keine Ausführung fachlicher Anwendungsfälle möglich ist.<span id="polarion-comment:667"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132975">
   <p><b>A_23004</b></p>
   <p>Fachdienste MÜSSEN eine Authentisierung auf dem für den Zugriff auf ihre Fachdaten notwendigen Vertrauensniveau im Parameter&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">acr_values</span> des&nbsp;Pushed Authorization-Request&nbsp;anfragen oder wenn nur ein Wert in Frage kommt diesen im Feld&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">default_acr_values</span> ihres&nbsp;Entity Statements nennen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132974">
   <p><b>A_23005</b></p>
   <p>Fachdienste MÜSSEN prüfen, ob das im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> im Feld&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">acr</span> gelistete&nbsp;Vertrauensniveau der durchgeführten Authentisierung für den Zugriff auf ihre Fachdaten ausreicht. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133107|layout=2">
   <p><b>AF_10116</b></p>
   <p><p class="polarion-rte-caption-paragraph" data-keep-next="true" id="polarion___1"><span style="font-weight: normal;">Tabelle <span class="polarion-rte-caption" data-sequence="Tabelle">2</span>:&nbsp;Anwendungsfall "Bereitstellung Liste registrierte Identity Provider"</span></p>
    <table style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;" class="polarion-Document-table" id="polarion_wiki macro name=table;params=width=100%|uid=290">
     <tbody>
      <tr>
       <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 137px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Attribute</th>
       <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 594px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Bemerkung</th>
      </tr>
      <tr>
       <td style="vertical-align: top;width: 137px;height: 244.31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Beschreibung</span></td>
       <td style="vertical-align: top;width: 594px;height: 244.31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Ein Anwender möchte einen in der TI registrierte Fachdienst nutzen. Der Fachdienst muss sicherstellen, dass der Anwender zur Nutzung des Dienstes berechtigt ist. Hierzu authentisiert sich der Anwender gegenüber einem sektoralen Identity Provider, bei dem er registriert ist. Diesen wählt er aus einer Liste aller in der TI zur Verfügung stehenden sektoralen Identity Provider aus.<br> Der Authorization-Server MUSS dem Anwendungsfrontend&nbsp;<span title="Added">oder dem Web-Backend&nbsp;</span>eine Liste der in der TI registrierten sektoralen Identity Provider zur Verfügung stellen, oder selbst dem Benutzer eine Auswahlmöglichkeit bieten. Diese Liste MUSS sich der Authorization-Server vom Federation Master abfragen.<br> Jeder Listeneintrag MUSS mindestens diese Informationen enthalten:<br></span> 
        <ul>
         <li><span style="font-weight: normal;">eindeutige issuer-id&nbsp;des sektoralen Identity Provider in der TI-Föderation</span></li>
         <li><span style="font-weight: normal;">Name des sektoralen Identity Provider in lesbarer Form</span></li>
         <li><span style="font-weight: normal;">Logo des sektoralen Identity Provider (wenn vorhanden).</span></li>
        </ul><span style="font-weight: normal;">Der Anwender des Fachdienstes MUSS genau einen sektoralen Identity Provider aus der Liste auswählen. Das Anwendungsfrontend kann sich die Zuordnung eines Anwenders zu seinem sektoralen Identity Provider speichern, so dass die Abfrage der Liste nicht bei jeder Anmeldung des Anwenders wiederholt werden muss.<br></span></td>
      </tr>
      <tr>
       <td style="vertical-align: top;width: 137px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Akteur</span></td>
       <td style="vertical-align: top;width: 594px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Anwender der Fachanwendung</span></td>
      </tr>
      <tr>
       <td style="vertical-align: top;width: 137px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Auslöser</span></td>
       <td style="vertical-align: top;width: 594px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Ein Anwender möchte eine Gesundheitsanwendung der TI (Fachdienst) nutzen. Als Voraussetzung für die Authentifizierung des Anwenders muss dieser auswählen, bei welchem Identity Provider er registriert ist (bei Versicherten - Auswahl der Krankenkasse).</span></td>
      </tr>
      <tr>
       <td style="vertical-align: top;width: 137px;height: 88.3724px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Komponenten</span></td>
       <td style="vertical-align: top;width: 594px;height: 88.3724px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">
        <ul>
         <li><span style="font-weight: normal;">Anwendungsfrontend&nbsp;<span title="Added">(App oder Web) oder Web-Backend</span></span></li>
         <li><span style="font-weight: normal;">Authorization-Server eines Fachdienstes</span></li>
         <li><span style="font-weight: normal;">Federation Master</span></li>
        </ul></td>
      </tr>
      <tr>
       <td style="vertical-align: top;width: 137px;height: 88.3724px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Vorbedingung</span></td>
       <td style="vertical-align: top;width: 594px;height: 88.3724px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">
        <ol>
         <li><span style="font-weight: normal;">Es gibt eine Liste der in der TI-Föderation registrierten (sektoralen) Identity Provider, deren Schlüssel dem&nbsp;Federation Master bekannt sind.<br></span></li>
         <li><span style="font-weight: normal;">Der Anwender ist durch einen der (sektoraler) Identity Provider identifiziert worden.</span></li>
         <li><span style="font-weight: normal;">Das Entity Statement des Federation Master steht zur Verfügung und die unter dem Attribut idp_list_endpoint benannte URL ist aus dem Internet erreichbar.&nbsp;</span></li>
        </ol></td>
      </tr>
      <tr>
       <td style="vertical-align: top;width: 137px;height: 171.549px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Ablauf</span></td>
       <td style="vertical-align: top;width: 594px;height: 171.549px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">
        <ol>
         <li><span style="font-weight: normal;">Das Anwendungsfrontend&nbsp;<span title="Added">oder Web-Backend (im Folgenden als aufrufende Instanz bezeichnet)&nbsp;</span>schickt eine Anfrage zum Abruf der IDP-Liste an den Authorization-Server.</span></li>
         <li><span style="font-weight: normal;">Der Authorization-Server prüft, ob er die IDP-Liste kennt und diese nicht älter als 24h ist. Kennt er die IDP-Liste nicht oder ist diese älter als 24h, so ruft er diese vom Federation Master ab. Hierbei greift er auf die entsprechende URL zu, die im&nbsp;Entity Statement des Federation Master angegeben ist.<span id="polarion-comment:647"></span></span></li>
         <li><span style="font-weight: normal;">Der Authorization-Server gibt die vom Federation Master erhaltene IDP-Liste an&nbsp;<span title="Added">die aufrufende Instanz</span>&nbsp;zurück. Der Inhalt der Liste ist hierbei nicht zu verändern. (Daher gelten an dieser Stelle keine weiteren Detailanforderungen an die Struktur und Inhalt der Liste.&nbsp;<span title="Added">Eine Umschlüsselung der IDP-Liste ist zulässig.</span>)</span></li>
         <li><span style="font-weight: normal;">Die aufrufende Instanz überprüft die Integrität der erhaltenen IDP-Liste, die entweder vom Federation Master oder vom Authorization-Server signiert ist ([<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_FedMaster</span>]&nbsp;Kapitel: <span style="font-style: italic;">"</span><span style="font-style: normal;">Anwendungsfall - IDP-Liste bereitstellen</span><span style="font-style: italic;">"</span>).</span></li>
         <li><span style="font-weight: normal;">Die aufrufende Instanz kann die IDP-Liste für die Dauer ihrer Gültigkeit (Feld "exp") zwischenspeichern.</span></li>
        </ol></td>
      </tr>
      <tr>
       <td style="vertical-align: top;width: 137px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Ergebnis</span></td>
       <td style="vertical-align: top;width: 594px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Das Anwendungsfrontend zeigt dem Nutzer die Liste der registrierten Identity Provider an.<br></span></td>
      </tr>
      <tr>
       <td style="vertical-align: top;width: 137px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Akzeptanzkriterien</span></td>
       <td style="vertical-align: top;width: 594px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;"><span data-option-id="short" data-item-id="ML-133108" id="fake" data-type="workItem" class="polarion-rte-link"></span>&nbsp;, <span data-option-id="short" data-item-id="ML-133109" id="fake" data-type="workItem" class="polarion-rte-link"></span>&nbsp;, &nbsp;<span data-option-id="short" data-item-id="ML-128411" id="fake" data-type="workItem" class="polarion-rte-link"></span>&nbsp;</span></td>
      </tr>
      <tr>
       <td style="vertical-align: top;width: 137px;height: 58.4766px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Alternativen</span></td>
       <td style="vertical-align: top;width: 594px;height: 58.4766px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;">Das Anwendungsfrontend&nbsp;<span title="Added">oder Web-Backend hat die IDP-Liste bereits zwischengespeichert.&nbsp;</span>In diesem Fall KANN auf den Abruf der IDP Liste verzichtet werden.<br><br> Das Anwendungsfrontend&nbsp;<span title="Added">oder Web-Backend&nbsp;</span>kennt (z. B. aus früheren Sitzungen) den sektoralen Identity Provider des Anwenders. In diesem Fall KANN auf den Abruf und Anzeige der IDP Liste verzichtet werden.<br><br> Der Fachdienst KANN sich die notwendigen Informationen auch über die Standard-Schnittstelle federation_list_endpoint des Federation Master abrufen (<a class="descriptionLink" target="_top" href="https://openid.net/specs/openid-connect-federation-1_0-21.html#name-federation-entity">OpenID Connect Federation 1.0#name-federation-entity</a>). In diesem Fall muss er selbst eine Übersicht aller sektoralen Identity Provider generieren, deren Entity Statements auslesen und mit den so erhaltenen Informationen dem Nutzer eine Auswahl anbieten.<span id="polarion-comment:666"></span></span><br></td>
      </tr>
     </tbody>
    </table> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133108|layout=3">
   <p><b>ML-133108</b></p>
   <p>Der Authorization-Server nimmt vom Anwendungsfrontend den Request zum Abruf der IDP-Liste entgegen und gibt als Response ein signiertes JWS zurück. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133109|layout=3">
   <p><b>ML-133109</b></p>
   <p>Das Anwendungsfrontend&nbsp;<span title="Added">oder Web-Backend hat die Integrität der erhaltenen IDP-Liste erfolgreich geprüft.<br> </span>&nbsp; <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133110">
   <p><b>A_23033</b></p>
   <p><span title="Added">Die Integrität der vom Anwendungsfrontend verarbeitete IDP-Liste MUSS gewährleistet werden (z. B. mittels Signaturprüfung).</span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_188"> <span style="font-style: italic;">Hinweis: Dabei kann das&nbsp;Anwendungsfrontend entweder gegen den bekannten öffentlichen Schlüssel des Federation Master prüfen, der Authorization-Server die Liste mit einem dem&nbsp;Anwendungsfrontend bekannten Schlüssel neu signieren oder aber die Liste durch den&nbsp;Authorization-Server innerhalb einer gesicherten TLS Verbindung zum&nbsp;Anwendungsfrontend zur Anzeige gebracht werden.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-135347">
   <p><b>A_23336</b></p>
   <p>Ein Fachdienst als Teilnehmer der TI-Föderation MUSS bei dem eingesetzten Schlüsselmaterial (Signatur,&nbsp;Authorisierungstoken, Entity Statement, etc.), folgende Vorgaben umsetzen:<br> 
    <ol> 
     <li>Alle verwendeten Schlüssel MÜSSEN ein Sicherheitsniveau von 120 Bit ermöglichen (vgl. [gemSpec_Krypt#5 "Migration 120-Bit Sicherheitsniveau"]).</li> 
     <li>Alle ECC-Schlüssel MÜSSEN auf einem folgenden der Domainparameter (Kurven) basieren:</li> 
     <ol> 
      <li>P-256 oder P-384 [FIPS-186-4]</li> 
     </ol> 
    </ol> <b>&lt;=</b></p>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-133491">4.3 Entity Statements</h3>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133111">
   <p><b>A_23034</b></p>
   <p>Authorization-Server MÜSSEN über sich ein, ES256 signiertes, Entity Statement gemäß [<a class="descriptionLink" target="_top" href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.6">OpenID Connect Federation 1.0#rfc.section.6</a>] unter <span style="font-size: 10pt;line-height: 1.5;">".well-known/openid-federation"</span> veröffentlichen. Das&nbsp;Entity Statement ist maximal 24h gültig.<span id="polarion-comment:646"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_87"> <span style="font-style: italic;">Hinweis: Details zum Aufbau des Entity Statements finden sich in den [gemSpec_IDP_Sek] Tabellen: "Header des Entity Statement des Fachdienstes" und "Body des Entity Statement des Fachdienstes".</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133120">
   <p><b>A_23038</b></p>
   <p>Authorization-Server MÜSSEN benötigte Schlüssel und Endpunkte des Federation Master und verwendeter sektoraler Identity Provider durch Abfrage ihrer Entity Statements entsprechend [<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_FedMaster]#</span>AF_10101 einholen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133118">
   <p><b>A_23039</b></p>
   <p>Authorization-Server KÖNNEN einmal heruntergeladene fremde Entity Statements zwischenspeichern. Diese SOLLEN nach 12 Stunden erneut heruntergeladen werden und MÜSSEN nach maximal 24 Stunden verworfen werden.<span id="polarion-comment:648"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_97"> <span style="font-style: italic;">Hinweis: Die Anforderung gilt sowohl für die Statements des Identity Provider sowie für die Statements des Federation Master über die Identity Provider.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133119">
   <p><b>A_23040</b></p>
   <p><span style="color: #000000;">Authorization-Server MÜSSEN die Signatur der heruntergeladenen Entity Statement <span id="polarion-comment:664"></span>prüfen und auf einen zeitlich gültigen Signaturschlüssel zurückführen, welcher von dem ihm bekannten Federation Master oder von einem durch den Federation Master beglaubigten sektoralen Identity Provider ausgestellt sein MUSS. Vor der weiteren Verwendung MUSS die Prüfung der Entity Statements erfolgreich abgeschlossen sein.</span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_189"> <span style="font-style: italic;">Hinweis: Der Abgleich des Signaturschlüssels muss gegen ein frisch abgerufenes Statement des&nbsp;Federation Master zu diesem&nbsp;sektoralen Identity Provider erfolgen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134170">
   <p><b>A_23183</b></p>
   <p><span style="color: #000000;">Authorization-Server MÜSSEN sicherstellen, dass die für die TLS Client Authentisierung gegenüber sektoralen IDPs verwendeten Schlüssel über das Entity Statement validiert werden können, indem für diese Zertifikate im Schlüsselsatz (jwks) des Fachdienstes abgelegt werden. ("use = sig", x5c Objekt gesetzt). Nach [RFC8705-section 2.2 (<a href="https://www.rfc-editor.org/rfc/rfc8705.html#name-self-signed-certificate-mut" target="_top">https://www.rfc-editor.org/rfc/rfc8705.html#name-self-signed-certificate-mut</a>)] ist der Authorization-Server erfolgreich authentifiziert, wenn das Zertifikat, das er während des Handshakes vorgelegt hat, mit einem der für diesen bestimmten Client registrierten Zertifikate übereinstimmt.<span id="polarion-comment:676"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_89"> <span style="font-style: italic;color: #000000;">Hinweis: Details zum Aufbau des signed_jwks Schlüsselsatzes finden sich in den [gemSpec_IDP_Sek] Tabellen: "Header des KeySet des Fachdienstes" und "Body des KeySet des Fachdienstes"</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134188">
   <p><b>A_23185</b></p>
   <p>Authorization-Server MÜSSEN sicherstellen, <span style="font-style: normal;">dass die für die&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Authentisierung des Fachdienstes, als Client der mTLS Verbindung zum sektoralen IDP, verwendeten Zertifikate</span> eine maximale Gültigkeit von 398 Tagen haben und das Schlüsselmaterial anschließend nicht weiterverwendet wird.&nbsp;<span id="polarion-comment:677"></span></span><span style="font-style: italic;"><span id="polarion-comment:640"></span></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134211">
   <p><b>A_23194</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Authorization-Server MÜSSEN sicherstellen, dass die für die Verschlüsselung von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> durch den sektoralen IDPs verwendeten öffentlichen Schlüssel über das Entity Statement zur Verfügung gestellt werden, indem diese im Schlüsselsatz (jwks) des Fachdienstes abgelegt werden. (use = enc).<span id="polarion-comment:652"></span></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134213">
   <p><b>A_23196</b></p>
   <p><span style="color: #000000;"><span style="font-size: 10pt;line-height: 1.5;">Authorization-Server MÜSSEN sicherstellen, dass für TLS-Authentisierung, Token-Verschlüsselung und Signatur seines Entity Statements nur ECC Schlüssel der Kurve P256 [RFC-5480] verwendet werden</span>.</span><span id="polarion-comment:651"></span><span id="polarion-comment:663"></span> <b>&lt;=</b></p>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-133492">4.4 Anfrage von "ID_TOKEN" beim sektoralen Identity Provider</h3>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133209|layout=2">
   <p><b>AF_10117</b></p>
   <p><p data-keep-next="true" class="polarion-rte-caption-paragraph" style="text-align: left;" id="polarion___2"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">3</span>: Anwendungsfall "OAuth 2.0 Pushed Authorization Request" </p> 
    <table id="polarion_wiki macro name=table;params=width=99.87%" class="polarion-Document-table" style="width: 99.87%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
     <tbody> 
      <tr> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Attribute</th> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Bemerkung</th> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beschreibung</td> 
       <td style="text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ein Anwender möchte einen in der TI registrierten Fachdienst nutzen. Der Fachdienst muss sicherstellen, dass der Anwender zur Nutzung des Dienstes berechtigt ist. Hierzu authentisiert sich der Anwender gegenüber einem sektoralen Identity Provider, bei dem er registriert ist.<br> Der Authorization-Server MUSS bei Erhalt eines Autorisierung Requests vom Anwendungsfrontend oder vom Web-Backend eine entsprechende Anfrage (Pushed Authorization Request) an den angegebenen sektoralen Identity Provider senden. Anschließend sendet der Authorization-Server die vom sektoralen Identity Provider erhaltene URI zurück an die aufrufende Instanz.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Akteur</td> 
       <td style="text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anwender der Fachanwendung</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Auslöser</td> 
       <td style="text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ein Anwender möchte eine Gesundheitsanwendung der TI (Fachdienst) nutzen. Als Voraussetzung muss er sich bei einem sektoralen Identity Provider authentifizieren, bei welchem er registriert ist.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Komponenten</td> 
       <td style="text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"> 
        <ul> 
         <li>Anwendungsfrontend oder Web-Backend</li> 
         <li>Authorization-Server eines Fachdienstes</li> 
         <li>sektoraler Identity Provider</li> 
        </ul> </td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Vorbedingung</td> 
       <td style="text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"> 
        <ol> 
         <li>Der Anwender ist durch einen der (sektoralen) Identity Provider identifiziert worden</li> 
         <li>Das Entity Statement des Federation Master steht zur Verfügung.</li> 
         <li>Der involvierte sektorale Identity Provider ist beim Federation Master registriert.</li> 
        </ol> </td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ablauf</td> 
       <td style="text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"> 
        <ol> 
         <li>Das Anwendungsfrontend oder Web-Backend schickt einen OAUTH2 Authorization Request unter Angabe des zu verwendenden sektoralen Identity Providers an den Authorization Endpoint des Authorization-Servers ([gemSpec_IDP_Sek] Tabelle: <span style="font-style: italic;">"Authorization Request von Anwendungsfrontend zum Authorization-Server"</span>) und authentisiert sich dabei als Client, dessen TLS-Verbindung mit einem Zertifikat über das Entity Statement des Fachdienst validierbar ist.<span id="polarion-comment:639"></span></li> 
         <li>Der Fachdienst prüft, ob er das Entity Statement des angegebenen sektoralen Identity Provider kennt und ob dieses nicht älter als 24h ist. Ist das&nbsp;Entity Statement des angegebenen sektoralen Identity Provider unbekannt oder älter als 24h, lädt der Authorization-Server das Entity Statement vom angegebenen sektoralen Identity Provider entsprechend [<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_Sek</span>] Kapitel: <span style="font-style: italic;">"Entity Statement des sektoralen IDP"</span>.<span id="polarion-comment:645"></span></li> 
         <li>Der Authorization-Server sendet seinerseits einen Authentication Request an den Authentication Endpoint des angegebenen sektoralen Identity Providers ([gemSpec_IDP_Sek] Tabelle: <span style="font-style: italic;">"Parameter Pushed Authorization Request"</span>).<br> In diesem Request sind zufällige "state" und "nonce" Parameter enthalten, welche der Fachdienst nutzt, um spätere Antworten zuzuordnen und zu validieren.<br> </li> 
         <li>(Falls nötig, lädt der sektorale Identity Provider das Entity Statement vom Authorization-Server entsprechend A_23034.)</li> 
         <li>Der sektorale Identity Provider antwortet mit einer URI auf den Pushed Authorization Request ([gemSpec_IDP_Sek] Tabelle: <span style="font-style: italic;">"Parameter der HTTP-Response"</span>) (<a href="https://www.rfc-editor.org/rfc/rfc9126.html" target="_top" class="descriptionLink">https://www.rfc-editor.org/rfc/rfc9126.html</a>).</li> 
         <li>Der Authorization-Server sendet die URI zurück an die aufrufende Instanz. ([gemSpec_IDP_Sek] Tabelle: <span style="font-style: italic;">"Request Parameter des Fachdienstes zum sektoralen IDP"</span>)</li> 
        </ol> </td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ergebnis</td> 
       <td style="text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Das Anwendungsfrontend oder Web-Backend hat die PAR URI erhalten, mittels derer er die Benutzerauthentifizierung initiieren kann.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Akzeptanzkriterien</td> 
       <td style="text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span class="polarion-rte-link" data-type="workItem" id="fake" data-item-id="ML-133233" data-option-id="short"></span>,&nbsp;<span class="polarion-rte-link" data-type="workItem" id="fake" data-item-id="ML-133234" data-option-id="short"></span>&nbsp;&nbsp;</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 116px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Alternativen</td> 
       <td style="text-align: left;vertical-align: top;width: 613px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">keine</td> 
      </tr> 
     </tbody> 
    </table> <b>&lt;=</b></p>
  </div>
  <p id="polarion_80"> <span style="font-style: italic;">Hinweis: Sollte es zur Störungsbehebung notwendig sein, eine Fachdienstanfrage und Nutzerauthentisierung zu korrelieren, kann der sektorale IDP zu diesem Zweck die durch den Fachdienst für diesen Fall auf organisatorischem Weg zu liefernde "nonce" der Anfrage nutzen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133233|layout=3">
   <p><b>ML-133233</b></p>
   <p><span style="font-weight: normal;">Das Anwendungsfrontend oder Web-Backend hat die Antwort auf den Pushed Authorization Request vom Authorization-Server erhalten.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133234|layout=3">
   <p><b>ML-133234</b></p>
   <p><span style="font-weight: normal;">Die gelieferte Antwort enthält die PAR URI, mittels derer das Anwendungsfrontend oder Web-Backend die Benutzerauthentifizierung initiieren kann.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133136">
   <p><b>A_23047</b></p>
   <p>Authorization-Server MÜSSEN einen OAuth 2.0 Authorization Endpunkt anbieten um Authorization Requests mit PKCE/Code Challenge entsprechend <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.1" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.1</a>&nbsp;und <a href="https://datatracker.ietf.org/doc/html/rfc7636#section-4.3" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc7636#section-4.3</a>&nbsp;zu akzeptieren und zu verarbeiten. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133137">
   <p><b>A_23048</b></p>
   <p>Authorization-Server MÜSSEN nach Erhalt eines Authorization Request entsprechend OAuth 2.0 Pushed Authorization Requests (PAR)&nbsp;<a class="descriptionLink" target="_top" href="https://datatracker.ietf.org/doc/html/rfc9126">https://datatracker.ietf.org/doc/html/rfc9126</a>&nbsp;mit sektoralen Identity Providern kommunizieren und eine entsprechende Antwort an die aufrufende Instanz zurück senden. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-136624">
   <p><b>A_23500</b></p>
   <p><span style="font-size: 10pt;color: #172B4D;line-height: 1.5;">Wird der erstmalige PAR des Fachdienstes an einen sektoralen IDP mit dem Fehlercode HTTP 401 quittiert, so&nbsp;<span style="font-weight: normal;">war</span>&nbsp;der Fachdienst dem sektoralen IDP&nbsp;<span style="font-weight: normal;">noch&nbsp;</span>nicht bekannt. Der Fachdienst MUSS in diesem Fall den PAR wiederholen.<span id="polarion-comment:675"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_31"> <span style="font-style: italic;">Hinweis: Nach A_22649 registriert der sektorale IDP den anfragenden Fachdienst nach dem ersten Request gemäß&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#section-10.1.1.1.1)" target="_blank" class="external-link">https://openid.net/specs/openid-connect-federation-1_0.html#section-10.1.1.1.1.</a></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133235|layout=2">
   <p><b>AF_10118</b></p>
   <p><p style="text-align: left;" class="polarion-rte-caption-paragraph" id="polarion___3">Tabelle <span class="polarion-rte-caption" data-sequence="Tabelle">4</span>: Anwendungsfall "Benutzerauthentifizierung und Erhalt des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>"</p>
    <table style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;" class="polarion-Document-table" id="polarion_wiki macro name=table;params=width=100%|uid=145">
     <tbody>
      <tr>
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Attribute</th>
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Bemerkung</th>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beschreibung</td>
       <td style="text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ein Anwender möchte einen in der TI registrierten Fachdienst nutzen. Der Fachdienst muss sicherstellen, dass der Anwender zur Nutzung des Dienstes berechtigt ist. Hierzu authentisiert sich der Anwender gegenüber einem sektoralen Identity Provider, bei dem er registriert ist. Nach Abschluss der Authentisierung des Nutzers gegenüber dem sektoralen Identity Provider, erhält der Authorization-Server den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> mit dem er das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> abrufen kann.<br></td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Akteur</td>
       <td style="text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anwender der Fachanwendung</td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Auslöser</td>
       <td style="text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ein Anwender möchte eine Gesundheitsanwendung der TI (Fachdienst) nutzen. Als Voraussetzung muss er sich bei einem sektoralen Identity Provider authentifizieren, bei welchem er registriert ist. Das Anwendungsfrontend erhält vom Authorization-Server die&nbsp;Pushed Authorization Requests URI zurück ([<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_Sek</span>] Kapitel: <span style="font-style: italic;">"</span><span style="font-style: normal;">PAR-Endpunkt Ausgangsdaten</span><span style="font-style: italic;">"</span>).<br></td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Komponenten</td>
       <td style="text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">
        <ul>
         <li>Anwendungsfrontend oder Web-Backend</li>
         <li>Authorization-Server eines Fachdienstes</li>
         <li>sektoraler Identity Provider<br></li>
        </ul></td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Vorbedingung</td>
       <td style="text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">
        <ol>
         <li>Der Anwender ist durch einen der (sektoraler) Identity Provider identifiziert worden</li>
         <li>Das Entity Statement des Federation Master steht zur Verfügung.</li>
         <li>Der involvierte sektorale Identity Provider ist beim Federation Master registriert.</li>
         <li>Eine OAuth 2.0 Pushed Authorization Request URI wurde entsprechend [<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_Sek</span>] Kapitel: <span style="font-style: italic;">"</span><span style="font-style: normal;">PAR-Endpunkt Ausgangsdaten</span><span style="font-style: italic;">"</span> zurück geliefert.<br></li>
        </ol></td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ablauf</td>
       <td style="text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">
        <ol>
         <li>Das Anwendungsfrontend oder Web-Backend ruft den Authorization-Endpunkt des sektoralen Identity Providers auf und übergibt die&nbsp;OAuth 2.0 Pushed Authorization Requests URI.&nbsp;Diese leitet weiter auf das Web-Frontend des sektoralen Identity Providers oder direkt auf dessen Authenticator-Modul. (Die eigentliche Authentifizierung erfolgt Implementations-spezifisch und wird hier nicht weiter definiert.)<br></li>
         <li>Nach erfolgreichem Abschluss der Authentisierung sendet der sektorale Identity Provider einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> an das aufrufende Anwendungsfrontend oder Web-Backend.<br></li>
         <li>Das Anwendungsfrontend oder Web-Backend sendet den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> an den Authorization-Server.</li>
         <li>Der Authorization-Server sendet den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> an den involvierten sektoralen Identity Provider <span style="color: #000000;">([gemSpec_IDP_Sek] Kapitel: <span style="font-style: italic;">"</span><span style="font-style: normal;">Detailinformationen zum App-App-Flow</span><span style="font-style: italic;">"</span>&nbsp;- Schritt 10) und authentisiert sich dabei als Client der TLS Verbindung mit einem Zertifikat das über sein Entity Statement validierbar ist.<span id="polarion-comment:641"></span><br></span></li>
         <li><span style="color: #000000;">Der sektorale Identity Provider überprüft die Gültigkeit des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> entsprechend <a class="descriptionLink" target="_top" href="https://datatracker.ietf.org/doc/html/rfc7636#section-4.6">https://datatracker.ietf.org/doc/html/rfc7636#section-4.6</a><br></span></li>
         <li><span style="color: #000000;">Der sektorale Identity Provider antwortet dem&nbsp;Authorization-Server nach erfolgreicher Überprüfung des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> mit dem zugehörigen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>. ([gemSpec_IDP_Sek] Kapitel: <span style="font-style: italic;">"</span><span style="font-style: normal;">Detailinformationen zum App-App-Flow</span><span style="font-style: italic;">"</span>&nbsp;- Schritt 11)</span><br></li>
        </ol></td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ergebnis</td>
       <td style="text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Der Nutzer ist authentifiziert und der Authorization-Server hat den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> mit dem es den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> zum Zugriff&nbsp;auf die Fachdienst API abrufen kann.</td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Akzeptanzkriterien</td>
       <td style="text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #FF0000;"><span data-option-id="short" data-item-id="ML-133236" id="fake" data-type="workItem" class="polarion-rte-link"></span></span><span style="color: #000000;">,&nbsp;<span data-option-id="short" data-item-id="ML-133237" id="fake" data-type="workItem" class="polarion-rte-link"></span>&nbsp;</span><br></td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 130px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Alternativen</td>
       <td style="text-align: left;vertical-align: top;width: 600px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">keine</span><br></td>
      </tr>
     </tbody>
    </table> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133236|layout=3">
   <p><b>ML-133236</b></p>
   <p><span style="font-weight: normal;">Der Authorization-Server hat einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> vom sektoralen Identity Provider erhalten.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133237|layout=3">
   <p><b>ML-133237</b></p>
   <p><span style="font-weight: normal;font-style: normal;">Der erhaltene <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> entspricht den Vorgaben in [gemSpec_IDP_Sek] Tabellen: "Header-<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> des sektoralen IDP", "Signature Header-<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> des sektoralen IDP" und "Body-<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> für den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> des sektoralen IDP".</span> <b>&lt;=</b></p>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-133489">4.5 Verifikation des "ID_TOKEN"</h3>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134212">
   <p><b>A_23195</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Der Fachdienst MUSS das erhaltene <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> vor der Verwendung mit seinem korrespondierenden privaten Entschlüsselungskey entsprechend der "kid" in Header entschlüsseln.<span id="polarion-comment:653"></span></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133138">
   <p><b>A_23049</b></p>
   <p>Zugriffsgeschützte Fachdienste MÜSSEN vor Gewährung des Zugriffs, den erhaltenen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>&nbsp;wie folgt prüfen. Nur nach erfolgreicher Überprüfung darf der Zugriff gewährt werden.<br> 
    <ol>
     <li>Das<span id="polarion-comment:654"></span> <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> muss valide signiert sein durch einen Schlüssel des ausstellenden sektoralen Identity Provider</li>
     <li>Das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> muss zeitlich gültig sein (Felder:&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span>,&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span>)</li>
     <li>Das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> muss im Feld <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">aud</span> den jeweiligen Fachdienst eingetragen haben.</li>
     <li>Falls es sich um eine pseudonyme Benutzeranmeldung handelt, muss die Kombination der Felder <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span> auf den Benutzer zugeordnet werden.<br></li>
     <li>Das Feld <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">nonce</span> MUSS mit der ausgelösten Authentisierungsanfrage übereinstimmen.</li>
    </ol> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129564">
   <p><b>A_22861</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Bei der Überprüfung eines <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> MUSS der Fachdienst, wenn der vom sektoralen Identity Provider verwendete Signatur-Schlüssel ihm unbekannt ist, das Entity Statement des sektoralen Identity Provider sowie die Schlüssel hinter einer eventuell verwendeten&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">signed_jwks_uri</span></span> <span style="font-size: 10pt;line-height: 1.5;">herunterladen und auf Vorhandensein der verwendeten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span> prüfen.&nbsp;</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133139">
   <p><b>A_23050</b></p>
   <p>Authorization-Server MÜSSEN personenbezogene Daten wie z. B. <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>&nbsp;sofort nach Abschluss des Verarbeitungsprozesses verwerfen und dürfen diese nicht dauerhaft speichern, sofern diese nicht anderweitig zu legitimen Zwecken vorgehalten werden müssen (z. B. Protokollierung).<span id="polarion-comment:661"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129543">
   <p><b>A_22860</b></p>
   <p>Fachdienste MÜSSEN erhaltene <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> auf das Vorhandensein der benötigten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> überprüfen. <b>&lt;=</b></p>
  </div>
  <p id="polarion_62"> <span style="font-style: italic;">Hinweis: Wenn dem Fachdienst im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> zwingend notwendige Daten nicht übermittelt werden, kann er die Anmeldung des Nutzers nicht durchführen. Gemäß <span style="font-size: 10pt;line-height: 1.5;">A_22733 ist es für sektorale Identity Provider zulässig, bei fehlenden Daten oder nicht erteilter Zustimmung des Nutzers gewisse Werte in <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>&nbsp;nicht zu liefern.</span></span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-133490">4.6 Blacklisting von Client-IP-Adressen</h3>
  <p id="polarion_196">Die Anforderungen im entsprechenden Kapitel 5.2 gelten unverändert auch für Fachdienste im Rahmen der Föderation.</p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-133487">4.7 ACCESS_TOKEN</h3>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133229">
   <p><b>A_23076</b></p>
   <p>Authorization-Server MÜSSEN einen OAuth 2.0 Token Endpunkt anbieten um dort das Abrufen von Zugriffstoken mittels OAuth Code Flow und PKCE entsprechend <a href="https://datatracker.ietf.org/doc/html/rfc7636" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc7636</a>&nbsp;zu ermöglichen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133227">
   <p><b>A_23077</b></p>
   <p>Authorization-Server KÖNNEN Zugriffstoken entsprechend OAuth <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>&nbsp;anbieten. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133228">
   <p><b>A_23078</b></p>
   <p>Vom Authorization-Server bereitgestellte Zugriffstoken DÜRFEN NICHT personenbezogene Daten enthalten, es sei denn diese sind Ende-zu-Ende verschlüsselt. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133231">
   <p><b>A_23079</b></p>
   <p>Vom Authorization-Server bereitgestellte Zugriffstoken DÜRFEN NICHT länger als 10 Minuten gültig sein. <b>&lt;=</b></p>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-133488">4.8 REFRESH_TOKEN</h3>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133232">
   <p><b>A_23080</b></p>
   <p>Authorization-Server KÖNNEN einen OAuth 2.0 Token Endpunkt anbieten um dort das Abrufen von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN</span>&nbsp;entsprechend <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.5" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc6749#section-1.5</a>&nbsp;zu ermöglichen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134281">
   <p><b>A_23204</b></p>
   <p>Fachdienste MÜSSEN nach maximal 10-minütiger Inaktivität des Nutzers vorhandene <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN</span> verwerfen und eine erneute Authentisierung fordern. <b>&lt;=</b></p>
  </div>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-133479">5 Anbindung eines Fachdienstes an den zentralen IDP-Dienst</h2>
  <p id="polarion_76">Während die sektoralen Identity Provider den zentralen IDP-Dienst langsam ablösen, bleibt dieser doch für die kartenbasierten Leistungserbringeridentitäten weiterhin eine wichtige Komponente. Anwendungen können den IDP-Dienst nutzen um sich die Identitäten von Leistungserbringern oder Leistungserbringerinstitutionen sicher bestätigen zu lassen ohne eigene Authentisierungsmechanismen zu implementieren.</p>
  <p id="polarion_39"> <span style="color: #000000;">Anwendungsfrontends können über die Authentifizierung des Nutzers am IDP-Dienst Zugriff zu den von den Fachdiensten angebotenen Daten erhalten. Der IDP-Dienst stellt durch gesicherte JSON Web Token (JWT) attestierte Identitäten aus. Gegen Vorlage eines <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>&nbsp;<span style="font-family: Arial, Helvetica;">erhalten Anwendungsfrontends, entsprechend der im Token attestierten </span><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span><span style="font-family: Arial, Helvetica;">, Zugriff auf die Inhalte der Fachdienste.</span></span> </p>
  <p id="polarion_46" style="text-align: center;"> <span style="font-family: Arial, Helvetica;color: #000000;"><img src="attachments/IdP-einfache-Übersich-aktuell-FD.png" style="width: 650px;height: 353px;" data-lastmodified="2020-08-06T10:00:46.842+02:00"></span> </p>
  <p id="polarion_73" style="text-align: center;"></p>
  <p id="polarion_78" style="text-align: center;"> <span style="font-family: Arial, Helvetica;color: #000000;"> </span> </p>
  <p id="polarion_90" style="text-align: center;" class="polarion-rte-caption-paragraph"> <span style="color: #000000;">Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">3</span>: Systemüberblick (vereinfacht)</span> </p>
  <p id="polarion_95"></p>
  <p id="polarion_96"> <span style="color: #000000;">Die Abbildung stellt den Systemüberblick dar. Der Authentifizierungsprozess, welcher mit der Ausstellung und Übergabe der Token an das Anwendungsfrontend endet, wird dabei zur besseren Übersicht vereinfacht dargestellt.</span> </p>
  <p id="polarion_98" class="MsoNormal"> <span style="color: #000000;">Der IDP-Dienst übernimmt für den Fachdienst die Aufgabe der Authentisierung des Nutzers. Der IDP-Dienst fasst die professionOID sowie weitere für den Fachdienst notwendige Attribute in signierten JSON Web Token (<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN und</span><span style="font-family: Arial, Helvetica;"> </span><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>) zusammen. Fachdienste müssen keine Überprüfung des Nutzers selbst implementieren, sondern können sich darauf verlassen, dass der Besitzer des bei ihnen vorgetragenen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>bereits authentisiert wurde. Des Weiteren stellt der IDP-Dienst sicher, dass die vom Nutzer vorgetragenen Attribute (aus dem Signaturzertifikat) gültig sind.</span> </p>
  <p id="polarion_99" class="MsoNormal"> <span style="color: #000000;">Der IDP-Dienst prüft, ob das vorgetragene X.509-nonQES-Signatur-Zertifikat der verwendeten Prozessor-Chipkarte (eGK, HBA oder SMC-B) für die vorgesehene Laufzeit des Tokens zeitlich gültig und ob dessen Integrität sichergestellt&nbsp;ist.</span> </p>
  <p id="polarion_151" class="MsoNormal"> <span style="color: #000000;">Der IDP-Dienst stellt nur solche <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> aus, welche auf gültigen AUT-Zertifikaten (d.h. C.CH.AUT, C.HP.AUT oder C.HCI.AUT) basieren.</span> </p>
  <p id="polarion_166" class="MsoNormal"> <span style="color: #000000;">Fachdienste, welche den IDP-Dienst nutzen, müssen die folgenden Prozesse und Schnittstellen bedienen:</span> </p>
  <ul id="polarion_167"> 
   <li><span style="color: #000000;">Registrierung des Fachdienstes beim IDP-Dienst&nbsp;(organisatorischer Prozess gemäß Abschnitt <span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-104117" data-option-id="shortoutline"></span>)</span></li> 
   <li><span style="color: #000000;">Abstimmen der Claims (Key/Value-Paare im Payload eines JSON Web Token)&nbsp;mit dem IDP-Dienst&nbsp;(organisatorischer Prozess gemäß Abschnitt <span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-104231" data-option-id="shortoutline"></span>)</span></li> 
   <li><span style="color: #000000;">Abstimmen der Rahmenbedingungen für die Gültigkeit von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>&nbsp;(siehe Abschnitt <span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-104237" data-option-id="shortoutline"></span>)</span></li> 
  </ul>
  <p id="polarion_169"> <span style="color: #000000;">Alle Fachdienste müssen zur Absicherung der JSON Web Token gegen Einsichtnahme durch Dritte den Transportweg mit Transport Layer Security (TLS) gemäß [gemSpec_Krypt] absichern. Der Fachdienst muss sowohl im Internet, als auch innerhalb der TI über ein überprüfbares TLS-Serverzertifikat verfügen.&nbsp;<span id="polarion-comment:671"></span></span> </p>
  <p id="polarion_171" class="MsoNormal"> <span style="color: #000000;">Fachdienste sind ebenfalls Nutzer des IDP-Dienstes als Resource Server und sind bei diesem organisatorisch als OAuth2.0 Client registriert. Sie verwenden die vom IDP-Dienst ausgegebenen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">,</span> um Nutzern Zugriff auf die von ihnen bereitgestellten geschützten Ressourcen, die Fachdaten, zu gewähren.</span> </p>
  <p id="polarion_192"></p>
  <p id="polarion_197"> <span style="color: #FF0000;"><span id="polarion-comment:628"></span></span><span style="color: #000000;">Der Systemkontext besteht für den Fachdienst aus dem IDP-Dienst und dem Anwendungsfrontend.</span> </p>
  <p id="polarion_81"> <span style="font-size: 10pt;color: #000000;line-height: 1.5;">Die vom Fachdienst angebotene Schnittstelle, um Fachdaten zu erhalten, wird vom Anwendungsfrontend, welches auf dem Endgerät des Nutzers installiert ist, genutzt. Nutzer wollen über das Anwendungsfrontend Daten vom Fachdienst zur Anzeige, Änderung etc. erhalten. Die Authentisierung des Nutzers wird anhand einer Smartcard und der Auswertung des vom Authenticator-Modul an den IDP-Dienst übergebenen Authentifizierungszertifikats (aus der Smartcard) sichergestellt. </span> </p>
  <p id="polarion_198"> <span style="color: #000000;">Der Fachdienst muss beim IDP-Dienst eine organisatorische Registrierung durchführen, bei der die vom Fachdienst erwarteten Werte, welche ein <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> für einen Zugriff auf die Fachdaten des Fachdienstes enthalten muss, hinterlegt werden.</span> </p>
  <p id="polarion_199"> <span style="color: #000000;">Das Anwendungsfrontend erlangt nach Vorlage des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> und positiver Validierung der Inhalte des Tokens durch den Fachdienst Zugang zu den angeforderten Fachdaten.</span> </p>
  <p id="polarion_82"></p>
  <p id="polarion_200"> <span style="color: #000000;">Die folgende Abbildung stellt den Systemkontext aus Sicht eines Fachdienstes dar. Eine Kommunikationsbeziehung besteht nur mit dem Identity Provider und dem Anwendungsfrontend.</span> </p>
  <p id="polarion_201" style="text-align: center;"> <span style="color: #000000;"><img src="attachments/Systemkoontext-Fachdienst.png" style="width: 517px;height: 294px;" data-lastmodified="2020-07-28T07:51:29.183+02:00"></span> </p>
  <p id="polarion_202" style="text-align: center;" class="polarion-rte-caption-paragraph"> <span style="color: #000000;">Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">4</span>: Systemkontext aus Sicht des Fachdienstes</span> </p>
  <p id="polarion_203"></p>
  <p id="polarion_85"> <span style="font-size: 10pt;color: #FF0000;line-height: 1.5;"> </span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104117">5.1 Registrierung des Fachdienstes beim IDP-Dienst</h3>
  <p id="polarion_234" class="MsoNormal"> Fachdienste müssen sich beim IDP-Dienst registrieren. Die Registrierung erfolgt als organisatorischer Prozess, bevor ein Fachdienst am vom IDP-Dienst angebotenen Authentifizierungsprozess teilnehmen kann. Erst nach erfolgter Registrierung, bei der die Adresse des Fachdienstes, sein öffentlicher Schlüssel und die von ihm erwarteten Attribute, in Form von Claims, angegeben wurden, kann der IDP-Dienst <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> für den Zugriff zum Fachdienst ausstellen.&nbsp; </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-110383">
   <p><b>A_20295</b></p>
   <p>Der&nbsp;Anbieter des Fachdienstes&nbsp;<span style="font-weight: normal;">MUSS,&nbsp;</span>um die Erreichbarkeit des Fachdienstes zu gewährleisten, entsprechende Adressen im TI-Namensraum beantragen. In Fällen, in denen der Fachdienst ebenfalls aus dem Internet erreichbar sein soll, <span style="font-weight: normal;">MUSS</span> der Anbieter des Fachdienstes neben der TI-internen auch die notwendigen öffentlichen Adressen bei einem Internet Service Provider (ISP) seiner Wahl beantragen. <b>&lt;=</b></p>
  </div>
  <p id="polarion_74"> <span style="font-style: italic;">Hinweis:<br> Die Beantragung beinhaltet eine sprechende Fachdienstbezeichnung. Die URI des Fachdienstes <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">URI_FD</span> <span style="font-weight: normal;">muss&nbsp;</span>dem Authorization Server, welcher Teil des IDP-Dienstes ist, bekanntgegeben werden.&nbsp;</span> </p>
  <p id="polarion_77"></p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-112008">
   <p><b>A_20739</b></p>
   <p>Anbieter von Fachdiensten <span style="font-weight: normal;">MÜSSEN</span> bei der Registrierung ihrer Fachdienste am IDP-Dienst die von ihnen erwarteten Attribute in einem Claim (siehe Abschnitt&nbsp;<span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-104231" data-option-id="longoutline"></span>&nbsp;)&nbsp;beschreiben und dem IDP-Dienst zur Verfügung stellen. Die Registrierung <span style="font-weight: normal;">MUSS</span> ebenso die absoluten URI des Fachdienstes in der TI sowie im Internet – wenn der Fachdienst auch im Internet erreichbar sein muss – umfassen. <b>&lt;=</b></p>
  </div>
  <p id="polarion_88"> <span style="font-style: italic;">Hinweis: Als Claims werden Key/Value-Paare im Payload eines JWT bezeichnet. Ein vereinbarter Claim sagt aus, welche Key/Value-Paare im Payload erwartet werden. Die Vereinbarung wird zwischen dem Fachdienst und dem IDP-Dienst während der Registrierung des Fachdienstes getroffen. Anwendungsfrontends, welche Zugang zum Fachdienst erhalten wollen, müssen die geforderten Claims liefern.</span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-104231">5.1.1 Inhalte des Claims</h4>
  <p id="polarion_42" class="MsoNormal">Der Payload eines JSON Web Tokens beinhaltet Key/Value-Paare, welche als Claims bezeichnet werden. Inhalte eines Claims sind die Attribute, welche der IDP-Dienst auf Basis der vorgetragenen Identität aus deren Signaturzertifikat extrahieren kann. Als Basis kommen eGK [gemSpec_PKI # Abschnitt 5.1.3.1 Authentisierung eGK] und HBA [gemSpec_PKI # Abschnitt 5.2.1 Authentisierung HBA] bzw. SMC-B [gemSpec_PKI # 5.3 Ausweis einer Organisation/Einrichtung des Gesundheitswesens] in Frage. Davon abgesehen könnten zukünftig auch Identitäten, welche in einem eigenen oder externen Identity Management gehalten werden, vom IDP-Dienst bestätigt werden.</p>
  <p id="polarion_17"></p>
  <p id="polarion_43" class="MsoNormal">Die Claims beinhalten die für diesen Fachdienst abgestimmten Attribute (die Claims werden pro Fachdienst in einem organisatorischen Prozess gesondert vom jeweiligen Fachdienst mit dem IDP-Dienst abgestimmt) und den Wertebereich, welchen diese annehmen können.</p>
  <p id="polarion_68" class="MsoNormal"> Neben den im Standard vorgesehenen Attributen (siehe <a href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken" target="_top">openid-connect-core-1_0.html#IDToken</a>) erwarten Fachdienste weitere Attribute, welche vom Standard nicht bereitgestellt werden. </p>
  <p id="polarion_69" class="MsoNormal">Im Falle des E-Rezept-Dienstes sind dies z. B.:</p>
  <p id="polarion_104" class="MsoNormal">Für Versicherte (eGK):</p>
  <ul id="polarion_38"> 
   <li>Rolle des Nutzers (oid_Versicherter, siehe [gemSpec_OID # Tab_PKI_402])</li> 
   <li>ID des Nutzers (KVNR)</li> 
   <li>Vorname und Nachname der Person</li> 
  </ul>
  <p id="polarion_130" class="MsoNormal">Für Leistungserbringer (SMC-B LEI):</p>
  <ul id="polarion_41"> 
   <li>Rolle des Nutzers (OID-Festlegung Institutionen, siehe [gemSpec_OID #Tab_PKI_403])</li> 
   <li>ID des Nutzers (Telematik-ID)</li> 
   <li>Bezeichnung der Organisation</li> 
  </ul>
  <p id="polarion_135" class="MsoNormal"> Das Attribut <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span> beschreibt, wer den&nbsp;<span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> ausgestellt hat. </p>
  <p id="polarion_136" class="MsoNormal"> Das Attribut <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span> beschreibt das Subjekt, mit welchem der Fachdienst kommuniziert. Anhand dieses Attributes lassen sich Vorgänge einer bestimmen Entität zuordnen. </p>
  <p id="polarion_137" class="MsoNormal"> Das Attribut<span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"> </span><span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> beschreibt die Rolle der agierenden Entität und ist im Falle eines Versicherten immer mit der OID eines Versicherten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">oid_Versicherter</span> befüllt. Im Falle eines Leistungserbringers oder einer Leistungserbringerinstitution wird hier die sektorspezifische <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> gemäß [gemSpec_OID # Tab_PKI_402] bzw. [gemSpec_OID # Tab_PKI_403] eingesetzt.&nbsp; </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-111634">
   <p><b>A_20676</b></p>
   <p>Fachdienste <span style="font-weight: normal;">MÜSSEN</span> die im Claim benötigten, anforderbaren Informationen über den Nutzer bei ihrer Registrierung beim IdP-Dienst angeben. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124948">
   <p><b>A_20297-03</b></p>
   <p>Fachdienste MÜSSEN bei ihrer Registrierung am IDP-Dienst sicherstellen, dass&nbsp;<span style="font-size: 10pt;line-height: 1.5;">für Versicherte mit einer eGK als Nutzer</span>&nbsp;die fachlich benötigten Attribute aus der folgenden Auswahl als Claims beantragt werden. Standardclaims sind mit "public", eigene Claims mit "private" gekennzeichnet:<br> <br> <p data-keep-next="true" class="polarion-rte-caption-paragraph" style="text-align: left;" id="polarion___4"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">5</span>: TAB_IDP_FD_0003 Inhalte der Claims für Versicherte </p> 
    <table id="polarion_wiki macro name=table;params=width=100%|uid=client2" class="polarion-Document-table" style="width: 100%;margin-left: 0px;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
     <tbody> 
      <tr> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 419px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;">Attribut</th> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 1227px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;">Inhalt</th> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beinhaltet die URL des IDP-Dienstes als HTTPS-Adresse mit Pfad und Angabe des Ports, wenn dieser vom Standard abweicht. Zusätzliche Query-Parameter sind nicht erlaubt.<br> </td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beinhaltet einen Identifikator. Es werden 3 Eingangswerte verwendet: der Fachdienstidentifier (konfiguriert), ein Fachdienst-spezifischer Salt (konfiguriert) und der Claim <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span>.<br> Diese Eingangswerte werden verkettet in der Reihenfolge: Fachdienstidentifier, Claim <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span> und Fachdienst-spezifischer Salt.&nbsp;Dieser verkettete Text wird mit SHA-256 gehasht, das Ergebnis ist der Claim <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span>.<br> SHA256 (<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">fd_identifier</span> + <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span> + <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">fd_salt</span>)<br> Dieser zusammengesetzte Wert wird nach der pairwise-Methode [<a href="https://openid.net/specs/openid-connect-core-1_0.html#PairwiseAlg" target="_top" class="descriptionLink">openid-connect-core-1_0 # PairwiseAlg</a>] vom IDP-Dienst zusammengestellt.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">nonce</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beinhaltet einen Zufallswert, welchen der IDP-Dienst nach den Vorgaben des Anwendungsfrontends befüllt&nbsp;und anhand dessen das Anwendungsfrontend seine Vorgänge unterscheiden und zuordnen kann. (Dieser Claim ist nur in <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> enthalten.)</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">acr</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 39px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Authentication Context Class Reference gemäß [<a href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken" target="_top" class="descriptionLink">openid-connect-core-1_0 # IDToken</a>] mit dem konkreten Wert&nbsp;"gematik-ehealth-loa-high".</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">amr</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Authentication Method Reference gemäß [<a href="https://tools.ietf.org/html/rfc8176" target="_top" class="descriptionLink">https://tools.ietf.org/html/rfc8176</a>] und [<a href="https://openid.net/specs/openid-connect-modrna-authentication-1_0.html" target="_top" class="descriptionLink">https://openid.net/specs/openid-connect-modrna-authentication-1_0.html</a>]</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">aud</span> (public)<br> </td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Hier sind gemäß [<a href="https://tools.ietf.org/html/rfc7519#section-4.1.3" target="_top" class="descriptionLink">RFC7519 # section-4.1.3</a>] entweder die URI des Fachdienstes oder ein entsprechender eindeutiger String eingetragen, die bzw. der den Fachdienst identifiziert.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 47.6px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID<br> </span> (private)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 47.6px;border: 1px solid #CCCCCC;padding: 5px;">Beinhaltet die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> des Versicherten gemäß [gemSpec_OID#Tab_PKI_402].</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">given_name</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;">Vorname des Versicherten: der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat oder dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> eines sektoralen Identity Provider aus.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">family_name</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;">Nachname des Versicherten:&nbsp;der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat oder dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> eines sektoralen Identity Provider aus.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">organizationName</span> (private)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;">ID oder Name der bestätigenden Stelle: der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat oder dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> eines sektoralen Identity Provider aus.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span>&nbsp;(private)</td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;">Beinhaltet die KVNR des Versicherten:&nbsp;der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat oder dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> eines sektoralen Identity Provider aus.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 419px;height: 23.6px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jti</span></td> 
       <td style="text-align: left;vertical-align: top;width: 1227px;height: 23.6px;border: 1px solid #CCCCCC;padding: 5px;">ID des Token</td> 
      </tr> 
     </tbody> 
    </table> <b>&lt;=</b></p>
  </div>
  <p id="polarion_133"> <span style="font-style: italic;">Hinweise:</span> </p>
  <ul id="polarion_138"> 
   <li><span style="font-style: italic;">Die Befüllung des Claim erfolgt grundsätzlich gemäß <span style="font-weight: bold;"> </span>[<a href="https://tools.ietf.org/html/rfc7519#section-4" target="_top">rfc7519 # section-4</a>]<br> </span></li> 
   <li><span style="font-style: italic;">Beispiel-Wert des Attributes <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span>: <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">"<span style="font-size: 10pt;line-height: 1.5;">https://idp.zentral.idp.splitdns.ti-dienste.de</span>"</span><span style="font-size: 12pt;font-family: 'Courier New', Courier, monospace, HanWangKanTan;line-height: 1.5;"> </span></span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span> wird durch den IDP-Dienst befüllt.</span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">aud</span> enthält die eindeutige URI des Fachdienstes oder einen beim IDP-Dienst ausschließlich diesem Fachdienst zugesprochenen Wert z. B. <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">E-Rezept</span> oder <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">eRp</span>.</span></li> 
   <li><span style="font-style: italic;">Das Attribut&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> des Versicherten wird durch den IDP-Dienst befüllt.</span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jti</span></span> <span style="font-style: italic;">kann als eindeutiger Identifikator für einen Replay-Schutz genutzt werden.&nbsp;Anhand des Attributs<span style="font-weight: bold;"> </span><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jti</span> lassen sich<span style="font-weight: bold;"> <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span></span> und<span style="font-weight: bold;"> <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">SSO_</span></span><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">TOKEN</span><span style="font-weight: bold;"> </span>einem bestimmten Vorgang zuordnen.<span id="polarion-comment:623"></span></span></li> 
  </ul>
  <p id="polarion_139"> Der Aufbau von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> entspricht [gemSpec_IDP_Dienst#Kapitel 7.6 Token Response].<span id="polarion-comment:622"></span> </p>
  <p id="polarion_127"></p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-116955">
   <p><b>A_20505-02</b></p>
   <p>Fachdienste <span style="font-weight: normal;">MÜSSEN</span>&nbsp;bei ihrer Registrierung am IDP-Dienst sicherstellen, dass <span style="font-size: 10pt;line-height: 1.5;">für Leistungserbringer mit einer HBA als Nutzer die fachlich benötigten Attribute aus der folgenden Auswahl als Claims beantragt werden - Standardclaims sind mit "public", eigene Claims mit "private" gekennzeichnet:<br> <br> </span> <p data-keep-next="true" class="polarion-rte-caption-paragraph" style="text-align: left;" id="polarion___5"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">6</span>: TAB_IDP_FD_0004 Inhalte des Claims für Leistungserbringer (HBA) </p> 
    <table id="polarion_wiki macro name=table;params=width=100%|uid=client2" class="polarion-Document-table" style="width: 100%;margin-left: 0px;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
     <tbody> 
      <tr> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 114px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Attribut</th> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 466.8px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Inhalt</th> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beinhaltet die URL des IDP-Dienstes als HTTPS-Adresse mit Pfad und Angabe des Ports, wenn dieser vom Standard abweicht. Zusätzliche Query-Parameter sind nicht erlaubt.<br> </td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beinhaltet einen Identifikator. Es werden 3 Eingangswerte verwendet: der Fachdienstidentifier (konfiguriert), ein Fachdienst-spezifischer Salt (konfiguriert) und der Claim <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span>.<br> Diese Eingangswerte werden verkettet in der Reihenfolge: Fachdienstidentifier, Claim <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span> und Fachdienst-spezifischer Salt.&nbsp;Dieser verkettete Text wird mit SHA-256 gehasht, das Ergebnis ist der Claim <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span>.<br> SHA256 (<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">fd_identifier</span> + <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer </span>+ <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">fd_salt</span>)<br> Dieser zusammengesetzte Wert wird nach der pairwise-Methode [<a href="https://openid.net/specs/openid-connect-core-1_0.html#PairwiseAlg" target="_top" class="descriptionLink">openid-connect-core-1_0 # PairwiseAlg</a>] vom IDP-Dienst zusammengestellt.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">nonce</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beinhaltet einen Zufallswert, welchen der IDP-Dienst nach den Vorgaben des Anwendungsfrontends bzw. Primärsystems befüllt&nbsp;und anhand dessen das Primärsystem seine Vorgänge unterscheiden kann.&nbsp;(Dieser Claim ist nur in <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> enthalten.)</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">acr</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Authentication Context Class Reference gemäß [<a href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken" target="_top" class="descriptionLink">openid-connect-core-1_0 # IDToken</a>] mit dem konkreten Wert&nbsp;"gematik-ehealth-loa-high".</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">amr</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Authentication Method Reference gemäß [<a href="https://tools.ietf.org/html/rfc8176" target="_top" class="descriptionLink">https://tools.ietf.org/html/rfc8176</a>] und&nbsp;[<a href="https://openid.net/specs/openid-connect-modrna-authentication-1_0.html" target="_top" class="descriptionLink">https://openid.net/specs/openid-connect-modrna-authentication-1_0.html</a>]</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">aud</span> (public)<br> </td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Hier sind gemäß [<a href="https://tools.ietf.org/html/rfc7519#section-4.1.3" target="_top" class="descriptionLink">RFC7519 # section-4.1.3</a>] entweder die URI des Fachdienstes oder ein entsprechender eindeutiger String eingetragen, die bzw. der den Fachdienst identifizieren.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> (private)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beinhaltet die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> des Leistungserbringers gemäß [gemSpec_OID&nbsp;# Tab_PKI_402].</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">given_name</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Vorname des Leistungserbringers: der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat aus.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">family_name</span> (public)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Nachname des Leistungserbringers: der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat aus.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">organizationName</span> (private)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">leer -&nbsp;Der Wert des Claims ist immer NULL, da der Wert im AUT-Zertifikat immer leer ist. <span style="font-size: 10pt;line-height: 1.5;">Der NULL-Wert darf nicht zur Ablehnung des Tokens durch den Fachdienst führen.</span></td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span> (private)</td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beinhaltet die Telematik-ID des Leistungserbringers: der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat aus.</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 114px;height: 23.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jti</span></td> 
       <td style="text-align: left;vertical-align: top;width: 466.8px;height: 23.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">ID des Token</td> 
      </tr> 
     </tbody> 
    </table> <br> <b>&lt;=</b></p>
  </div>
  <p id="polarion_128"> <span style="font-style: italic;">Hinweise:</span> </p>
  <ul id="polarion_75"> 
   <li><span style="font-style: italic;">Die Befüllung des Claims erfolgt grundsätzlich gemäß<span style="font-weight: normal;"> [</span><a href="https://tools.ietf.org/html/rfc7519#section-4" target="_top">rfc7519 # section-4</a><span style="font-weight: normal;">]</span><br> </span></li> 
   <li><span style="font-style: italic;">Beispiel-Wert des Attributs <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span>: <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">"https://erp.telematik/pfad/login"</span><span style="font-size: 12pt;font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #000000;background-color: #FFFFFF;line-height: 1.5;"> </span></span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span> wird durch den IDP-Dienst befüllt.</span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">aud</span> beschreibt den Fachdienst durch dessen eindeutige URI oder einen beim IDP-Dienst ausschließlich diesem Fachdienst zugesprochenen Wert z.B. <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">E-Rezept</span> oder <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">eRP</span>.</span></li> 
   <li><span style="font-style: italic;">Das Attribut&nbsp;<span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> des Leistungserbringers wird durch den IDP-Dienst befüllt. Andere als die in dieser Tabelle gemäß [gemSpec_OID # Tab_PKI_402] aufgeführten OID sind in diesem Attribut nicht zulässig.</span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span> wird mit den Informationen aus dem Signaturzertifikat durch den IDP-Dienst befüllt.</span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jti</span></span> <span style="font-style: italic;">kann als eindeutiger Identifikator für einen Replay-Schutz genutzt werden. Anhand des Attributs <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jti</span> lassen sich Zugriffs- und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">SSO-TOKEN</span> einem bestimmten Vorgang zuordnen.</span> </li> 
  </ul>
  <p id="polarion_179" class="MsoNormal"> Der Aufbau von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> entspricht [gemSpec_IDP_Dienst#Kapitel 7.6 Token Response]. </p>
  <p id="polarion_36">Das Claim einer Leistungserbringerinstitution beschreibt nicht die Entität, welche im Namen der Institution agiert, sondern die Institution selbst.</p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-125077">
   <p><b>A_20506-03</b></p>
   <p>Fachdienste MÜSSEN bei ihrer Registrierung am IDP-Dienst sicherstellen, dass <span style="font-size: 10pt;line-height: 1.5;">für Leistungserbringerinstitutionen mit einer SMC-B für Nutzer die fachlich benötigten Attribute aus der folgenden Auswahl als Claims beantragt werden (Standardclaims sind mit "public", eigene Claims mit "private" gekennzeichnet):<br> <br> </span> <br> <p data-keep-next="true" class="polarion-rte-caption-paragraph" id="polarion___6"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">7</span>: AB_IDP_FD_0005 Inhalte des Claim für Leistungserbringerinstitutionen (SMC-B) </p> 
    <table id="polarion_wiki macro name=table;params=width=100%|uid=client2" class="polarion-Document-table" style="width: 100%;margin-left: 0px;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
     <tbody> 
      <tr> 
       <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 148px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;font-size: 10pt;line-height: 1.5;">Attribut</span></th> 
       <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 584px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-weight: normal;font-size: 10pt;line-height: 1.5;">Inhalt</span></th> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 34px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span> (public)</span></td> 
       <td style="width: 584px;height: 34px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Beinhaltet die URL des IdP-Dienstes als HTTPS-Adresse mit Pfad und Angabe des Ports, wenn dieser vom Standard abweicht. Zusätzliche Query-Parameter sind nicht erlaubt.<br> </span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span> (public)</span></td> 
       <td style="width: 584px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Beinhaltet einen Identifikator. Es werden 3 Eingangswerte verwendet: der Fachdienst-Identifier (konfiguriert), ein Fachdienst-spezifischer Salt (konfiguriert) und der Claim <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span>.<br> Diese Eingangswerte werden verkettet in der Reihenfolge: Fachdienst-Identifier, Claim <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span> und Fachdienst-spezifischer Salt.&nbsp;Dieser verkettete Text wird mit SHA-256 gehasht. Das Ergebnis ist der Claim <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span>.<br> SHA256 (<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">fd_identifier </span>+ <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer </span>+ <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">fd_salt</span>)<br> Dieser zusammengesetzte Wert wird nach der pairwise-Methode [<a href="https://openid.net/specs/openid-connect-core-1_0.html#PairwiseAlg" target="_top" class="descriptionLink">openid-connect-core-1_0 # PairwiseAlg</a>] vom IDP-Dienst zusammengestellt.</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 47px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">nonce</span> (public)</span></td> 
       <td style="width: 584px;height: 47px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Beinhaltet einen Zufallswert, welchen der IDP-Dienst nach den Vorgaben des Anwendungsfrontends befüllt&nbsp;und anhand dessen das Anwendungsfrontend seine Vorgänge unterscheiden kann.&nbsp;(Dieser Claim ist nur in <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> enthalten.)</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 47.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">acr</span> (public)</span></td> 
       <td style="width: 584px;height: 47.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Authentication Context Class Reference gemäß [<a href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken" target="_top" class="descriptionLink">openid-connect-core-1_0 # IDToken</a>] mit dem konkreten Wert&nbsp;"gematik-ehealth-loa-high".</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 47.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">amr</span> (public)</span></td> 
       <td style="width: 584px;height: 47.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Authentication Method Reference gemäß&nbsp;&nbsp;[<a href="https://tools.ietf.org/html/rfc8176" target="_top" class="descriptionLink">https://tools.ietf.org/html/rfc8176</a>] und [<a href="https://openid.net/specs/openid-connect-modrna-authentication-1_0.html" target="_top" class="descriptionLink">https://openid.net/specs/openid-connect-modrna-authentication-1_0.html</a>]</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 47.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">aud</span> (public)<br> </span></td> 
       <td style="width: 584px;height: 47.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Hier sind gemäß [<a href="https://tools.ietf.org/html/rfc7519#section-4.1.3" target="_top" class="descriptionLink">RFC7519 # section-4.1.3</a>] entweder die URI des Fachdienstes oder ein entsprechender eindeutiger String eingetragen, die bzw. der den Fachdienst identifizieren.</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> (private)</span></td> 
       <td style="width: 584px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Beinhaltet die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> der Leistungserbringerinstitution gemäß [gemSpec_OID#Tab_PKI_403].</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">given_name</span> (public)</span></td> 
       <td style="width: 584px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Vorname des Verantwortlichen/Inhabers: der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat aus.&nbsp;Sollte der Wert nicht im Zertifikat vorhanden sein, wird der Wert des Claims mit NULL gefüllt. Der NULL-Wert darf nicht zur Ablehnung des Tokens durch den Fachdienst führen.</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">family_name</span> (public)</span></td> 
       <td style="width: 584px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Nachname des Verantwortlichen/Inhabers: der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat aus.&nbsp;Sollte der Wert nicht im Zertifikat vorhanden sein, wird der Wert des Claims mit NULL gefüllt. Der NULL-Wert darf nicht zur Ablehnung des Tokens durch den Fachdienst führen.</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">organizationName</span> (private)</span></td> 
       <td style="width: 584px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Beinhaltet die Bezeichnung der Institution, so wie diese im nonQES-Signaturzertifikat im Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">subject/commonName</span> <span id="polarion-comment:621"></span>eingetragen ist.&nbsp;Der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat aus.&nbsp;Sollte der Wert nicht im Zertifikat vorhanden sein, wird der Wert des Claims mit NULL gefüllt. Der NULL-Wert darf nicht zur Ablehnung des Tokens durch den Fachdienst führen.</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span> (private)</span></td> 
       <td style="width: 584px;height: 39.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Beinhaltet die Telematik-ID der Leistungserbringerinstitution: der IDP-Dienst liest dies aus dem nonQES-Signaturzertifikat aus.</span></td> 
      </tr> 
      <tr> 
       <td style="width: 148px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;font-family: 'Courier New', Courier, monospace, HanWangKanTan;line-height: 1.5;">jti</span></td> 
       <td style="width: 584px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">ID des Token</span></td> 
      </tr> 
     </tbody> 
    </table> <b>&lt;=</b></p>
  </div>
  <p id="polarion_129"> <span style="font-style: italic;">Hinweise:</span> </p>
  <ul id="polarion_52"> 
   <li><span style="font-style: italic;">Die Befüllung des Claims erfolgt grundsätzlich gemäß<span style="font-weight: normal;"> [</span><a href="https://tools.ietf.org/html/rfc7519#section-4" target="_top">rfc7519 # section-4</a><span style="font-weight: normal;">]</span><br> </span></li> 
   <li><span style="font-style: italic;">Beispiel-Wert des Attributs <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span>: <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">"https://erp.telematik/pfad/login"</span><span style="font-size: 12pt;font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #000000;background-color: #FFFFFF;line-height: 1.5;"> </span></span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span> wird durch den IDP-Dienst befüllt.</span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">aud</span> beschreibt den Fachdienst durch dessen eindeutige URI oder einen beim IDP-Dienst ausschließlich diesem Fachdienst zugesprochenen Wert z.B. <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">e-Rezept</span> oder <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">eRp</span>.</span></li> 
   <li><span style="font-style: italic;">Das Attribut&nbsp;<span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> der Leistungserbringerinstitution wird durch den IDP-Dienst befüllt. Andere als die in dieser Tabelle gemäß [gemSpec_OID # Tab_PKI_403] aufgeführten OID sind in diesem Attribut nicht zulässig.</span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span> wird mit den Informationen aus dem Signaturzertifikat durch den IDP-Dienst befüllt.</span></li> 
   <li><span style="font-style: italic;">Das Attribut <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jti</span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"> </span>kann als eindeutiger Identifikator für einen Replay-Schutz genutzt werden. Anhand des Attributes <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jti</span> lassen sich <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">SSO_TOKEN</span> einem bestimmten Vorgang zuordnen.</span></li> 
  </ul>
  <p id="polarion_57"> Der Aufbau von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> entspricht [gemSpec_IDP_Dienst#Kapitel 7.6 Token Response]. </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104232">5.2 Blacklisting von Client-IP-Adressen</h3>
  <p id="polarion_84" class="MsoNormal"> Bekommt ein Fachdienst Kenntnis davon, dass ein <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> zur Durchführung eines Angriffs, z. B. einer Distributed Denial of Service DDOS-Attacke (DDOS), verwendet wird, <span style="font-weight: normal;">muss </span>der Fachdienst die IP-Adresse des Absenders in eine Blacklist eintragen, um sich vor weiteren <span style="font-size: 10pt;line-height: 1.5;">Angriffen von dieser Adresse ausgehend</span> zu schützen. Der Fachdienst muss diese IP-Adresse nach einer Stunde&nbsp;wieder aus der Blacklist entfernen, wenn von der gefilterten IP-Adresse keine weiteren Angriffe mehr verzeichnet werden, damit im Falle dynamisch vergebener IP-Adressen diese wieder genutzt werden kann. </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-108502">
   <p><b>A_20019</b></p>
   <p><span style="font-weight: normal;">Der Fachdienst MUSS eine Blacklist führen, in welcher er IP-Adressen oder ganze Subnetze einträgt, wenn Angriffsszenarien von diesen Adressen oder Netzen erfolgen.</span><span style="font-weight: bold;"> </span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-108501">
   <p><b>A_20020</b></p>
   <p><span style="font-weight: normal;">Fachdienste MÜSSEN Host-Adressen mit einer Verzögerung von einer Stunde aus der Blacklist streichen, wenn von der gefilterten IP-Adresse keine weiteren Angriffe mehr verzeichnet werden.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-111191">
   <p><b>A_20631</b></p>
   <p>Fachdienste DÜRFEN Netzadressen NICHT aus der Blacklist streichen, wenn es sich hierbei um Blacklisting auf Basis von Geo-IP-Adressbereichen handelt. <b>&lt;=</b></p>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104236">5.3 "ACCESS_TOKEN"</h3>
  <p id="polarion_194" class="MsoNormal"> Der IDP-Dienst stellt den authentifizierten&nbsp;Entitäten <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> aus, mit welchen diese den Zugriff auf die im Claim des Fachdienstes bereitgestellten Systeme realisieren können. </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-110487">
   <p><b>A_20362</b></p>
   <p><span style="font-weight: normal;font-family: Arial, Helvetica;">Fachdienste MÜSSEN&nbsp;die gemäß [<a href="https://tools.ietf.org/html/rfc7519#section-7.1" target="_top" class="descriptionLink">RFC7519 # section-7.1</a>] vorgeschriebene Struktur der</span> <span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span><span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span> gemäß [<a href="https://tools.ietf.org/html/rfc7519#section-7.2" target="_top">RFC7519&nbsp;# section-7.2</a>] validieren.<br> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-116345">
   <p><b>A_20363-01</b></p>
   <p>Der Fachdienst MUSS die für ihn vom Anwendungsfrontend verschlüsselten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> entsprechend dem für diese Übertragung vorgesehenen Verfahren entschlüsseln.&nbsp;<span style="font-weight: bold;font-style: normal;"><br> </span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_121"> <span style="font-style: italic;">Hinweis: Hierbei können je nach Anwendung unterschiedliche Verfahren zum Einsatz kommen. Im Fall des E-Rezeptes wird der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> im Rahmen des VAU-Protokolls übertragen und ist damit ausreichend geschützt.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-110489">
   <p><b>A_20364</b></p>
   <p>Fachdienste <span style="font-weight: normal;">DÜRFEN</span> unverschlüsselt eingehende <span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span><span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span> <span style="font-weight: normal;">NICHT</span> annehmen. <br> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-117674">
   <p><b>A_20365-01</b></p>
   <p>Fachdienste MÜSSEN die Signatur der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> gegen den öffentlichen Schlüssel des Token-Endpunktes&nbsp;<span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span><span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">PUK_IDP_SIG</span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span> prüfen.&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Fachdienste MÜSSEN den öffentlichen Schlüssel <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">PUK_IDP_SIG</span> dabei dem Discovery Document des IDP-Dienstes entnehmen.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-110754">
   <p><b>A_20504</b></p>
   <p>Der Fachdienst <span style="font-weight: normal;">MUSS </span>alle mit dem <span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span><span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span> verbundenen Vorgänge abbrechen, wenn das <span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span><span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span> nicht signiert oder dessen Signatur fehlerhaft ist.<br> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-110492">
   <p><b>A_20367</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Fachdienste MÜSSEN Fehler, welche bei der Annahme des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> entstehen, melden</span>. Die Fehlermeldung MUSS mit dem privaten Schlüssel <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">PRK_FD</span> signiert sein. Die Fehlermeldungen MÜSSEN für den Anwender verständlich formuliert sein. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-116778">
   <p><b>A_20369-01</b></p>
   <p><span style="font-weight: normal;">Der Fachdienst MUSS die im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> übertragenen Attribute mit denen vergleichen, die mit dem IDP-Dienst bei der Registrierung vereinbart wurden und alle mit dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> in Verbindung stehenden Vorgänge abbrechen, wenn dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> für die Verarbeitung notwendige Claims fehlen oder aber andere als die mit dem IDP-Dienst vereinbarten personenbezogenen Attribute vorhanden sind.</span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_63"> <span style="font-style: italic;">Hinweis: Als&nbsp;personenbezogenes Attribute gelten gemäß&nbsp;Tabelle: TAB_IDP_DIENST_0005 die Claims&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">given_name</span>, <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">family_name</span>, <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">organizationName</span>, <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">professionOID</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idNummer</span>.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-110494">
   <p><b>A_20370</b></p>
   <p>Fachdienste <span style="font-weight: normal;">MÜSSEN</span> <span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span><span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span> ablehnen, wenn die in einem Attribut vorgetragenen Werte nicht dem schematisch erwarteten Datentyp des Attributes entsprechen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-110499">
   <p><b>A_20373</b></p>
   <p>Fachdienste MÜSSEN sicherstellen, dass der Zeitraum der Verwendung des Tokens zwischen den im Token mitgelieferten Werten der Attribute&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span> und&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span> liegt. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-110498">
   <p><b>A_20374</b></p>
   <p>Fachdienste MÜSSEN sicherstellen, dass der Zeitraum der Verwendung des Tokens zwischen den im Token mitgelieferten Werten der Attribute <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">nbf</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span> liegt. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-117676">
   <p><b>A_21520</b></p>
   <p>Fachdienste MÜSSEN den Claim&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">aud</span> des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> mit ihrer beim IDP-Dienst registrierten URI prüfen. Nur wenn diese übereinstimmen, gilt diese Prüfung als positiv validiert. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-117678">
   <p><b>A_21521</b></p>
   <p>Fachdienste MÜSSEN die Signatur des Discovery Document&nbsp;mathematisch prüfen und auf ein zeitlich gültiges C.FD.SIG-Zertifikat mit der Rollen-OID&nbsp;<span style="font-style: normal;">oid_idpd</span>&nbsp;zurückführen können, welches von einer ihm bekannten Komponenten-PKI&nbsp;ausgestellt wurde. <b>&lt;=</b></p>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104237">5.4 Abstimmen der Rahmenbedingungen "ACCESS_TOKEN"-Gültigkeit</h3>
  <p id="polarion_175" class="MsoNormal"> Die Registrierung eines Fachdienstes erfolgt in enger Abstimmung zwischen Fachdienst und IDP-Dienst. Fachdienste geben dem IDP-Dienst gegenüber bei der Registrierung an, mit welchen Gültigkeitszeiträumen die&nbsp;<span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> und <span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">SSO_TOKEN</span> ausgestattet werden sollen. Der Fachdienst selbst sieht vor, welche Nutzergruppe&nbsp;generell Zugriff erhalten, indem nur für diese Nutzer Claims vorgesehen sind. <span style="font-size: 10pt;line-height: 1.5;">Registriert beispielsweise ein Fachdienst für die von ihm bereitgestellten Fachdaten kein Claim für Versicherte, können diese am Authorization-Endpunkt auch kein <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> zu diesem Fachdienst erhalten.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-116733">
   <p><b>A_20679-01</b></p>
   <p>Der Anbieter des Fachdienstes&nbsp;<span style="font-weight: normal;">MUSS</span>&nbsp;sich für die Beantragung eines Claims beim IdP-Dienst registrieren, um ein Claim für eine bestimmte Nutzergruppe für seinen Fachdienst zu beantragen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-117040">
   <p><b>A_20375-01</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des Fachdienstes MUSS</span> bei der Registrierung der Claims im Attribut <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">tokenTimeout</span> angeben, welche Lebensdauer das <span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span><span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;"></span>&nbsp;haben soll. <b>&lt;=</b></p>
  </div>
  <p id="polarion_33"> <span id="polarion-comment:669"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-135393|level=1|external=true|anchor=61e0e1b9-c0a8e834-3091c0ed-776fdea6">
   <p><b>A_20503-02</b></p>
   <p><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Der Anbieter des Fachdienstes&nbsp;MUSS&nbsp;bei der Registrierung&nbsp;die&nbsp;folgenden&nbsp;Werte&nbsp;aus den hier vorgegebenen Bereichen&nbsp;angeben.<br style="color: #172B4D;"> Liste der Lebenszyklen der Token registrierter Fachdienste:</span><br> <p data-keep-next="true" class="polarion-rte-caption-paragraph" style="text-align: left;" id="polarion___7"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">8</span>: AB_IDP_FD_0006 Lebenszyklen der Token </p> 
    <table id="polarion_wiki macro name=table;params=width=100%" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
     <tbody> 
      <tr> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 262.836px;height: 17.037px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 157.813px;height: 17.037px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 195.764px;height: 17.037px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 311.667px;height: 17.037px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkung</th> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 262.836px;height: 17.037px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst</td> 
       <td style="text-align: left;vertical-align: top;width: 157.813px;height: 17.037px;border: 1px solid #CCCCCC;padding: 5px;">&lt;String&gt;</td> 
       <td style="text-align: left;vertical-align: top;width: 195.764px;height: 17.037px;border: 1px solid #CCCCCC;padding: 5px;">eRp</td> 
       <td style="text-align: left;vertical-align: top;width: 311.667px;height: 17.037px;border: 1px solid #CCCCCC;padding: 5px;">Name des Fachdienstes</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 262.836px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Lebensdauer&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span><br> (in Sekunden)</span></td> 
       <td style="text-align: left;vertical-align: top;width: 157.813px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">60-900</td> 
       <td style="text-align: left;vertical-align: top;width: 195.764px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">300 sec (= 5Minuten)</td> 
       <td style="text-align: left;vertical-align: top;width: 311.667px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">Die Gültigkeitsdauer der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> darf maximal 15 Minuten betragen</td> 
      </tr> 
      <tr> 
       <td style="text-align: left;vertical-align: top;width: 262.836px;height: 34.0741px;border: 1px solid #CCCCCC;padding: 5px;">Maximale Gültigkeit der Session<br> (in Sekunden)</td> 
       <td style="text-align: left;vertical-align: top;width: 157.813px;height: 34.0741px;border: 1px solid #CCCCCC;padding: 5px;">0-43.200</td> 
       <td style="text-align: left;vertical-align: top;width: 195.764px;height: 34.0741px;border: 1px solid #CCCCCC;padding: 5px;">43.200 (=12 Stunden)</td> 
       <td style="text-align: left;vertical-align: top;width: 311.667px;height: 34.0741px;border: 1px solid #CCCCCC;padding: 5px;">Die Session (Gültigkeitsdauer von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">SSO_TOKEN</span> bzw. <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>)&nbsp; darf maximal 12 Stunden betragen.&nbsp;Für diesen Zeitraum braucht das Authenticator-Modul keine erneute Nutzer-Authentifizierung durchzuführen, um beim IDP-Dienst einen neuen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> für den Fachdienst zu erlangen.</td> 
      </tr> 
     </tbody> 
    </table> <br> <b>&lt;=</b></p>
  </div>
  <p id="polarion_134"> &nbsp;<span id="polarion-comment:670"></span> </p>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-104136">6 Anhang A – Verzeichnisse</h2>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104137">6.1 Abkürzungen</h3>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=1" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 94px;height: 19.6px;border: 1px solid #CCCCCC;padding: 5px;">Kürzel<br> </th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 486.8px;height: 19.6px;border: 1px solid #CCCCCC;padding: 5px;">Erläuterung<br> </th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">AVS</span></td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Apothekenverwaltungssystem</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">DDOS </span></td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Distributed Denial of Service</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">eGK</span></td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">eRp<br> </td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">E-Rezept</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">HBA</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Heilberufsausweis</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">IDP</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Identity Provider</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">ISP</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Internet Service Provider</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">JSON</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">JavaScript Object Notation</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">JWT</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">JSON Web Token</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">KVNR </td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Krankenversichertennummer</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">NFC </td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Near Field Communication</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">OAuth 2.0</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Open Authorization 2.0&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">PIN </td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Personal Identification Number</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">PKI </td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Public Key Infrastructure</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">PVS </td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Praxisverwaltungssystem</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">QES </td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Qualifizierte Elektronische Signatur</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">SMC-B </td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Security Module Card Typ B, Institutionenkarte</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">TI</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Telematikinfrastruktur</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">TLS </td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Transport Layer Security</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">URI</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Uniform Resource Identifier</td> 
    </tr> 
   </tbody> 
  </table>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104138">6.2 Glossar</h3>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=2" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 154px;height: 19.6px;border: 1px solid #CCCCCC;padding: 5px;">Begriff<br> </th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 426.8px;height: 19.6px;border: 1px solid #CCCCCC;padding: 5px;">Erläuterung<br> </th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">Access Token</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"> Ein Access Token (nach [<a href="https://tools.ietf.org/html/rfc6749#section-1.4" target="_top" class="descriptionLink">RFC6749 # section-1.4</a>])&nbsp;wird vom Client (Anwendungsfrontend) benötigt, um auf geschützte Daten eines Resource Servers zuzugreifen. Die Repräsentation kann als JSON Web Token erfolgen.</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">Authorization Server</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">OAuth2 Rolle <span style="font-size: 10pt;line-height: 1.5;">(siehe [<a href="https://tools.ietf.org/html/rfc6749#section-1.1" target="_top" class="descriptionLink">RFC6749 # section-1.1</a>])</span>: Der Authorization Server ist Teil des IDP-Dienstes. Der Server authentifiziert den Resource Owner (Nutzer) und stellt Access Tokens für den vom Resource Owner erlaubten Anwendungsbereich (Scope) für einen Resource Server bzw. eine auf einem Resource Server existierende Protected Resource aus.&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">Claim</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">Ein Key/Value-Paar im Payload eines JSON Web Token.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Client</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"> OAuth2 Rolle (siehe [<a href="https://tools.ietf.org/html/rfc6749#section-1.1" target="_top" class="descriptionLink">RFC6749 # section-1.1</a>]): Eine Anwendung (Relying Party), die auf geschützte Ressourcen des Resource Owners zugreifen möchte, die vom Resource Server bereitgestellt werden. Der Client kann auf einem Server (Webanwendung), Desktop-PC, mobilen Gerät etc. ausgeführt werden.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Discovery Dokument</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Ein OpenID Connect Metadatendokument (siehe [<a href="https://openid.net/specs/openid-connect-discovery-1_0.html" target="_top" class="descriptionLink">openid-connect-discovery 1.0</a>]), das den Großteil der Informationen enthält, die für eine App zum Durchführen einer Anmeldung erforderlich sind. Hierzu gehören Informationen wie z.B. die zu verwendenden URLs und der Speicherort der öffentlichen Signaturschlüssel des Dienstes.</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Funktionsmerkmal</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Der Begriff beschreibt eine Funktion oder auch einzelne, eine logische Einheit bildende Teilfunktionen der TI im Rahmen der funktionalen Zerlegung des Systems.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">ID Token</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Ein auf JSON basiertes und nach [<a href="https://tools.ietf.org/html/rfc7519" target="_top" class="descriptionLink">RFC7519</a>] (JWT) genormtes Identitäts-Token, mit dem ein Client (Anwendungsfrontend) die Identität eines Nutzers überprüfen kann.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Open Authorization 2.0</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"> Ein Protokoll zur Autorisierung für Web-, Desktop und Mobile Anwendungen. Dabei wird es einem Endbenutzer (Resource Owner) ermöglicht, einer Anwendung (Client) den Zugriff auf Daten oder Dienste (Resources) zu ermöglichen, die von einem Dritten (Resource Server) bereitgestellt werden.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">OpenID Connect</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">OpenID Connect (OIDC) ist eine Authentifizierungsschicht, die auf dem Autorisierungsframework OAuth 2.0 basiert. Es ermöglicht Clients, die Identität des Nutzers anhand der Authentifizierung durch einen Autorisierungsserver zu überprüfen (siehe [<a href="https://openid.net/specs/openid-connect-core-1_0.html&nbsp;" target="_top" class="descriptionLink">openid-connect-core 1.0</a>]).</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">JSON Web Token</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"> Ein auf JSON basiertes und nach [<a href="https://tools.ietf.org/html/rfc7519" target="_top" class="descriptionLink">RFC7519</a>] (JWT) genormtes Access-Token. Das JWT ermöglicht den Austausch von verifizierbaren Claims innerhalb seines Payloads.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Resource Owner</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"> OAuth2-Rolle (siehe [<a href="https://tools.ietf.org/html/rfc6749#section-1.1" target="_top" class="descriptionLink">RFC6749 # section-1.1</a>]): Eine Entität (Nutzer), die einem Dritten den Zugriff auf ihre geschützten Ressourcen gewähren kann. Diese Ressourcen werden durch den Resource Server bereitgestellt. Ist der Resource Owner eine Person, wird dieser als Nutzer bezeichnet.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Resource Server</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">&nbsp;OAuth2 Rolle (siehe [<a href="https://tools.ietf.org/html/rfc6749#section-1.1" target="_top" class="descriptionLink">RFC6749 # section-1.1</a>]): Der Server (Dienst), auf dem die geschützten Ressourcen (Protected Resources) liegen. Er ist in der Lage, auf Basis von Access Tokens darauf Zugriff zu gewähren. Ein solcher Token repräsentiert die delegierte Autorisierung des Resource Owners.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">SSO Token</td> 
     <td style="text-align: left;vertical-align: top;width: 426.8px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"> Gegen Vorlage eines gültigen SSO Token ist keine erneute Nutzerauthentifizierung für die Ausstellung eines Access Tokens am IDP-Dienst nötig.&nbsp;</span><br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_181">Das Glossar wird als eigenständiges Dokument (vgl. [gemGlossar]) zur Verfügung gestellt.</p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104139">6.3 Abbildungsverzeichnis</h3>
  <div data-sequence="Abbildung" id="polarion_wiki macro name=tof;params=uid=1"></div>
  <div id="toc_container">
   <p class="toc_title"><h1></h1></p>
   <li><a href="#polarion_144">Abbildung 1: Systemüberblick</a></li>
   <li><a href="#polarion_160">Abbildung 2: Systemkontext</a></li>
   <li><a href="#polarion_90">Abbildung 3: Systemüberblick (vereinfacht)</a></li>
   <li><a href="#polarion_202">Abbildung 4: Systemkontext aus Sicht des Fachdienstes</a></li>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104140">6.4 Tabellenverzeichnis</h3>
  <div data-sequence="Tabelle" id="polarion_wiki macro name=tof;params=uid=2"></div>
  <div id="toc_container">
   <p class="toc_title"><h1></h1></p>
   <li><a href="#polarion_101">Tabelle 1: TAB_IDP_FD_0001 Akteure und Rollen nach OAuth2/OIDC</a></li>
   <li><a href="#polarion___1">Tabelle 2:&nbsp;Anwendungsfall "Bereitstellung Liste registrierte Identity Provider"</a></li>
   <li><a href="#polarion___2">Tabelle 3: Anwendungsfall "OAuth 2.0 Pushed Authorization Request"</a></li>
   <li><a href="#polarion___3">Tabelle 4: Anwendungsfall "Benutzerauthentifizierung und Erhalt des ID_TOKEN"</a></li>
   <li><a href="#polarion___4">Tabelle 5: TAB_IDP_FD_0003 Inhalte der Claims für Versicherte</a></li>
   <li><a href="#polarion___5">Tabelle 6: TAB_IDP_FD_0004 Inhalte des Claims für Leistungserbringer (HBA)</a></li>
   <li><a href="#polarion___6">Tabelle 7: AB_IDP_FD_0005 Inhalte des Claim für Leistungserbringerinstitutionen (SMC-B)</a></li>
   <li><a href="#polarion___7">Tabelle 8: AB_IDP_FD_0006 Lebenszyklen der Token</a></li>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-104141">6.5 Referenzierte Dokumente</h3>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-104142">6.5.1 Dokumente der gematik</h4>
  <p id="polarion_186">Die nachfolgende Tabelle enthält die Bezeichnung der in dem vorliegenden Dokument referenzierten Dokumente der gematik zur Telematikinfrastruktur.</p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=4" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 151px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[Quelle]<br> </th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 580px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Titel<span id="polarion-comment:632"></span><br> </th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 151px;height: 15px;border: 1px solid #CCCCCC;padding: 5px;">[gemGlossar]</td> 
     <td style="text-align: left;vertical-align: top;width: 580px;height: 15px;border: 1px solid #CCCCCC;padding: 5px;">Einführung der Gesundheitskarte – Glossar</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 151px;height: 17px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_IDP_Dienst]</td> 
     <td style="text-align: left;vertical-align: top;width: 580px;height: 17px;border: 1px solid #CCCCCC;padding: 5px;">Spezifikation Identity Provider-Dienst</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 151px;height: 17px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_IDP_Frontend]</td> 
     <td style="text-align: left;vertical-align: top;width: 580px;height: 17px;border: 1px solid #CCCCCC;padding: 5px;">Spezifikation Identity Provider-Frontend</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 151px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_Krypt]</td> 
     <td style="text-align: left;vertical-align: top;width: 580px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Übergreifende Spezifikation Verwendung kryptographischer Algorithmen in der Telematikinfrastruktur</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 151px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-size: 10pt;line-height: 1.5;">gemSpec_OID]</span></td> 
     <td style="text-align: left;vertical-align: top;width: 580px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Spezifikation Festlegung von OIDs</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 151px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_PKI]</td> 
     <td style="text-align: left;vertical-align: top;width: 580px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Übergreifende Spezifikation "Spezifikation PKI"</td> 
    </tr> 
   </tbody> 
  </table>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-104143">6.5.2 Weitere Dokumente</h4>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=5" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 148px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[Quelle]<br> </th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 599px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Herausgeber (Erscheinungsdatum): Titel<br> </th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 148px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">[openid-connect-core]&nbsp;</span></td> 
     <td style="text-align: left;vertical-align: top;width: 599px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">OpenID Connect Core 1.0 (November 2014) <br> <a href="https://openid.net/specs/openid-connect-core-1_0.html" target="_top" class="descriptionLink">https://openid.net/specs/openid-connect-core-1_0.html</a>&nbsp;</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 148px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[openid-connect-discovery]</td> 
     <td style="text-align: left;vertical-align: top;width: 599px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">OpenID Connect Discovery 1.0 (November 2014)<br> <a href="https://openid.net/specs/openid-connect-discovery-1_0.html&nbsp;" target="_top" class="descriptionLink">https://openid.net/specs/openid-connect-discovery-1_0.html&nbsp;</a>&nbsp; </span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 148px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[OpenID Connect Federation 1.0]</td> 
     <td style="text-align: left;vertical-align: top;width: 599px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">OpenID Connect Federation1.0 (Draft 21, 2022)<br> <a href="https://openid.net/specs/openid-connect-federation-1_0-21.html" target="_top" class="descriptionLink">https://openid.net/specs/openid-connect-federation-1_0-21.html</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 148px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[RFC6749]</td> 
     <td style="text-align: left;vertical-align: top;width: 599px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">The OAuth 2.0 Authorization Framework (Oktober 2012) <br> <a href="https://tools.ietf.org/html/rfc6749" target="_top" class="descriptionLink">https://tools.ietf.org/html/rfc6749</a>&nbsp;</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 148px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[RFC6750]</td> 
     <td style="text-align: left;vertical-align: top;width: 599px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"> The OAuth 2.0 Authorization Framework: Bearer Token Usage (Oktober 2012) <br> <a href="https://tools.ietf.org/html/rfc6750" target="_top" class="descriptionLink">https://tools.ietf.org/html/rfc6750</a>&nbsp;</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 148px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">[RFC7519]&nbsp;</span></td> 
     <td style="text-align: left;vertical-align: top;width: 599px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">JSON Web Token (Mai 2015) <br> <a href="https://tools.ietf.org/html/rfc7519" target="_top" class="descriptionLink">https://tools.ietf.org/html/rfc7519</a>&nbsp;</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 148px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">[RFC7523]</span></td> 
     <td style="text-align: left;vertical-align: top;width: 599px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"> JSON Web Token (JWT) Profile for OAuth 2.0 Client Authentication and Authorization Grants (Mai 2015) <br> <a href="https://tools.ietf.org/html/rfc7523" target="_top" class="descriptionLink">https://tools.ietf.org/html/rfc7523</a>&nbsp;</span></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_94"></p>
 </body>
</html>