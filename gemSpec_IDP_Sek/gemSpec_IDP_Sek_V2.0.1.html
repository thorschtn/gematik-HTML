<html>
 <head>
  <link rel="stylesheet" href="attachments/styleSheetForToc.css">
 </head>
 <body>
  <p id="polarion_1"> <span id="polarion-comment:1146"></span><span id="polarion-comment:1147"></span><br> </p>
  <p id="polarion_2"> <br> </p>
  <p id="polarion_3"></p>
  <p id="polarion_4"> <br> </p>
  <p id="polarion_5"> <br> </p>
  <p id="polarion_6"> <span style="font-weight: bold;text-decoration: underline;font-size: 11pt;font-family: Arial, Helvetica, sans-serif;line-height: 1.5;">Elektronische Gesundheitskarte und Telematikinfrastruktur</span> </p>
  <p id="polarion_7"> <br> </p>
  <p id="polarion_8"> <br> </p>
  <p id="polarion_9"> <br> </p>
  <p id="polarion_10"> <br> </p>
  <p id="polarion_11" style="text-align: center;"> <span style="font-weight: bold;font-size: 28pt;line-height: 1.2;">Spezifikation</span> </p>
  <p id="polarion_12" style="text-align: center;"> <span style="font-weight: bold;font-size: 28pt;line-height: 1.2;">Sektoraler Identity Provider</span> </p>
  <p id="polarion_13"> <br> </p>
  <p id="polarion_14"> <br> </p>
  <p id="polarion_15"> <br> </p>
  <div id="polarion_editor_html_block2" class="polarion-dle-wiki-block"> 
   <div id="polarion_editor_html_block_content" contenteditable="false"></div>
   <pre id="polarion_editor_html_block_source" class="polarion-dle-wiki-block-source" contenteditable="false">
    <table>
     <tr>
      <td>Version</td>
      <td>2.0.1</td>
     </tr>
     <tr>
      <td>Revision</td>
      <td>576508</td>
     </tr>
     <tr>
      <td>Stand</td>
      <td>20.02.23</td>
     </tr>
     <tr>
      <td>Status</td>
      <td>freigegeben</td>
     </tr>
     <tr>
      <td>Klassifizierung</td>
      <td>öffentlich</td>
     </tr>
     <tr>
      <td>Referenzierung</td>
      <td>gemSpec_IDP_Sek</td>
     </tr>
    </table></pre> 
  </div>
  <p id="polarion_16"></p>
  <h1 id="polarion_wiki macro name=module-workitem;params=id=ML-125217">Dokumentinformationen</h1>
  <p id="polarion_21"> <span style="font-weight: bold;">Änderungen zur Vorversion</span> </p>
  <p id="polarion_22">Anpassungen des vorliegenden Dokumentes im Vergleich zur Vorversion können Sie der nachfolgenden Tabelle entnehmen.</p>
  <p id="polarion_23"></p>
  <p id="polarion_25" data-keep-next="true"> <span style="font-weight: bold;">Dokumentenhistorie</span> </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=6" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 78px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Version<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 86.8px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Stand<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 65.2px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Kap./ Seite<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 348.4px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Grund der Änderung, besondere Hinweise<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 120.4px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Bearbeitung<br> </th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 78px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1.0.0</td> 
     <td style="text-align: left;vertical-align: top;width: 86.8px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">17.12.21</td> 
     <td style="text-align: left;vertical-align: top;width: 65.2px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 348.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">initiale Version</td> 
     <td style="text-align: left;vertical-align: top;width: 120.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 78px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2.0.0</td> 
     <td style="text-align: left;vertical-align: top;width: 86.8px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">02.02.23</td> 
     <td style="text-align: left;vertical-align: top;width: 65.2px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 348.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Einarbeitung&nbsp;<span style="font-size: 10pt;line-height: 1.5;">IDP_Maintenance_22.2</span></td> 
     <td style="text-align: left;vertical-align: top;width: 120.4px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 78px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2.0.1</td> 
     <td style="text-align: left;vertical-align: top;width: 86.8px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">20.02.23</td> 
     <td style="text-align: left;vertical-align: top;width: 65.2px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 348.4px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">A_23201 und&nbsp;A_23411 in [gemKPT_Betr] überführt</td> 
     <td style="text-align: left;vertical-align: top;width: 120.4px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;">gematik</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_27"></p>
  <h1 id="polarion_wiki macro name=module-workitem;params=id=ML-122062">Inhaltsverzeichnis</h1>
  <div id="polarion_wiki macro name=toc"></div>
  <div id="toc_container">
   <p class="toc_title"><h1></h1></p>
   <li><a href="#polarion_wiki macro name=module-workitem;params=id=ML-125217">Dokumentinformationen</a></li>
   <li><a href="#polarion_wiki macro name=module-workitem;params=id=ML-122062">Inhaltsverzeichnis</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122063">1 Einordnung des Dokumentes</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122064">1.1 Zielsetzung</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122065">1.2 Zielgruppe</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122066">1.3 Geltungsbereich</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122067">1.4 Abgrenzungen</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122068">1.5 Methodik</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122070">2 Systemkontext</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128733">2.1 Allgemeiner Überblick</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128732">2.2 Detaillierter Überblick</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-129229">2.3 Zerlegung des Produkttyps</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122071">2.4 Schnittstellen, Akteure und Rollen</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133749">2.4.1 Schnittstellen</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133750">2.4.2 Akteure und Rollen</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122072">2.5 Nachbarsysteme und Interaktion</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-135466">2.6 Ausblick auf die weitere Entwicklung der sektoralen IDPs</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122074">3 Übergreifende Festlegungen</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122101">3.1 Sicherheitsanforderungen für den operativen Betrieb</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128736">3.2 Vertrauenswürdige Ausführungsumgebung</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128737">3.2.1 Verarbeitungskontext</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128739">3.2.2 Ausschluss von nicht autorisierten Zugriffen aus dem Betriebsumfeld</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128738">3.2.3 Konsistenz des Systemzustands, Logging und Monitoring</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-127164">3.3 Betriebliche Unterstützung des Probings</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132600">3.4 Testseitige Vorgaben an den sektoralen IDP</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133168">3.4.1 Testinstanzen</a></li>
   <li> : : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133180">3.4.1.1 zentrale Komponente</a></li>
   <li> : : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133178">3.4.1.2 Authenticator-Modul</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133177">3.4.2 Testidentitäten</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122075">4 Funktionsmerkmale</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128296">4.1 Entity Statement des sektoralen IDP</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128336">4.2 API-Endpunkte des sektoralen IDP</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128350">4.2.1 Anforderung an die Schnittstelle zum Authorization-Server des Fachdienstes</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128334">4.2.2 PAR - Endpunkt</a></li>
   <li> : : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132895">4.2.2.1 PAR-Endpunkt Eingangsdaten</a></li>
   <li> : : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132894">4.2.2.2 PAR-Endpunkt Ausgangsdaten</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122210">4.2.3 Authorization-Endpunkt</a></li>
   <li> : : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-124774">4.2.3.1 Schnittstelle Authorization-Endpunkt</a></li>
   <li> : : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122213">4.2.3.2 Authorization-Endpunkt Ausgangsdaten</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122081">4.2.4 Token-Endpunkt</a></li>
   <li> : : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122244">4.2.4.1 Token-Endpunkt Eingangsdaten</a></li>
   <li> : : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122227">4.2.4.2 Token-Endpunkt Ausgangsdaten</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-129382">4.3 Identifizierung und Authentifizierung des Nutzers</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-133044">4.3.1 Identifikation des Nutzers</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128522">4.3.2 Authentifizierungsverfahren</a></li>
   <li> : : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-129196">4.3.2.1 Gerätenutzung</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128360">5 Anforderungen an Authenticator-Module sektoraler IDPs</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132958">5.1 Schnittstellen des Authenticator-Moduls</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-128523">5.2 Funktionsmerkmale Authenticator-Modul</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122090">6 Anhang A – Verzeichnisse</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122091">6.1 Abkürzungen</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122092">6.2 Glossar</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122093">6.3 Abbildungsverzeichnis</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122094">6.4 Tabellenverzeichnis</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122095">6.5 Referenzierte Dokumente</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122096">6.5.1 Dokumente der gematik</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-122097">6.5.2 Weitere Dokumente</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132456">7 Anhang B - Abläufe</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132454">7.1 App-App-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132455">7.1.1 Vorbedingungen App-App-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132465">7.1.2 Flow-Diagramm App-App-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132466">7.1.3 Ablaufbeschreibung App-App-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132850">7.1.4 Detailinformationen zum App-App-Flow</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132462">7.2 Web-App-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132464">7.2.1 Vorbedingungen Web-App-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132458">7.2.2 Flow-Diagramm Web-App-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132460">7.2.3 Ablaufbeschreibung Web-App-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132534">7.2.4 Detailinformationen zum Web-App-Flow</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132463">7.3 Zwei-Geräte-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132461">7.3.1 Vorbedingungen Zwei-Geräte-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132459">7.3.2 Flow-Diagramm Zwei-Geräte-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132457">7.3.3 Ablaufbeschreibung Zwei-Geräte-Flow</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132521">7.3.4 Detailinformationen zum Zwei-Geräte-Flow</a></li>
   <li> : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132705">8 Anhang C - Möglicher Aufbau einer VAU (informativ)</a></li>
   <li> : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132990">8.1 Standalone</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132708">8.1.1 Load Balancer</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132706">8.1.2 Anwendungsserver und zugehörige Infrastruktur</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132707">8.1.3 Vernetzung Load-Balancer/VAU-Server</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132709">8.1.4 Vernetzung VAU-Server/HSM</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132719">8.1.5 Vernetzung VAU-Server/Datenbankserver</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132715">8.1.6 Vernetzung des Management Interface mit dem internen Netz des Anbieters des sektoralen IDP</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132718">8.1.7 VAU-Server</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132717">8.1.8 VAU-Server Software Stack</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132713">8.1.9 Open Source Software Stack</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132716">8.1.10 Attestation und Integritätsschutz für VAU-Server</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132711">8.1.11 HSM</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132714">8.1.12 Datenbank</a></li>
   <li> : : : <a href="#polarion_wiki macro name=module-workitem;params=id=ML-132712">8.1.13 Repository</a></li>
  </div>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-122063">1 Einordnung des Dokumentes</h2>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122064">1.1 Zielsetzung</h3>
  <p id="polarion_40" style="margin-left: 0px;"> Die vorliegende Spezifikation definiert die Anforderungen zu Herstellung, Test und Betrieb des Produkttyps sektoraler Identity Provider (IDP). Ein sektoraler IDP basiert auf den Standards OpenID Connect (OIDC), Open Authorization 2.0 (OAuth 2) und JSON Web Token (JWT). Die hier beschriebenen Schnittstellen werden vom Authenticator-Modul und von Clients für eine Authentifikation<span id="polarion-comment:850"></span> eines Nutzers genutzt. Diese Authentifikation ist die Voraussetzung, damit ein Client Zugang zu Fachdaten und Prozessen eines Fachdienstes erlangen kann.&nbsp;Ein sektoraler IDP<span id="polarion-comment:1372"></span> verwaltet und steuert den&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Authentifizierungsprozess&nbsp;</span>für Anwendungen der Telematikinfrastruktur (TI).<span id="polarion-comment:851"></span> </p>
  <p id="polarion_593" style="margin-left: 0px;"></p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122065">1.2 Zielgruppe</h3>
  <p id="polarion_44">Das Dokument richtet sich an Hersteller und Anbieter von Identity Providern, welche die Funktionen eines sektoralen IDP für die TI realisieren wollen.</p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122066">1.3 Geltungsbereich</h3>
  <p id="polarion_53">Dieses Dokument enthält normative Festlegungen zur TI des deutschen Gesundheitswesens. Der Gültigkeitszeitraum der vorliegenden Version und deren Anwendung in Zulassungs- oder Abnahmeverfahren wird durch die gematik GmbH in gesonderten Dokumenten (z. B. gemPTV_ATV_Festlegungen,&nbsp;Produkttypsteckbrief, Leistungsbeschreibung) festgelegt und bekanntgegeben.</p>
  <p id="polarion_54"></p>
  <p id="polarion_26"> <span style="font-weight: bold;">Schutzrechts-/Patentrechtshinweis</span> </p>
  <p id="polarion_55"> <span style="font-style: italic;">Die nachfolgende Spezifikation ist von der gematik allein unter technischen Gesichtspunkten erstellt worden. Im Einzelfall kann nicht ausgeschlossen werden, dass die Implementierung der Spezifikation in technische Schutzrechte Dritter eingreift. Es ist allein Sache des Anbieters oder Herstellers, durch geeignete Maßnahmen dafür Sorge zu tragen, dass von ihm aufgrund der Spezifikation angebotene Produkte und/oder Leistungen nicht gegen Schutzrechte Dritter verstoßen und sich ggf. die erforderlichen Erlaubnisse/Lizenzen von den betroffenen Schutzrechtsinhabern einzuholen. Die gematik GmbH übernimmt insofern keinerlei Gewährleistungen.</span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122067">1.4 Abgrenzungen</h3>
  <p id="polarion_58"> Nicht Bestandteil des vorliegenden Dokumentes ist die konkrete Umsetzung der&nbsp;Authentifizierung eines Nutzers durch einen sektoralem IDP.<span id="polarion-comment:852"></span> </p>
  <p id="polarion_595"> Als Umsetzungsleitlinie ist [OpenID Connect Core 1.0] heranzuziehen sowie das Kapitel&nbsp;<span class="polarion-rte-link" data-type="workItem" id="fake" data-custom-label="&quot;Authentifizierungsverfahren&quot;" data-item-id="ML-128522" data-option-id="custom"></span> . Die TI-weit übergreifenden Festlegungen – insbesondere aus Dokumenten wie beispielsweise [gemSpec_Krypt] bezüglich Algorithmen und Schlüsselstärken sowie [gemSpec_PKI] bezüglich zu verwendender Zertifikatstypen und deren Attributausprägungen – haben Bestand, sind weiterhin bindend und werden nicht in diesem Dokument beschrieben. Die konkreten, für das Produkt relevanten Anforderungen finden sich in den entsprechenden Steckbriefen. </p>
  <p id="polarion_596"> <span id="polarion-comment:854"></span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122068">1.5 Methodik</h3>
  <p id="polarion_65">Anforderungen als Ausdruck normativer Festlegungen werden durch eine eindeutige ID in eckigen Klammern sowie die dem RFC 2119 [RFC2119] entsprechenden, in Großbuchstaben geschriebenen deutschen Schlüsselworte MUSS, DARF NICHT, SOLL, SOLL NICHT, KANN gekennzeichnet.</p>
  <p id="polarion_66"></p>
  <p id="polarion_67"> Sie werden im Dokument wie folgt dargestellt:<span style="font-weight: bold;font-family: Wingdings;"><br> </span><span style="font-weight: bold;">&lt;AFO-ID&gt; - &lt;Titel der Afo&gt;</span><br> Text / Beschreibung<br> [&lt;=] </p>
  <p id="polarion_69" style="margin-left: 0px;">Dabei umfasst die Anforderung sämtliche zwischen Afo-ID und der Textmarke [&lt;=] angeführten Inhalte.</p>
  <p id="polarion_71"></p>
  <p id="polarion_28"> <span style="font-weight: bold;">Hinweis auf offene Punkte</span> </p>
  <table id="polarion_wiki macro name=table;params=header=no|width=100%|uid=29" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 591.6px;height: 18.8px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #3333FF;">Offener Punkt: Das Kapitel wird in einer späteren Version des Dokumentes ergänzt.</span></td> 
    </tr> 
   </tbody> 
  </table>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-122070">2 Systemkontext</h2>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-128733">2.1 Allgemeiner Überblick</h3>
  <p id="polarion_24"> <span id="polarion-comment:1630"></span>Zentrales Merkmal der zu entwickelnden Gesamtlösung der sektoralen IDP&nbsp;ist das Prinzip der Föderation. Die&nbsp;Funktionalität des IDP wird nicht von einem einzigen zentralen Dienst bereitgestellt, sondern „kollektiv“ durch eine Menge von sektoralen IDP, für die jeweils die entsprechenden identitätsherausgebenden Institutionen verantwortlich sind, welche auch für die jeweiligen Nutzergruppen zuständig sind. </p>
  <p id="polarion_42">Um eine Gesamtlösung sicherzustellen, bei der Anwendungen in möglichst einfacher Weise die verschiedenen sektoralen IDP nutzen können, sind in bestimmten Bereichen einheitliche Vorgaben für die technische und organisatorische Umsetzung zu erstellen:</p>
  <ul id="polarion_43"> 
   <li>Einheitliche Identitätsattribute für die Nutzergruppen (<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span>)</li> 
   <li>Einheitliche Verfahren zum Auffinden von sektoralen IDP (IDP Discovery)</li> 
   <li>Grundstruktur der Vertrauensbeziehungen der Föderierung (Zwischen Fachdiensten und IDP)</li> 
   <li>Einheitliche Vertrauensniveaus (Trust Framework).</li> 
  </ul>
  <p id="polarion_45"></p>
  <p id="polarion_225"></p>
  <p id="polarion_253"></p>
  <p id="polarion_264"> <span id="polarion-comment:928"></span> </p>
  <p id="polarion_107" class="polarion-rte-caption-paragraph"> <span id="polarion-comment:1673"></span><img src="attachments/Systemübersicht_Föderation.drawio.png" style="width: 754px;height: 434px;" data-lastmodified="2022-05-12T08:34:44.883+02:00"> </p>
  <p id="polarion_132" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">1</span> : Überblick TI-Föderation </p>
  <p id="polarion_267">Die TI-Föderation besteht aus drei Systemen, welche untereinander über standardisierte Schnittstellen kommunizieren. Zusammen bilden die&nbsp;beteiligten Systeme einen Vertrauensraum.</p>
  <p id="polarion_269">Die TI-Föderation besteht aus mehreren Fachdiensten (Fachanwendungen). Die Fachdienste sind Apps oder Browseranwendungen. Hier werden Nutzern spezielle i.d.R. medizinische digitale Services angeboten. Die Fachdienste nutzen sektorale IDPs zur Überprüfung, ob ein Anwender zur Nutzung des Fachdienstes befugt (autorisiert) ist.&nbsp;Jeder Fachdienst verfügt über einen eigenen Authorization-Server, welcher basierend auf den Informationen der sektoralen Identity Provider über den jeweiligen Nutzer dessen Zugriffsrechte definiert.</p>
  <p id="polarion_280"> Als sektoraler IDP wird ein Dienst zur Authentifizierung von Nutzern bezeichnet. Nach erfolgreichen Durchlaufen des Authentifizierungsprozesses stellt der sektorale IDP Identitätsinformationen für eine bestimmte Gruppe von Nutzern, welche einem Sektor zuzuordnen sind, innerhalb der Telematikinfrastruktur des Gesundheitswesens bereitstellt. Die Identitätsinformationen der Nutzer werden&nbsp;durch den anfordernden Fachdienst zur Prüfung verwendet, auf welche Fachdaten und -prozesse der Nutzer zuzugreifen darf. Insbesondere umfasst e<span style="font-size: 10pt;line-height: 1.5;">in Sektor die Krankenkassen mit den Versicherten als Nutzer.&nbsp; Zukünftig werden allerdings auch andere Personengruppen wie z. B. Ärzte oder Pflegeinstitutionen über Identity Provider für Leistungserbringer (LE) und Leistungserbringer Institutionen (LEI) angebunden.&nbsp;Dabei ist nicht ausgeschlossen, dass ein sektoraler IDP Identitätsinformationen&nbsp;mehrere Nutzergruppen bedienen kann&nbsp;(siehe auch Parameter "user_type_supported" in Kapitel "3.2 Anwendungsfall - IDP-Liste bereitstellen" in [gemSpec_IDP_FedMaster]).</span> </p>
  <p id="polarion_289"> <span style="font-size: 10pt;line-height: 1.5;">Der TI-Vertrauensraum wird durch den sogenannten Federation Master (siehe [gemSpek_IDP_FedMaster]) verwaltet.&nbsp;Der Federation Master&nbsp;ist eine zentrale Komponente für alle Teilnehmer - Fachdienste&nbsp;und sektoralen IDPs - in der Föderation. Beim Federation Master sind alle Teilnehmer der Föderation registriert, nur dort registrierte Teilnehmer sind berechtigt, die Dienste der Föderation in Anspruch zu nehmen.&nbsp;</span> </p>
  <p id="polarion_290"> <span style="font-size: 10pt;line-height: 1.5;">Die Kommunikation zwischen den Systemen in der TI-Föderation&nbsp;basiert auf den Standards OpenID Connect (OIDC), Open Authorization 2.0 (OAuth 2) und JSON Web Token (JWT). </span> </p>
  <p id="polarion_291"> <span style="font-size: 10pt;line-height: 1.5;">Neben den Systemen der TI-Föderation sind im Gesamtkontext weitere Systeme über Schnittstellen an die TI-Föderation angeschlossen (ohne selbst Bestandteil der Föderation zu sein). Das sind u.a. die Bestandsysteme, in denen aktuell die Informationen zu Nutzern gepflegt werden.<span id="polarion-comment:1531"></span></span> </p>
  <p id="polarion_308"> Das Konzept der sektoralen IDP sieht vor, dass diese nicht ausschließlich von Fachdiensten der TI zur Authentifizierung von Anwendern zu verwenden sind. Vielmehr können (und sollen) auch Anwendungen außerhalb der TI (z. B. Anwendungen der Krankenkassen für ihr Versicherten) den sektoralen IDP zur Nutzerauthentifizierung und Attributübertragung verwenden.&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Für Anwendungen, die nicht übergreifend durch mehrere IDPs unterstützt werden sollen, ist es ausreichend diese direkt bei den jeweiligen IDPs zu registrieren. Die Föderation bietet hier keinen Mehrwert da beide Kommunikationspartner sich ohnehin kennen und vertrauen.&nbsp;</span>Die in den Spezifikationen der gematik festgelegten Anforderungen sind für diese Anwendungen und den Anmeldungsflow am sektoralen IDP nicht bindend. Die (z. B. kasseneigenen) Anwendungen können mit ihren Kassen-IDP weitere&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims </span>vereinbaren.<span id="polarion-comment:1537"></span>&nbsp;Eine Registrierung am Federation Master für diese Anwendungen nicht notwendig, da sie nicht Teil der Föderation sind. Die Fachdienste müssen sich lediglich OIDC konform am sektoralen IDP (also dem OpenID Provider) registrieren. Der sektorale Identity Provider kann für diese Anwendungen auch zugleich als Authorization-<span style="font-size: 10pt;line-height: 1.5;">Server&nbsp;</span>agieren und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> ausstellen. </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-128732">2.2 Detaillierter Überblick</h3>
  <p id="polarion_149"> Die untere Abbildung beschreibt den Systemkontext aus Sicht des sektoralen IDP. Das Anwendungsfrontend des Fachdienstes stellt die Anfrage zur Authentifizierung des Nutzers an den Authorization-<span style="font-size: 10pt;line-height: 1.5;">Server&nbsp;</span>des Fachdienstes.<span id="polarion-comment:860"></span> Dieser generiert eine <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_CHALLENGE&nbsp;</span>und stellt einen Pushed Authorization Request (PAR) an den entsprechenden sektoralen IDP. Der Fachdienst agiert diesem gegenüber als&nbsp;Client. Über das Authenticator-Modul des sektoralen IDP findet dann die Authentifizierung des Nutzers statt. Anschließend erhält der Authorization-<span style="font-size: 10pt;line-height: 1.5;">Server&nbsp;</span>des Fachdienstes einen&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>,<span id="polarion-comment:1219"></span> welchen er bei Token-Endpunkt des sektoralen IDP gegen einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN&nbsp;</span>eintauscht. Der Authorization-<span style="font-size: 10pt;line-height: 1.5;">Server&nbsp;</span>des&nbsp;Fachdienstes erstellt nun ein <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN&nbsp;</span>für das Anwendungsfrontend, mit welchem dieses auf die, für den Nutzer freigegebenen, Ressourcen des Fachdienstes zugreifen kann. Die Kommunikation zwischen Anwendungsfrontend und Authorization-<span style="font-size: 10pt;line-height: 1.5;">Server&nbsp;</span>des&nbsp;Fachdienstes kann ebenfalls über einen eigenen&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> abgesichert werden.<span id="polarion-comment:862"></span> </p>
  <p id="polarion_30">Der Fachdienst und der sektoralen IDP&nbsp;müssen sich zuvor beim Federation Master in Form eines organisatorischen Prozesses registriert haben.&nbsp;</p>
  <p id="polarion_252" style="text-align: center;" class="polarion-rte-caption-paragraph"> <img src="attachments/IDP-Bausteinsicht.drawio.png" style="width: 754px;height: 489px;" data-lastmodified="2022-09-12T09:28:07.423+02:00"> </p>
  <p id="polarion_34" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">2</span>: Systemkontext<span id="polarion-comment:859"></span><span id="polarion-comment:1216"></span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-129229">2.3 Zerlegung des Produkttyps</h3>
  <p id="polarion_175"></p>
  <p id="polarion_123"> Der Produkttyp des sektoralen IDP besteht aus der zentralen Komponente IDP (OP), dem eigentlichen OpenID-Provider und einer Frontend-Komponente u. a. für die Interaktion mit dem Nutzer, dem Authenticator-Modul. Das&nbsp;Authenticator-Modul&nbsp;unterstützt die Durchführung des Authentifizierungsprozesses und&nbsp;übernimmt die Ausführung der Nutzerauthentisierung.&nbsp;<span id="polarion-comment:1750"></span> </p>
  <p id="polarion_157">Der sektorale IDP stellt die zentralisierte Identitätsprüfung der auf die Fachdienste zugreifenden Nutzer bereit. Als weitere Teile der Gesamtlösung sind neben dem sektoraler IDP die Clients (Anwendungsfrontend) und die Fachdienste zu nennen, auf denen Fachdaten für den Zugriff durch die Nutzer (z. B. Versicherte oder Bediener eines AVS, PVS oder KVS) bereitgestellt werden. Ein sektoraler IDP bietet seine Dienste Fachdiensten&nbsp;an, auf welche Millionen Nutzer zeitgleich zugreifen. Auch Anwendungen außerhalb der TI-Föderation, z. B. kassenspezifische Anwendungen, werden direkt den jeweiligen sektoralen IDP nutzen (siehe auch Kapitel 2.1. letzter Absatz).</p>
  <p id="polarion_364"> <span id="polarion-comment:929"></span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122071">2.4 Schnittstellen, Akteure und Rollen</h3>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-133749">2.4.1 Schnittstellen</h4>
  <p id="polarion_232"> <span id="polarion-comment:1593"></span>Aus der Abbildung des Systemkontextes ist ersichtlich, welche Schnittstellen der sektorale IDP zu welchen Systemen unterhält (externe Schnittstellen). Neben den notwendigen externen Schnittstellen sind spezifikationsrelevante interne Schnittstellen zwischen dem eigentlichen IDP - dem OpenID-Provider - und dem Authenticator-Modul<span id="polarion-comment:1674"></span> aufgeführt. Die Tabelle "Schnittstellenübersicht" listet die für die Spezifikation des sektoralen IDP relevanten und in diesem Dokument näher beschriebenen Schnittstellen auf. </p>
  <p id="polarion_33" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">1</span> :&nbsp;Schnittstellenübersicht </p>
  <table id="polarion_wiki macro name=table;params=noPageBreak=yes|width=100%|uid=1" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 169.78px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">Schnittstelle</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 109.843px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">sektoraler IDP</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 139.811px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">Komponente/System</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 48.9308px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">Typ</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 229.748px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">fachliche Schnittstellenbeschreibung</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Authorization&nbsp;Request (IDP)</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst (RP)</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">extern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Zur Ermittlung der Informationen zum Nutzer stellt<span id="polarion-comment:1675"></span> der Fachdienst einen Request an den sektoralen IDP.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Abfrage Entity Statement FD</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst (RP)</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">extern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Zur Ermittlung des Entity Statement des Fachdienstes stellt der sektorale IDP einen Request an den Fachdienst.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Anfrage&nbsp;Entity Statement&nbsp;IDP</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst (RP)</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">extern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Zur Abfrage&nbsp;des Entity Statement des sektorale&nbsp;IDP&nbsp;stellt&nbsp;der&nbsp;Fachdienstes&nbsp;einen Request an den&nbsp;sektorale IDP.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">ID-Token&nbsp;Access-Token (IDP)</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst (RP)</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">extern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Im Austausch zu einem Authentication Code liefert der sektorale IDP ein ACCESS-TOKEN und ein ID-TOKEN</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Abfrage Entity&nbsp;Statement Teilnehmer Fachdienst</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Federation Master</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">extern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Zur Verifikation einen anfragenden Fachdienst&nbsp;stellt der sektorale IDP einen Request an den Federation Master.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">Verfahren Aktualisierung CT TLS-Zertifikate</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">Federation Master</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">extern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">organisatorische Schnittstelle zur Schlüsselregistrierung der im sektoralen IDP verwendeten&nbsp;TLS-Zertifikate beim Federation Master</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">Verfahren Teilnehmerregistrierung</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">Federation Master</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">extern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">organisatorische Schnittstelle zur Registrierung des sektoralen IDP als Teilnehmer der TI-Föderation beim Federation Master</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">Synchronisation Daten zu Nutzern</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">Attribut bestätigende Stelle</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">extern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">Die Daten über identifizierte Nutzer, welche über den sektoralen IDP authentifiziert werden können werden von der Attribut bestätigenden Stelle bereitgestellt.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Nutzer Authentifizierung&nbsp;</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">IDP Frontend</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">intern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Die&nbsp;Nutzerauthentifizierung durch den sektoralen IDP erfolgt über das Authenticator-Modul.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">Consent Freigabe</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">IDP Frontend</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">intern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 38.9937px;border: 1px solid #CCCCCC;padding: 5px;">Die&nbsp;Consent Freigabe<span id="polarion-comment:1676"></span> durch den Nutzer erfolgt über das Authenticator-Modul.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Nutzer Einsicht</span></td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">IDP (OP)</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">IDP Frontend</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">intern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">Die Einsichtnahme des Nutzers in Nutzung seiner Daten durch den sektoralen IDP erfolgt über das Authenticator-Modul.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 169.78px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">Benutzer Aktion</td> 
     <td style="text-align: left;vertical-align: top;width: 109.843px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">IDP Frontend</td> 
     <td style="text-align: left;vertical-align: top;width: 139.811px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">Nutzer</td> 
     <td style="text-align: left;vertical-align: top;width: 48.9308px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">extern</td> 
     <td style="text-align: left;vertical-align: top;width: 229.748px;height: 97.4843px;border: 1px solid #CCCCCC;padding: 5px;">Die Interaktion des Nutzers zur Nutzerauthentifizierung, Consentfreigabe und Einsichtnahme in die Datennutzung erfolgt über das Authenticator-Modul.</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_249" style="text-align: center;" class="polarion-rte-caption-paragraph"></p>
  <p id="polarion_136"></p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-133750">2.4.2 Akteure und Rollen</h4>
  <p id="polarion_81"> <span style="font-weight: bold;"> </span> </p>
  <p id="polarion_192"></p>
  <p id="polarion_226"> <span style="font-size: 10pt;line-height: 1.5;">Als sektoraler IDP wird ein Dienst bezeichnet, welcher die Nutzerauthentisierung durchführt. Nach erfolgreicher Nutzerauthentisierung stellt der sektorale IDP Identitätsinformationen zum Nutzer bereit. Die Identitätsinformationen werden von den Fachdiensten zur Durchführung einer Nutzerautorisierung verwendet, also zur Feststellung, auf welche Fachdaten und -prozesse des Fachdienstes dem Nutzer Zugriff gewährt wird. Die bereitgestellten Identitätsinformationen sind spezifisch für die unterschiedlichen Gruppen von Nutzern bzw. Sektoren innerhalb der TI des Gesundheitswesens. Einen Sektor stellen insbesondere die Krankenkassen mit den Versicherten als Nutzer dar. Zukünftig werden allerdings auch andere Personengruppen wie z. B. Ärzte oder Pflegeinstitutionen über sektorale IDP angebunden.</span> </p>
  <p id="polarion_48"> Im Systemkontext eines sektoralen IDP interagieren verschiedene Akteure (Nutzer und aktive Komponenten) in unterschiedlichen&nbsp;OAuth2-Rollen gemäß [<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.1" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-1.1)</a>&nbsp;] und OpenID-Connect-Rollen gemäß [<a href="https://openid.net/specs/openid-connect-core-1_0.html" target="_top" class="descriptionLink">OpenID Connect Core 1.0</a>] und [<a href="https://openid.net/specs/openid-connect-federation-1_0.html" target="_top" class="descriptionLink">OpenID Connect Federation 1.0</a>&nbsp;]. </p>
  <p id="polarion_195"> Die Abläufe zur Nutzerauthentisierung für einen Fachdienst sowie der Herausgabe der Identitätsinformationen durch den sektoralen IDP sind als innere Flow und der äußere Flow in Abschnitt&nbsp;<span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-122072" data-option-id="shortoutline"></span>&nbsp;erläutert. </p>
  <p id="polarion_72" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">2</span> : Akteure und Rollen </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=277" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 146px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Akteur</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 211px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Rolle "OAuth2"</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 172px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Rolle "OIDC"<span id="polarion-comment:1217"></span></th> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Nutzer (z. B. Versicherte)</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Resource Owner</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Resource Owner</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">&nbsp;Fachdienst - Authorization-Server</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Authorization-Server</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Teilnehmer als Relying Party (RP)&nbsp;der Föderation</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">&nbsp;Fachdienst - Fachliche Services (Fachdaten und -Prozesse)</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Protected Resource </td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">&nbsp;Fachdienst - App-Frontend</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Client, Nutzerschnittstelle als App</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">&nbsp;Fachdienst - App-Frontend</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Client, Nutzerschnittstelle als Web-Anwendung</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">&nbsp;Fachdienst - UI-Backend</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Client, Services der UI-Bereitstellung für Web-Anwendung</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">&nbsp;sektoraler IDP</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Teilnehmer als&nbsp;OpenID Provider (OP) der Föderation</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Authenticator-Modul des sektoralen IDP</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Frontend des sektoralen IDP</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">OpenID Provider (OP)&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Federation Master</span></td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Teilnehmer der Föderation als Vertrauensanker (Trust Anchor) für alle Teilnehmer (RP + OP) der Föderation</span><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">Attributbestätigende Stelle</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">kein Teilnehmer der Föderation</td> 
    </tr> 
    <tr> 
     <td style="width: 146px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">externe Anwendung&nbsp;</td> 
     <td style="width: 211px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 172px;height: 18px;border: 1px solid #CCCCCC;padding: 5px;">kein Teilnehmer der Föderation,&nbsp;<br> Relying Party (RP) gegenüber eines sektoraler IDP (OP) der Föderation</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_487"></p>
  <p id="polarion_282"> <span style="font-weight: bold;">Nutzer<span id="polarion-comment:1315"></span> (Rolle: Resource Owner)&nbsp;</span> </p>
  <p id="polarion_284" class="MsoNormal">Der Resource Owner ist eine natürliche Person, welcher auf die beim Fachdienst (Resource Server) für ihn bereitgestellten Daten und Prozesse (Protected Resource) zugreift.</p>
  <p id="polarion_285">Der Resource Owner verfügt über die folgenden Komponenten:</p>
  <ul id="polarion_93"> 
   <li>Endgerät des Nutzers</li> 
   <li>Authenticator-Modul</li> 
   <li>Anwendungsfrontend des Fachdienstes.</li> 
  </ul>
  <p id="polarion_161"></p>
  <p id="polarion_129"> <span style="font-weight: bold;">Fachdienst (Rolle: Authorization-Server)</span> </p>
  <p id="polarion_199"> Der Authorization-Server des Fachdienstes (OIDC Relying Party) stößt die Authentifizierung des Nutzers beim&nbsp;sektoralen IDP an und erhält als Ergebnis einen&nbsp;Authorization Code, den er gegen ein&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN&nbsp;</span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>beim&nbsp;sektoralen IDP eintauschen kann.&nbsp;Der Authorization-Server des Fachdienstes verwendet die Informationen aus dem&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN&nbsp;</span>für die Feststellung der Zugriffsrechte des&nbsp;Anwendungsfrontend auf die Ressourcen des Fachdienstes.&nbsp;Der Authorization-Server des Fachdienstes stellt eigene <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN </span>für das Anwendungsfrontend&nbsp;aus.<span id="polarion-comment:863"></span> </p>
  <p id="polarion_142"></p>
  <p id="polarion_147"> <span style="font-weight: bold;">Fachdienst (Rolle: Resource Server)</span> </p>
  <p id="polarion_159"> Der Resource Server ist der Fachdienst, der dem Nutzer (Resource Owner) Zugriff auf seine Fachdaten und Prozesse (Protected Resource) gewährt. Der Fachdienst, der die geschützten Fachdaten (Protected Resources) anbietet, ist in der Lage, auf Basis von&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>&nbsp;Zugriff für Clients zu gewähren. Ein solches Token repräsentiert die delegierte Identifikation des Resource Owner. </p>
  <p id="polarion_200"></p>
  <p id="polarion_201"> <span style="font-weight: bold;">Anwendungsfrontend (Rolle: Client)</span> </p>
  <p id="polarion_294" class="MsoNormal"> Das Anwendungsfrontend (OAuth2 Client) greift auf Fachdienste (Resource Server) und ihre geschützten Fachdaten (Protected Resource) zu. Das Anwendungsfrontend kann auf einem Server als Webanwendung (Primärsystem als Terminalserver), auf einem Desktop-PC oder einem mobilen Gerät (z. B. Smartphone) oder als App auf einem&nbsp;mobilen Gerät&nbsp;ausgeführt werden.&nbsp;Finden für die Anwendung relevante Prozess (Businesslogik) in einem Hintergrundsystem statt, so ist die Backend-Komponente, welche die UI für die Visualisierung auf dem Gerät des Nutzers realisiert, ebenfalls Teil des Clients.<span id="polarion-comment:1586"></span> </p>
  <p id="polarion_295"></p>
  <p id="polarion_296"> <span style="font-weight: bold;">Sektoraler IDP mit dem Authenticator-Modul als Frontend&nbsp;(Rolle: OpenID Provider)<span id="polarion-comment:864"></span></span> </p>
  <p id="polarion_297" class="MsoNormal"> Der Authorization-Server des sektoralen IDP authentifiziert den Resource Owner&nbsp;(Nutzer) und stellt einen Authorization Code aus. Dieser&nbsp;Authorization Code kann später gegen ein&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>beim&nbsp;sektoralen IDP eingetauscht werden. Das&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>enthält die Informationen für den vom Resource Owner erlaubten Anwendungsbereich (<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span>). </p>
  <p id="polarion_300" class="MsoListParagraph"></p>
  <p id="polarion_301">Weitere Akteure im Kontext des sektoralen IDP sind:</p>
  <p id="polarion_302" class="MsoNormal"> <span style="font-weight: bold;">Fachdaten und Prozesse&nbsp;(Rolle: Protected Resource)</span> </p>
  <p id="polarion_303">Die geschützten Fachdaten und Prozesse, welche vom Fachdienst (Resource Server) angeboten werden.</p>
  <p id="polarion_304"></p>
  <p id="polarion_279"> <span style="font-weight: bold;">Attributbestätigende Stelle</span> </p>
  <p id="polarion_586">Attributbestätigende Stellen sind legitimierte Organisationen, welche die Korrektheit der Attribute verantworten, die durch sie für einen&nbsp;Nutzer beim sektoralen IDP bestätigt werden.</p>
  <p id="polarion_588">Als Teilprozess der Registrierung ist die zuverlässige und eindeutige Identifikation der Nutzer zwingend notwendig. Hierbei werden eindeutige Identifikationsmerkmale der realen Identitäten benötigt und letztlich als Identitätsinformationen dem sektoralen IDP zur Verfügung gestellt.</p>
  <p id="polarion_589">Die eindeutigen Identitäten von natürlichen Personen (Versicherte, Leistungserbringer) bzw. juristischen Personen (medizinische Institutionen, Gesellschafterorganisations- und Kostenträger) werden innerhalb der TI über die Krankenversichertennummer des Versicherten und die Telematik-ID eines Leistungserbringers bzw. einer medizinischen Institution oder Organisation des Gesundheitswesens repräsentiert.</p>
  <p id="polarion_80"></p>
  <p id="polarion_164"> <span style="font-weight: bold;">Federation Master</span> </p>
  <p id="polarion_99"> <span style="color: #000000;"><span id="polarion-comment:1594"></span>Der Federation Master ist eine zentrale Komponente und ein eigener Produkttyp [<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_FedMaster</span>] in der TI. Der Federation Master bietet die Anwendungsfälle (siehe auch Tabelle <span style="font-style: italic;">Übersicht über die Anwendungsfälle im GesamtkontextFederation Master&nbsp;</span><span style="font-style: normal;">in [gemSpec_IDP_FedMaster</span></span><span style="font-style: normal;color: #000000;">]):</span> </p>
  <ul id="polarion_311"> 
   <li>Teilnehmer registrieren</li> 
   <li>IDP-Liste bereitstellen</li> 
   <li>Entity Statement bereitstellen</li> 
   <li>Schlüssel der TLS-Zertifikate abgleichen</li> 
   <li>Schlüssel verwalten</li> 
  </ul>
  <p id="polarion_316"> <span style="color: #000000;">Alle Teilnehmer der Föderation müssen beim Federation Master registriert sein (siehe auch A_22662). Teilnehmer der Föderation sind in diesem Kontext alle Fachdienste und sektoralen IDP.&nbsp;Die Registrierung erfolgt durch einen organisatorischen Prozess, der vom Anbieter des Produkttyp Federation Master bereitgestellt wird. Der Federation Master verwaltet die öffentlichen Schlüssel aller Teilnehmer und zusätzlich für registrierte Fachdienste die jeweils zugelassenen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span>. Er stellt auf Anfrage Teilnehmerbestätigungen in Form von Entity Statements aus. Der Federation Master agiert als Trust Anchor im Sinne der OpenID-Connect-Federation Spezifikation. Für Fachdienst stellt der Federation Master eine Schnittstelle bereit, über die eine Liste aller in der Föderation registrierten sektoralen IDP abgerufen werden kann.</span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122072">2.5 Nachbarsysteme und Interaktion</h3>
  <p id="polarion_84"> Ein sektoraler IDP bietet zahlreiche Schnittstellen gegenüber unterschiedlichen Akteuren an, weswegen es notwendig ist, die einzelnen Schnittstellen so zu beschreiben, dass andere Akteure deren Funktionsweise leichter verstehen können.&nbsp;<br> <span id="polarion-comment:1225"></span> </p>
  <p id="polarion_342"></p>
  <p id="polarion_630">Vorbereitende Maßnahmen:</p>
  <ul id="polarion_213"> 
   <li>Der <span style="color: #000000;">Fachdienst </span>hat bei der Registrierung <span style="color: #000000;">am Federation Master</span><span style="color: #FF0000;"> </span>seine öffentlichen Schlüssel hinterlegt.</li> 
   <li>Der&nbsp;Fachdienst hat bei der Registrierung am Federation Master die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes </span>hinterlegt, welche er für die Autorisierung eines Nutzers zwingend benötigt</li> 
   <li><span style="color: #000000;">Der Fachdienst kennt das Entity Statement der sektoralen&nbsp;IDP und&nbsp;hat bei der Registrierung dort seine öffentlichen Schlüssel hinterlegt.</span></li> 
  </ul>
  <p id="polarion_215" style="text-align: center;" data-keep-next="true"> <img src="attachments/Flow_OIDC_sektoraler_IDP.drawio.png" style="width: 754px;height: 517px;" data-lastmodified="2022-10-18T08:32:12.413+02:00"> </p>
  <p id="polarion_61" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">3</span> : OAuth- und OIDC-Flow<span id="polarion-comment:1228"></span><span id="polarion-comment:1230"></span> </p>
  <p id="polarion_158" data-keep-next="true"></p>
  <p id="polarion_62" style="text-align: center;" class="polarion-rte-caption-paragraph"> <span id="polarion-comment:870"></span> </p>
  <p id="polarion_88"> Der gesamte Authentifizierungsprozess (Abbildung: <span style="font-style: italic;">"OAuth- und OIDC-Flow"</span>)&nbsp;<span id="polarion-comment:1224"></span>basiert aus Gründen der Entkoppelung zwischen den Authentifizierungsmethoden und Token-Formaten der sektoralen IDP und des Fachdienstes aus zwei ineinander geschachtelten OAuth2-Flows vom Typ&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">grant_type</span>=<span style="font-style: italic;">authorization_code</span>. </p>
  <p id="polarion_125"> Im äußeren Flow (Schritt 1) wendet sich das Anwendungsfrontend als Client initial an den Authorization-Server des&nbsp;Fachdienstes und signalisiert diesem über einen zusätzlichen Parameter&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idp_iss</span> (siehe&nbsp;<span class="polarion-rte-link" data-type="workItem" id="fake" data-custom-label="Kapitel 7.1.4 Detailinformationen zum Flow" data-item-id="ML-132850" data-option-id="custom"></span>&nbsp;)&nbsp;<span id="polarion-comment:1050"></span> den zur Authentifizierung zu verwendenden sektoralen IDP.&nbsp;Der innere Flow beginnt mit einem Authorization Request in Schritt 2 und endet mit Schritt 11, der Herausgabe eines <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN&nbsp;</span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>vom sektoralen IDP an den Authorization-Server des&nbsp;Fachdienstes. </p>
  <p id="polarion_237"> Die erste Anfrage an den sektoralen IDP geht am PAR-Endpunkt&nbsp;[<a href="https://datatracker.ietf.org/doc/html/rfc9126#section-2" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-2)</a>]&nbsp;<span id="polarion-comment:871"></span> <span id="polarion-comment:916"></span>ein. Der Authorization-Server des Fachdienstes reicht dort am Endpunkt den Authorization Request zur Authentifizierung des Nutzers und zur Bestätigung des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope </span>der anfragenden Anwendung sowie eine&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_CHALLENGE</span> ein. Der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope </span>der angefragten Nutzdaten ist im Entity Statement des Fachdienstes hinterlegt. Dieses ist dem sektoralen IDP bekannt. Ist das nicht der Fall, so wird das Entity Statement des Fachdienstes durch den sektoralen IDP abgefragt und durch den Federation Master bestätigt.&nbsp;Der Authorization-Server des&nbsp;Fachdienstes<span style="color: #FF0000;">&nbsp;</span>tritt bzgl. des inneren Flow als Client auf. </p>
  <p id="polarion_238">Im Weiteren Ablauf wird der Nutzer wird dann aufgefordert sich, unter Nutzung des Authenticator-Moduls des sektoralen IDP, zu authentisieren. Dies erfolgt über eine Schnittstelle zwischen dem Authenticator-Modul und Authorization-Endpunkt des sektoralen IDP.&nbsp;</p>
  <p id="polarion_244"> Nach erfolgreicher Authentisierung und der Consent-Freigabe durch den Nutzer erstellt der sektorale IDP den&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>. Dieser wird an den Authorization-Server des Fachdienstes übermittelt, welcher ihn am Token-Endpunkt [<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.2" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-3.2)</a>&nbsp;] des sektoralen&nbsp;IDP einreicht. Der sektorale IDP überprüft den&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und stellt bei positiver Validierung einen&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> und ein&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> aus. </p>
  <p id="polarion_245"> Anschließend erstellt der Authorization-Server des&nbsp;Fachdienstes&nbsp;einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>, der an das Anwendungsfrontend zurückgegeben wird. Der äußere Flow endet mit der Herausgabe eines <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN&nbsp;</span>an das Anwendungsfrontend bzw. im Fall von Web-Anwendungen an das Web-Backend des Anwendungsfrontends. Der weitere fachliche Ablauf zum Einreichen der Token und zur Nutzung der Fachdaten und Prozesse ist anwendungsspezifisch. </p>
  <p id="polarion_246" class="MsoNormal"></p>
  <p id="polarion_489" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">3</span> : Schritte OAuth- und OIDC-Flow </p>
  <span id="polarion-comment:1233"></span>
  <span id="polarion-comment:1843"></span>
  <span id="polarion-comment:1235"></span>
  <span id="polarion-comment:1637"></span>
  <span id="polarion-comment:874"></span>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=14" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 67px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Schritt</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 664px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Beschreibung</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">optional&nbsp;</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Die Auswahl eines sektoralen IDP durch den Anwender am Anwendungsfrontend ist erforderlich, wenn der dem Fachdienst (z. B. aus früheren Sitzungen) nicht bekannt ist.<span id="polarion-comment:1051"></span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Das Anwendungsfrontend sendet einen Authorization Request<span id="polarion-comment:1317"></span> mit dem zur Anmeldung gewünschten sektoralen IDP an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 75px;border: 1px solid #CCCCCC;padding: 5px;">optional</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 75px;border: 1px solid #CCCCCC;padding: 5px;">Falls der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>das Entity Statement des sektoralen IDP noch nicht kennt, lädt er dies herunter. (&nbsp;/.well-known/openid-federation).&nbsp;Der sektorale IDP sendet sein Entity Statement zurück.<br> Der sektorale IDP wird gegen den Federation Master validiert indem der Fachdienst das&nbsp;Entity Statement zum sektoralen IDP beim Federation Master abruft.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">2</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 78px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>sendet einen Pushed Authorization Request (PAR) inkl. Code-Challenge und benötigter <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes&nbsp;</span>an den sektoralen IDP und authentisiert sich als Client innerhalb der mTLS<span id="polarion-comment:1636"></span> Verbindung. Die Erzeugung der Code-Challenge erfolgt&nbsp;durch den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>entsprechende<span id="polarion-comment:1844"></span> der Spezifikation [<a href="https://datatracker.ietf.org/doc/html/rfc7636" target="_top" class="descriptionLink">RFC7636 - Proof Key for Code Exchange by OAuth Public Clients</a>] (PKCE) über die Generierung eines Zufallswertes (Codeverifier) und die Erzeugung eines Hashwert für den Codeverifier. Die Code-Challenge ist dann der base64-codierte Hashwert des Codeverifier.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">optional</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">Falls der sektorale IDP das Entity Statement des <span style="font-size: 10pt;line-height: 1.5;">Authorization-Servers&nbsp;</span>noch nicht kennt, lädt er dies herunter. (&nbsp;/.well-known/openid-federation).&nbsp;Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>sendet sein Entity Statement zurück und der sektorale IDP registriert ihn als Client.<br> Der Fachdienst wird gegen den Federation Master validiert indem der sektorale IDP das&nbsp;Entity Statement zum Fachdienst/<span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>beim Federation Master abruft.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">3</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Der sektorale IDP sendet eine Request-URI (mit Bezug zum vorherigen AUTHORIZATION_REQUEST) an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span>.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">4</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>sendet die Request-URI und Client ID an das Anwendungsfrontend zur Weiterleitung an die Adresse des&nbsp;Authenticator des&nbsp;sektoralen IDP.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">5</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Anwendungsfrontend öffnet den Authenticator für die eigentliche Authentifizierung des Anwenders (Deep-Link/Universal-Link).</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">6</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Das Authenticator-Modul leitet den Authentication Request an den sektoralen IDP weiter.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">spezifisch</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Der Ablauf der Authentifizierung des Nutzers ist IDP spezifisch.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 39.9057px;border: 1px solid #CCCCCC;padding: 5px;">7</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 39.9057px;border: 1px solid #CCCCCC;padding: 5px;">Der Authorization-Endpunkt des sektoralen IDP antwortet dem Authenticator-Modul mit dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>und einem Redirect zum Fachdienst<span style="font-size: 10pt;color: #172B4D;line-height: 1.5;">.</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">8</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">Das Authenticator-Modul des sektoralen IDP ruft über einen App-Link bzw. Universal-Link entsprechend der Redirect-URL das Anwendungsfrontend auf&nbsp;(eigentlich ein Redirect zum Fachdienst aber das Frontend ist auf die Adresse registriert)&nbsp;und übergibt den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">9</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Die Anwendungsfrontend leitet den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> (IDP) an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span>.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">10</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>reicht den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> (IDP) und den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span> beim Token-Endpunkt des sektoralen IDP ein&nbsp;und authentisiert sich als Client innerhalb der mTLS Verbindung.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">11</td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>erhält vom Token-Endpunkt des sektoralen IDP einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>mit den gewünschten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span>, der mit dem öffentlichen Schlüssel aus der Registrierung verschlüsselt ist.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 67px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 664px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Der weitere Ablauf entspricht dem OAuth-Flow und unterscheidet sich in Details je nach Ausprägung des Anwendungsfrontend als App oder Web-Anwendung.</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_74" style="text-align: center;" class="polarion-rte-caption-paragraph"> <span style="font-size: 10pt;line-height: 1.5;">&nbsp;</span> </p>
  <p id="polarion_77">Die Abläufe für App-App Kommunikation, Web-App Kommunikation und Kommunikation unter Beteiligung von zwei Geräten sind im Anhang B detailliert beschrieben.</p>
  <p id="polarion_171"></p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-135466">2.6 Ausblick auf die weitere Entwicklung der sektoralen IDPs</h3>
  <p id="polarion_326">Über den aktuellen Stand dieser Spezifikation hinaus werden verschiedene Erweiterungen der Funktionalitäten der sektoralen Identity Provider diskutiert, auf welche dieses Kapitel bereits einen Ausblick geben soll. Diese Aspekte benötigen jedoch zuvor eine angepasste Gesetzeslage, um in den Funktionsumfang des Identity Provider aufgenommen zu werden.</p>
  <p id="polarion_38"></p>
  <p id="polarion_405"> <span style="font-style: italic;">Möglichkeit der Einwilligung zur Nutzung von niederschwelligen Authentisierungsverfahren:</span> </p>
  <p id="polarion_101"> <span style="font-style: normal;">Die gematik plant, für die Versicherten neben den Authentifizierungsverfahren auf einem hohen Sicherheitsniveau zusätzlich auch komfortablere Verfahren auf einem niedrigeren Sicherheitsniveau zu erlauben, sofern die Versicherten nach sachgerechter Aufklärung über bestehende Risiken in diese Verfahren explizit einwilligen und die Einwilligung freiwillig erfolgt (d. h. Verfahren auf dem Niveau "hoch" auch tatsächlich parallel zur Verfügung stehen). Dabei ist sichergestellt, dass die Versicherten nur Risiken für sich selbst, niemals aber für Dritte eingehen können. Diese Einwilligungsmöglichkeit wird zudem bewusst nur für Versicherte, nicht aber für Leistungserbringende vorgesehen, da letztere auch Zugriff auf andere Patientendaten haben und deshalb durch die Einwilligung ein Risiko zulasten Dritter eingehen könnten.<br> Die einmalige Identifizierung (in Abgrenzung zur Authentifizierung) bleibt in jedem Fall auf dem Niveau "hoch", sodass zum einen eine lückenlose Identifizierung und Authentifizierung auf dem Niveau "hoch" ermöglicht wird und zum anderen, im Falle einer Einwilligung in ein niederschwelliges Authentifizierungsverfahren, die korrekte Identität des oder der Einwilligenden zweifelsfrei sichergestellt ist. Ziel ist es, die Nutzerakzeptanz zu verbessern, indem diese - im Sinne der informationellen Selbstbestimmung - selbst entscheiden können, wie komplex sie den Zugang zu ihren Anwendungen absichern wollen.</span> </p>
  <p id="polarion_146"> <span style="font-style: italic;"><br> </span> </p>
  <p id="polarion_394"> <span style="font-style: italic;">Biometrie:</span> </p>
  <p id="polarion_497"> Vorgaben zur Biometrie sind in der aktuellen Spezifikation noch nicht vorhanden sind, da nach Aussage des BSI kein ausreichendes Schutzniveau erreicht werden kann. Diese Features werden spezifiziert, sobald sie ein ausreichendes Schutzniveau erreichen können.<span id="polarion-comment:1818"></span> </p>
  <p id="polarion_429">Die Verwendung von biometrischen Faktoren wird in die Spezifikation mit aufgenommen, sobald Einigung zu klaren technischen Vorgaben und Prozessen besteht, nach denen transparent für den Nutzer entschieden wird, ob die biometrischen Sensoren eines Endgerätes für den Einsatz als Authentisierungsfaktor verwendet werden können. Ebenso ist es Voraussetzung, dass die Umsetzung der Vorgaben auf Entwicklungsebene praktikabel mit Systemmitteln zu realisieren ist, ohne die Verwaltung der Schlüssel und biometrischen Sensoren in der Software der Authenticator Module realisieren zu müssen.</p>
  <p id="polarion_500"></p>
  <p id="polarion_502"> <span style="font-style: italic;">Single Sign-On:</span> </p>
  <p id="polarion_504"> <span style="font-style: italic;"> </span> </p>
  <p id="polarion_480"> Vorgaben zum Single-Sign-On sind in der aktuellen Spezifikation noch nicht vorhanden sind, da nach Aussage des BSI kein ausreichendes Schutzniveau erreicht werden kann. Diese Features werden spezifiziert, sobald sie ein ausreichendes Schutzniveau erreichen können <span style="color: #000000;">oder der Nutzer auf ein niedrigeres Niveau einwilligen kann, mit dem ein Single-Sign-On BSI konform umsetzbar ist.<span id="polarion-comment:1819"></span></span> </p>
  <p id="polarion_483"> <span style="font-style: normal;">Sobald erste Anwendungen ausgerollt sind und die IDPs breiter genutzt werden, oder wenn Anwendungsfälle konkret werden, welche die Interaktion mit verschiedenen Fachdiensten der TI innerhalb einer Anwendung vereinen (für Anwendungen der Kassen, welche direkt am IDP registriert werden, ist dies bereits jetzt möglich) sollen Mechanismen etabliert werden, mit denen es ermöglicht wird, mit einer einzelnen Authentisierung für einen begrenzten Zeitraum ID_TOKEN für verschiedene Fachdienste zu erzeugen und damit dem Nutzer die Notwendigkeit zu ersparen, sich für jeden Fachdienst einzeln anzumelden. Gerade innerhalb einer Anwendung oder eines anwendungsübergreifenden Anwendungsfalls ist Single Sign-On essentiell.</span><span style="font-style: italic;"><br> </span> </p>
  <p id="polarion_511"></p>
  <p id="polarion_475"> <span id="polarion-comment:1807"></span><span style="font-style: italic;">Unterstützung von sektoralen Identity Provider für Leistungserbringer:</span> </p>
  <p id="polarion_513">Es werden die Vorgaben definiert, nach denen einer oder auch mehrere Identity Provider elektronische Identitäten für Leistungserbringer verwalten. Dies geschieht mit Fokus auf mobile&nbsp;Anwendungsszenarien. Mit entsprechenden Bedarfen soll es jedoch weitergehend auch auf Authentisierungen im Praxisumfeld erweitert werden. Die Institutionszugehörigkeit dabei als Attribut zu betrachten, welches durch benannte Vertreter der jeweiligen Institution verwaltet werden kann, wird in diesem Zusammenhang ebenfalls diskutiert.</p>
  <p id="polarion_446"></p>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-122074">3 Übergreifende Festlegungen</h2>
  <p id="polarion_96"> <span style="font-style: normal;color: #000000;">Der sektorale IDP muss die folgenden übergreifenden Anforderungen erfüllen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129513">
   <p><b>A_22838</b></p>
   <p>Der Anbieter des sektoralen IDP MUSS Sperrmeldungen von Sperrberechtigten, zu von ihm verantworteten Authentisierungsmitteln, jederzeit entgegennehmen und das betroffene Authentisierungsmittel oder auch den gesamten Zugang des Nutzers daraufhin unverzüglich sperren. <b>&lt;=</b></p>
  </div>
  <p id="polarion_100"> <span style="font-style: italic;">Hinweis: Dies bezieht sich nicht auf für eine Authentisierung verwendete eGK oder den&nbsp;<span style="font-size: 10pt;line-height: 1.5;">elektronischen Identitätsnachweis&nbsp;</span>(<span style="font-size: 10pt;line-height: 1.5;">online-Ausweisfunktion).</span></span> </p>
  <p id="polarion_187"> <span style="font-style: italic;font-size: 10pt;line-height: 1.5;">Hinweis: Grundsätzlich sollte eine effektive Sperrung so schnell wie möglich erfolgen (siehe auch&nbsp;TR 03107-1 Kap. 3.4.1).<span id="polarion-comment:1590"></span></span> </p>
  <p id="polarion_271"> <span id="polarion-comment:1582"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128519">
   <p><b>A_22690</b></p>
   <p>Der Hersteller des sektoralen IDP MUSS für sein Produkt im dazugehörigen Betriebshandbuch leicht ersichtlich darstellen, welche Voraussetzungen vom Betreiber und der Betriebsumgebung erfüllt werden müssen, damit ein sicherer Betrieb des Produktes gewährleistet werden kann. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128518">
   <p><b>A_22691</b></p>
   <p>Der Anbieter eines sektoralen IDP MUSS die im Betriebshandbuch des eingesetzten sektoralen IDP beschriebenen Voraussetzungen für den sicheren Betrieb des Produktes gewährleisten. <b>&lt;=</b></p>
  </div>
  <p id="polarion_154"></p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-135352">
   <p><b>A_23337</b></p>
   <p>Ein sektoraler IDP als Teilnehmer der TI-Föderation MUSS bei dem eingesetzten Schlüsselmaterial (Signatur,&nbsp; Authorisierungstoken, Entity Statement, etc.), folgende Vorgaben umsetzen:<br> 
    <ol>
     <li>Alle verwendeten Schlüssel MÜSSEN ein Sicherheitsniveau von 120 Bit ermöglichen (vgl. [gemSpec_Krypt#5 "Migration 120-Bit Sicherheitsniveau"]).</li>
     <li>Alle ECC-Schlüssel MÜSSEN auf einem <span id="polarion-comment:1803"></span>folgenden der Domainparameter (Kurven) basieren:</li>
     <li style="list-style: none">
      <ol>
       <li>P-256 oder P-384 [FIPS-186-4]</li>
      </ol></li>
    </ol> <b>&lt;=</b></p>
  </div>
  <p id="polarion_160"></p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133131">
   <p><b>A_23044</b></p>
   <p><span style="color: #000000;">Der Anbieter des sektoralen IDP KANN die Anmeldung an weiteren Diensten außerhalb der Föderation <span style="font-size: 10pt;line-height: 1.5;">unterstützen</span>&nbsp;und diesen die Authentisierung von Nutzern auf Basis der bestehenden digitalen Identitäten&nbsp;anbieten.</span> <b>&lt;=</b></p>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122101">3.1 Sicherheitsanforderungen für den operativen Betrieb</h3>
  <p id="polarion_203"> <span style="color: #FF0000;"><span id="polarion-comment:893"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124922">
   <p><b>A_22239</b></p>
   <p>Der Anbieter eines sektoralen Identity Provider&nbsp;MUSS die folgenden kryptographischen Objekte als schützenswerte Objekte in seinem Sicherheitskonzept berücksichtigen: (a) Private Schlüssel, (b) Öffentlicher Schlüssel, (c) Öffentliche Schlüssel von registrierten Clients, (d) Datensätze zu den einzelnen Nutzern, (e) Authentisierungsinformationen von Sperrberechtigten, (f) Dokumentation über beauftragte und durchgeführte Sperrungen, (g) Statusinformationen, (h) Authentisierungsinformationen zur Authentisierung von internen Akteuren bzw. Rollen, (i) Protokolldaten, (j) Konfigurationsdaten.<span id="polarion-comment:1527"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124923">
   <p><b>A_22240</b></p>
   <p>Der Anbieter des sektoralen Identity Provider MUSS Maßnahmen zum Schutz vor den zum Zulassungszeitpunkt aktuellen OWASP-Top-10-Risiken umsetzen und dokumentieren, wie es vorgesehen ist, ebenfalls auf die nach dem Zulassungszeitpunkt aktuellen OWASP-Top-10-Risiken zu reagieren. <b>&lt;=</b></p>
  </div>
  <p id="polarion_459"> <span style="font-style: italic;">Hinweis: Die Nichtanwendbarkeit eines OWASP-Top-10-Risikos ist zu begründen. Für Informationen zum Umgang mit den OWASP-Top-10-Risiken wird auf den aktuellen [OWASP Top 10 Report] und die darin enthaltenen Vorgehensweisen für z. B. Entwickler und Tester verwiesen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124924">
   <p><b>A_22241</b></p>
   <p>Der Anbieter eines sektoralen Identity Provider MUSS beim internen Datenaustausch die Integrität, Authentizität und Vertraulichkeit der Daten sichern. <b>&lt;=</b></p>
  </div>
  <p id="polarion_233"> <span style="color: #FF0000;"><span id="polarion-comment:1104"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132880">
   <p><b>A_22242-01</b></p>
   <p>Der Anbieter eines sektoralen Identity Provider&nbsp;MUSS für den Datenaustausch mit anderen Rollen und Diensten Mechanismen zur Sicherung der Datenintegrität, der Authentizität und der Vertraulichkeit der Daten zur Verfügung stellen. Hierzu gehören z. B.&nbsp;die Schnittstellen vom Anbieter eines sektoralen Identity Provider&nbsp;zur Attributbestätigenden Stelle für die&nbsp;Übermittlung der Attribute bei der Einrichtung eines Nutzers sowie von Supportfälle.<br> <b>&lt;=</b></p>
  </div>
  <p id="polarion_251"> <span style="font-style: italic;">Hinweis: Eine Übersicht zu den externen Schnittstellen findet sich in der Tabelle "Schnittstellenübersicht".<span id="polarion-comment:1595"></span></span> </p>
  <p id="polarion_376"> <span style="font-style: italic;">Hinweis: Die Attributbestätigende Stelle (z. B. der Kostenträger für Versicherte) verantwortet die Korrektheit dieser Daten.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134204">
   <p><b>A_22243-02</b></p>
   <p>Der Anbieter des sektorale Identity Provider SOLL für die Registrierung der Endanwender die bestehenden Datensätze der Endanwender (Versicherte) beim Kostenträger verwenden, so wie sie für eine Identifikation nach [GKV-SV Richtlinie "Kontakt mit Versicherten] beschrieben wurden. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124927">
   <p><b>A_22244</b></p>
   <p>Der Anbieter eines sektoralen Identity Provider&nbsp;MUSS sicherstellen, dass das Testsystem von dem Produktivsystem technisch, organisatorisch und betrieblich so getrennt wird, dass keine gegenseitige Beeinflussung und keine Verwechslung möglich sind.&nbsp; <b>&lt;=</b></p>
  </div>
  <p id="polarion_327"> <span style="color: #000000;"> </span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124928">
   <p><b>A_22245</b></p>
   <p><span style="color: #000000;">Der Anbieter eines sektoralen Identity Provider&nbsp;MUSS die Einrichtungs- und Sperrprozesse datenschutzgerecht ausgestalten, d.h. insbesondere sind für die Verarbeitung der Antrags- und Sperrauftragsdaten die Datenschutzgrundsätze gemäß Art. 5 DSGVO zu berücksichtigen, sowie die technischen und organisatorischen Maßnahmen nach Art. 25 und Art. 32 DSGVO zu treffen.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124929">
   <p><b>A_22246</b></p>
   <p><span style="color: #000000;">Der Anbieter eines sektoralen Identity Provider&nbsp;MUSS die Attributsdaten&nbsp;und Sperraufträge zu einem Nutzer unverzüglich löschen, sobald die gesetzlichen oder vertraglichen Aufbewahrungsfristen erreicht sind.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129516">
   <p><b>A_22839</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Falls der Anbieter eines sektoralen IDP eine Protokollierung zum Zwecke der Fehler- bzw. Störungsbehebung durchführen muss, MÜSSEN die Protokolldaten entsprechend dem Datenschutzgrundsatz der Datenminimierung (gemäß Art. 5 Abs. 1 Satz 1 lit.c DSGVO unter Berücksichtigung der Art. 25, 32 DSGVO) derart gestaltet sein, dass nur personenbezogene Daten in der Art und dem Umfang enthalten sind, wie sie zur Behebung erforderlich sind.</span> Insbesondere MUSS der Anbieter eines sektoralen IDP sicherstellen, dass ein Bezug zwischen Nutzer und Fachdienst aus den Protokollen nicht ersichtlich sein.<span id="polarion-comment:1505"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_185"> <span style="font-style: italic;">Hinweis: Eine Protokollierungspflicht besteht nicht.<span id="polarion-comment:1648"></span></span> </p>
  <p id="polarion_113"> <span style="font-style: italic;">Hinweis: Sollte es zur Störungsbehebung notwendig sein, eine Fachdienstanfrage und Nutzerauthentisierung zu korrelieren, kann der sektorale IDP zu diesem Zweck die durch den Fachdienst für diesen Fall auf organisatorischem Weg zu liefernde "nonce" der Anfrage nutzen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133036">
   <p><b>A_23021</b></p>
   <p>Wenn der Anbieter eines sektoralen Identity Providers die Anmeldung an weiteren Dienste außerhalb der Föderation unterstützt MUSS sichergestellt sein, dass die Anforderungen an Verfügbarkeit, Performance und Sicherheit der Schnittstellen für Fachdienste der Föderation erfüllt werden.<span id="polarion-comment:1596"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133039">
   <p><b>A_23023</b></p>
   <p>Der sektorale IDP MUSS sicherstellen, dass alle Eingabewerte, welche vom sektoralen IDP über externe Schnittstellen (siehe Tabelle "<span style="font-style: italic;">Schnittstellenübersicht</span>") entgegengenommen und verarbeitet werden,<span id="polarion-comment:1506"></span> auf schadhafte Werte geprüft werden.<span id="polarion-comment:1597"></span><br> <b>&lt;=</b></p>
  </div>
  <p id="polarion_669"> <span style="font-style: italic;">Hinweis: Eine Prüfung der Eingabewerte muss produktseitig bereitgestellt werden und sollte mindestens Prüfungen auf Länge, Character Set, Schlüsselwörter und Steuerzeichen enthalten. Ein Fuzzing im Rahmen des Produkttests bzw. der Inbetriebnahme ist durchzuführen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133038">
   <p><b>A_23022</b></p>
   <p><span style="font-size: 10pt;color: #172B4D;line-height: 1.5;">Werden Daten der Authentisierungsprozesse im sektoralen IDP geändert oder gelöscht, ohne dass der Nutzer direkt involviert ist, so MUSS der Anbieter des sektoralen IDP sicherstellen, dass die operativen Prozesse dazu ausschließlich im 4-Augen-Prinzip ausgeführt werden. Der Nutzer ist über die Änderungen zu informieren und die Änderung MUSS erkennbar sein.<span id="polarion-comment:1798"></span><span id="polarion-comment:1817"></span><span id="polarion-comment:1838"></span><span id="polarion-comment:1663"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_321"> <span style="font-style: italic;font-size: 10pt;color: #172B4D;line-height: 1.5;">Hinweis: Serviceprozesse welche der Nutzer über den Support in Anspruch nimmt (z. B. Passwort ändern/rücksetzen) sind von dieser Anforderung nicht betroffen.</span><span style="font-style: italic;font-size: 11pt;color: #172B4D;line-height: 1.5;"><span id="polarion-comment:1581"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-136621">
   <p><b>A_23499</b></p>
   <p>Werden personenbezogene Daten im sektoralen IDP geändert oder gelöscht, ohne dass der Betroffene direkt involviert ist, so MUSS der Anbieter des sektoralen IDP sicherstellen, dass die operativen Prozesse dazu ausschließlich im 4-Augen-Prinzip ausgeführt werden. Der Nutzer ist über die Änderungen zu informieren. Personenbezogene Daten, die über den Synchronisationsprozess mit den Kassensystemen geändert oder gelöscht werden, sind von diesem operativen Prozess nicht betroffen.<span id="polarion-comment:1839"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_35"> <span style="font-style: italic;">Hinweis: Im Regelfall erfolgen solche Datenänderungen in den Bestandsystemen der Krankenkassen, die über Synchronisationsprozesse den Datenbestand des sektoralen IDP aktualisieren. Hier erfolgt die Information an die Versicherten allein über die kassenüblichen Prozesse.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129474">
   <p><b>A_22824</b></p>
   <p>Der Anbieter eines sektoralen Identity Provider&nbsp;MUSS den Dienst so konfigurieren, dass bei Vollauslastung der Systemressourcen im sektoralen Identity Provider keine weiteren Verbindungen angenommen werden und dieser stattdessen mit&nbsp;dem HTTP-Statuscode "429 -&nbsp;Too Many Requests" antwortet. <b>&lt;=</b></p>
  </div>
  <p id="polarion_111"> <span style="font-style: italic;">Hinweis: Durch die Zurückweisung von Verbindungen wird sichergestellt, dass Clients einen Verbindungsaufbau mit einer anderen Instanz des Dienstes versuchen, bei der die erforderlichen Systemressourcen zur Verfügung stehen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128520">
   <p><b>A_22692</b></p>
   <p>Der Anbieter des sektoralen IDP MUSS nachweisen, dass er die aktuellen Empfehlungen des BSI bei der Standortwahl seiner Rechenzentren vollumfänglich umsetzt. Der Anbieter des sektoralen IDP MUSS Unterschreitungen der Empfehlungen des BSI begründen und die Abmilderung der Risiken begründet nachweisen.&nbsp;Der Anbieter des sektoralen IDP MUSS einen Prozess für die Umsetzung zukünftige Empfehlungen des BSI bei der Standortwahl seiner Rechenzentren&nbsp;nachweisen. <b>&lt;=</b></p>
  </div>
  <p id="polarion_92"> <span style="font-style: italic;">Hinweis: Weitere Informationen finden Sie unter:<span id="polarion-comment:1507"></span> <a href="https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/RZ-Sicherheit/Standort-Kriterien_Rechenzentren.pdf" target="_top" class="descriptionLink">https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/RZ-Sicherheit/Standort-Kriterien_Rechenzentren.pdf</a> </span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124933">
   <p><b>A_22250</b></p>
   <p>Der Anbieter eines sektoralen Identity Provider MUSS sicherstellen, dass die Schnittstellen des sektoralen Identity Provider nur über eine gegen Abhören, Manipulation und Replay-Angriffe geschützte Verbindung genutzt werden können. <b>&lt;=</b></p>
  </div>
  <p id="polarion_39"> <span style="font-style: italic;">Hinweis: Eine Übersicht zu den Schnittstellen findet sich in der Tabelle "Schnittstellenübersicht".<span id="polarion-comment:1741"></span></span> </p>
  <p id="polarion_85"> <span id="polarion-comment:1483"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-126997">
   <p><b>A_22512</b></p>
   <p>Der Anbieter eines sektoralen IDP MUSS sicherstellen, dass seine Schnittstellen ins Internet an allen Standorten durch einen DDoS-mitigierenden Dienstleister geschützt werden. <b>&lt;=</b></p>
  </div>
  <p id="polarion_288"> <span style="font-style: italic;">Hinweis: Die Informationen zu den Empfehlungen des BSI sind zu&nbsp;<span id="polarion-comment:1508"></span>berücksichtigen:<br> <a href="https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Cyber-Sicherheit/Themen/Dienstleister-DDos-Mitigation.html" target="_top" class="descriptionLink">https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Cyber-Sicherheit/Themen/Dienstleister-DDos-Mitigation.html</a> <br> <a href="https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Cyber-Sicherheit/Themen/Dienstleister-DDos-Mitigation-Liste.pdf;" target="_top" class="descriptionLink">https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Cyber-Sicherheit/Themen/Dienstleister-DDos-Mitigation-Liste.pdf;</a>&nbsp;</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133299">
   <p><b>A_23099</b></p>
   <p><span style="color: #000000;">Der Anbieter eines sektoralen IDP MUSS im Sinne der vollständigen DSGVO-Konformität sicherstellen, dass die Datenverarbeitung innerhalb der Europäischen Union erfolgt und dieses auch nachweisen.<span id="polarion-comment:1631"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_109"> <span id="polarion-comment:1598"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128526">
   <p><b>A_22694</b></p>
   <p>Der Anbieter des sektoralen Identity Provider MUSS diesen an mindestens zwei Standorten betreiben. <br>Jeder Standort MUSS dabei die Performancevorgaben allein erfüllen. <br>Eine getrennte Adressierung durch zugreifende Anwendungsfrontends und Fachdiensten MUSS hierdurch möglich sein - alternativ ist diese Adressierung auch durch den DDoS-mitigierenden Dienstleister erlaubt.<br><span id="polarion-comment:1509"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_182"> <span style="font-style: italic;">Hinweis: <span style="font-size: 10pt;color: #172B4D;line-height: 1.5;">Ein Aktiv-Aktiv Betrieb der beiden Standorte ist nicht gefordert, entscheidend ist die Sicherstellung der Verfügbarkeit.<span id="polarion-comment:1578"></span></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128525">
   <p><b>A_22695</b></p>
   <p>Ab dem 31.12.2023 MUSS der&nbsp;Anbieter des sektoralen Identity Provider seinen Dienst an zwei Standorten gemäß A_22692 betreiben, wobei eine Unterschreitung des Abstandes von 100 km gemäß A_22692 nicht zulässig ist. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134767">
   <p><b>A_22506-01</b></p>
   <p>Der Anbieter des sektoralen Identity Provider MUSS pro Standort ein unabhängiges Bedienpersonal vorhalten, um die Risiken der Standortvorgaben des BSI tragen zu können. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-126858">
   <p><b>A_22508</b></p>
   <p>Der sektorale Identity Provider MUSS von ihm nicht erlaubte Authenticator-Module (anhand der Versionsnummern) ablehnen, von einer Kommunikation mit dem sektoralen Identity Provider ausschließen und diesen Verbindungsversuch mit dem Status-Code 79105 in den Rohdaten protokollieren. <b>&lt;=</b></p>
  </div>
  <p id="polarion_51"> <span id="polarion-comment:1759"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-126861">
   <p><b>A_22509</b></p>
   <p>Der sektorale Identity Provider MUSS Authenticator-Module mit fehlenden Versionsnummern ablehnen, von einer Kommunikation mit dem sektoralen Identity Provider ausschließen und diesen Verbindungsversuch in den Rohdaten&nbsp;mit dem Error-Code 403 protokollieren. <b>&lt;=</b></p>
  </div>
  <p id="polarion_198"> <span id="polarion-comment:1762"></span> </p>
  <p id="polarion_153"> <span id="polarion-comment:1761"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132222">
   <p><b>A_22931</b></p>
   <p>Das Authenticator-Modul MUSS in Requests an den IDP seine Produktversion&nbsp;übermitteln. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124935">
   <p><b>A_22253</b></p>
   <p>Der sektorale Identity Provider MUSS die vom Authenticator-Modul mitgeteilte Versionsnummer erkennen und festgelegte Versionsnummern über eine blockinglist von einer Kommunikation ausschließen können.<span id="polarion-comment:1523"></span><span id="polarion-comment:1599"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-126859">
   <p><b>A_22254-01</b></p>
   <p>Der sektorale Identity Provider MUSS auf Anweisung der gematik Authenticator-Module mit bestimmten Versionsnummern von einer Kommunikation mit dem sektoralen Identity Provider ausschließen und diesen Verbindungsversuch in den Rohdaten protokollieren. <b>&lt;=</b></p>
  </div>
  <p id="polarion_283"> <span style="font-style: italic;">Hinweis: Im Regelprozess sichert der Betreiber in Eigenverantwortung zu, dass nur unterstützte und sichere Versionen des Authenticator-Moduls mit den Serverkomponenten des Sektoralen IDP kommunizieren dürfen.<br> Bei dieser Anforderung handelt es sich um eine betriebliche Eskalation im Notfall und nicht um einen Regelprozess.</span>&nbsp; </p>
  <p id="polarion_234"> <span id="polarion-comment:1845"></span><span id="polarion-comment:1600"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134205">
   <p><b>A_23192</b></p>
   <p>Der Anbieter des sektoralen Identity Provider MUSS Schlüsselpaare welche zur Signatur von Entity Statements bzw. <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> oder zur TLS-Authentisierung verwendet werden, nach maximal&nbsp;<span style="font-size: 10pt;line-height: 1.5;">398 Tagen austauschen.<span id="polarion-comment:1692"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_165"> <span style="font-style: italic;">Hinweis: Für TLS Schlüssel ist dies konsistent zu den aktuellen Vorgaben des CAB-Forum.</span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-128736">3.2 Vertrauenswürdige Ausführungsumgebung</h3>
  <p id="polarion_152"> <span style="font-size: 10pt;color: #000000;line-height: 1.5;">In diesem Abschnitt werden die Anforderungen an den sektoralen IDP zur Umsetzung einer Vertrauenswürdigen Ausführungsumgebung (VAU) dargestellt. Die VAU dient der datenschutzrechtlich zulässigen und sicheren Verarbeitung von schützenswerten Klartextdaten innerhalb des sektoralen IDP sowie dem technischen Ausschluss einer Profilbildung durch den Anbieter bzw. Betreiber.<span id="polarion-comment:941"></span>&nbsp;Sie verhindert ein Eingreifen des Anbieters in den sicheren Betrieb und die Manipulation von Daten. Die VAU stellt dazu Verarbeitungskontexte (d. h. Instanzen der VAU) bereit, in denen die Verarbeitung sensibler Daten im Klartext erfolgen kann. Diese Verarbeitungskontexte sind entsprechend zu schützen. Durch diese Ausgrenzung des Betreibers von kritischen Operationen ist es nicht mehr Notwendig Einschränkungen für den Umfang der weiteren durch den Anbieter bzw. Betreiber bereitgestellten Dienste umzusetzen, um möglichen Interessenkonflikten zu begegnen.&nbsp;Im Anhang C ist u.a. ein&nbsp;<span class="polarion-rte-link" data-type="crossReference" id="fake" data-custom-label="Beispiel für eine RZ-Lösung einer VAU" data-item-id="ML-132990" data-option-id="custom"></span> beschrieben.</span><span style="font-size: 10pt;color: #FF0000;line-height: 1.5;"><span id="polarion-comment:1370"></span></span><span style="font-size: 10pt;color: #000000;line-height: 1.5;"><span id="polarion-comment:1052"></span></span> </p>
  <p id="polarion_156" style="text-align: center;" class="polarion-rte-caption-paragraph"> <img src="attachments/KD_IDP-VAU.drawio.png" style="width: 754px;height: 690px;" data-lastmodified="2022-10-24T14:14:47.214+02:00"> </p>
  <p id="polarion_404" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung<span id="polarion-comment:1323"></span> <span data-sequence="Abbildung" class="polarion-rte-caption">4</span>: Schnittstellen der in der VAU laufenden Komponente des sektoralen IDP<span id="polarion-comment:1528"></span><span id="polarion-comment:1379"></span><span id="polarion-comment:1378"></span> </p>
  <p id="polarion_181"></p>
  <p id="polarion_490" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> <span id="polarion-comment:1053"></span> </p>
  <p id="polarion_52" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">4</span>: Vorgaben für die im sektoralen IDP befindlichen Endpunkte zur Ausführung in einer VAU&nbsp; </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=15" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 206px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Schnittstelle</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 190px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Gegenstelle<span id="polarion-comment:1324"></span></th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 172px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Beschreibung</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 141px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">VAU Ausführung</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 206px;height: 127px;border: 1px solid #CCCCCC;padding: 5px;">Pushed Authorization Request (PAR) </td> 
     <td style="text-align: left;vertical-align: top;width: 190px;height: 127px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst Authorization-Server</td> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 127px;border: 1px solid #CCCCCC;padding: 5px;">Der Pushed Authorization Request enthält Informationen zum anfragenden Fachdienst und zum <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope </span>der angeforderten Daten des Nutzers.<br> </td> 
     <td style="text-align: left;vertical-align: top;width: 141px;height: 127px;border: 1px solid #CCCCCC;padding: 5px;">zwingend</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 206px;height: 127px;border: 1px solid #CCCCCC;padding: 5px;">Einlösen des Authorization Code</td> 
     <td style="text-align: left;vertical-align: top;width: 190px;height: 127px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst Authorization-Server</td> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 127px;border: 1px solid #CCCCCC;padding: 5px;">Der Token-Request zum Einlösen des&nbsp;Authorization Code enthält Informationen zum Fachdienst. Der Response auf den Request enthält Informationen zum Nutzer.</td> 
     <td style="text-align: left;vertical-align: top;width: 141px;height: 127px;border: 1px solid #CCCCCC;padding: 5px;">zwingend</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 206px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">Abruf selbstsigniertes Entity Statement</td> 
     <td style="text-align: left;vertical-align: top;width: 190px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst Authorization-Server</td> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">Der Fachdienst bezieht die Konfigurationsparameter, Adressen und Schlüssel des sektoralen IDP</td> 
     <td style="text-align: left;vertical-align: top;width: 141px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">optional</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 206px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">Abruf Entity Statement zur Teilnehmerauskunft</td> 
     <td style="text-align: left;vertical-align: top;width: 190px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">Federation Master</td> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">Der Schlüssel des Federation Master zum Verifizieren der von diesem signierten Entity Statements wird sicher verwahrt.<span id="polarion-comment:944"></span><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 141px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">optional</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 206px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">Authentifizierung</td> 
     <td style="text-align: left;vertical-align: top;width: 190px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">Authenticator-Modul auf Endgerät des Nutzers</td> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">Die Ausprägung der Schnittstelle kann anwendungsspezifisch gestaltet werden.</td> 
     <td style="text-align: left;vertical-align: top;width: 141px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">optional</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 206px;height: 171px;border: 1px solid #CCCCCC;padding: 5px;">Consent-Freigabe<br> und Initialer Authorization Request</td> 
     <td style="text-align: left;vertical-align: top;width: 190px;height: 171px;border: 1px solid #CCCCCC;padding: 5px;">Authenticator-Modul auf Endgerät des Nutzers<span id="polarion-comment:945"></span></td> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 171px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #FF0000;"> </span><span style="color: #000000;">Es muss nachprüfbar gewährleistet sein, dass der Betreiber des sektoralen IDP keinen Zugriff auf die über die Schnittstelle transportierten Inhalte bezüglich des Anfragenden Dienstes erlangen kann.</span><span style="color: #FF0000;"> <span id="polarion-comment:1048"></span></span></td> 
     <td style="text-align: left;vertical-align: top;width: 141px;height: 171px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">zwingend</span><span style="color: #FF0000;"> </span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 206px;height: 113px;border: 1px solid #CCCCCC;padding: 5px;">Aktualisierung der Identitätsdaten im sektoralen IDP</td> 
     <td style="text-align: left;vertical-align: top;width: 190px;height: 113px;border: 1px solid #CCCCCC;padding: 5px;">Anwendungssystem, welchen die Identitäten der Versicherten verwaltet (Attributbestätigende Stelle)</td> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 113px;border: 1px solid #CCCCCC;padding: 5px;">Die Aktualisierung des Datenbestandes des sektoralen IDP erfolgt durch das Bestandssystem der jeweiligen attributbestätigenden Stelle.</td> 
     <td style="text-align: left;vertical-align: top;width: 141px;height: 113px;border: 1px solid #CCCCCC;padding: 5px;">optional<br> <span id="polarion-comment:1567"></span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 206px;height: 136.5px;border: 1px solid #CCCCCC;padding: 5px;">Ablage und Abfrage der vom sektoralen IDP verwalteten schützenswerten Prozessdaten der Nutzerauthentifizierung.</td> 
     <td style="text-align: left;vertical-align: top;width: 190px;height: 136.5px;border: 1px solid #CCCCCC;padding: 5px;">Datenbank für&nbsp;Prozessdaten der VAU</td> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 136.5px;border: 1px solid #CCCCCC;padding: 5px;">Die&nbsp;vom sektoralen IDP verwalteten schützenswerten Daten liegen verschlüsselt in einer Datenbank auf&nbsp;welche nur aus einer VAU zugegriffen werden kann. Die Datenbank kann innerhalb oder außerhalb der VAU betrieben werden. Bei einem Betrieb außerhalb der VAU muss&nbsp;gewährleistet sein, dass der Betreiber des sektoralen IDP keinen Zugriff auf die über die Schnittstelle<span id="polarion-comment:1769"></span> transportierten Inhalte hat.<br> <span style="font-style: italic;">Hinweis: Schützenswerte Daten im Kontext der sektoralen IDP sind die Daten, welche innerhalb der VAU zum laufenden Authentifizierungsprozess erzeugt bzw. gespeichert werden (client_id, state, redirect_uri, code_challenge, <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>, <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID-TOKEN</span>),<span id="polarion-comment:1791"></span> sowie die Daten für das Nutzerprotokoll.</span></td> 
     <td style="text-align: left;vertical-align: top;width: 141px;height: 136.5px;border: 1px solid #CCCCCC;padding: 5px;">optional<br> <br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_229"> <span id="polarion-comment:1601"></span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-128737">3.2.1 Verarbeitungskontext</h4>
  <p id="polarion_184"> <span style="font-size: 10pt;color: #000000;line-height: 1.5;">Die Gesamtheit aus der für eine Klartextverarbeitung erforderlichen Software, dem für eine Klartextverarbeitung genutzten physikalischen System sowie den für die Integrität einer Klartextverarbeitung erforderlichen organisatorischen und physischen Rahmenbedingungen bildet den Verarbeitungskontext der Vertrauenswürdigen Ausführungsumgebung (VAU).&nbsp;Zur Vertrauenswürdigen Ausführungsumgebung gehören neben den Verarbeitungskontexten alle für ihre Erreichbarkeit und betriebliche Steuerung erforderlichen Komponenten.&nbsp;Der Verarbeitungskontext grenzt sich von allen weiteren, im betrieblichen Kontext beim Anbieter des sektoralen IDP vorhandenen Systemen und Prozessen dadurch ab, dass die sensiblen Klartextdaten von Komponenten innerhalb des Verarbeitungskontextes aus erreichbar sind oder sein können, während sie dies von außerhalb des Verarbeitungskontextes nicht sind. Sensible Daten verlassen den Verarbeitungskontext ausschließlich gemäß wohldefinierten (Zugriffs-)Regeln und in verschlüsselter Form.</span> </p>
  <p id="polarion_312"> <span style="font-size: 10pt;color: #000000;line-height: 1.5;">Umsetzungsempfehlungen für die Realisierung einer Vertrauenswürdigen Ausführungsumgebung finden sich im Anhang C.</span> </p>
  <p id="polarion_484"></p>
  <table id="polarion_wiki macro name=table;params=header=no|width=100%|uid=485" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <td style="width: 591.6px;height: 18.8px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #3333FF;">Offener Punkt:&nbsp;Die Prüfung der Anforderung an den Betrieb VAU und&nbsp;Umsetzungsvorschläge bzw. -hinweise in cloud-Infrastrukturen sind derzeit in Arbeit. Details dazu werden diesem Kapitel später hinzugefügt.</span></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_515"></p>
  <p id="polarion_313"> <span style="font-size: 10pt;color: #000000;line-height: 1.5;"><span id="polarion-comment:974"></span></span><span id="polarion-comment:1185"></span><span style="color: #FF0000;"><span id="polarion-comment:1184"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129574">
   <p><b>A_22864</b></p>
   <p>Der sektorale IDP MUSS die Verarbeitung aller Operationen welche die Ziele gemäß <span style="font-size: 10pt;line-height: 1.5;">A_23018,&nbsp;A_23019 und&nbsp;A_22959 gewährleisten&nbsp;</span>in einer Vertrauenswürdigen Ausführungsumgebung umsetzen.&nbsp;Die HTTP-Verbindungen zwischen Fachdiensten und sektoralem IDP MÜSSEN als mTLS-Verbindungen<span id="polarion-comment:1646"></span> ausgelegt werden,&nbsp;welche innerhalb der VAU terminieren. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132956">
   <p><b>A_23002</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP MUSS sicherstellen, dass alle Operationen, welche die Ziele gemäß&nbsp;A_23018,&nbsp;A_23019 und&nbsp;A_22959 gewährleisten, in einer vertrauenswürdigen Ausführungsumgebung umgesetzt werden.<span id="polarion-comment:1602"></span></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133011">
   <p><b>A_23018</b></p>
   <p>
    <div style="margin-left: 2em">
     <ul>
      <li>Aus den Daten, welche zum Zweck eines Reporting an die gematik erstellt werden, DARF es NICHT möglich sein, dass eine Zuordnung von Fachdiensten zu&nbsp;einzelnen Authentisierungen oder Nutzern durchgeführt werden kann.</li>
      <li><span style="font-size: 11pt;color: #172B4D;line-height: 1.5;">Die Verknüpfung einer Nutzeridentität / Authentisierung zu einem Fachdienst DARF sowohl für Dritte als auch den Betreiber selbst NICHT einsehbar sein</span>.<span id="polarion-comment:1836"></span></li>
     </ul>
    </div> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133010">
   <p><b>A_23019</b></p>
   <p>
    <ul>
     <li>Sowohl Dritte als auch der Betreiber selbst DARF NICHT Zugriff auf das Schlüsselmaterial der TLS-Verbindungen haben.<span id="polarion-comment:1371"></span></li>
     <li>Sowohl Dritte als auch der Betreiber selbst&nbsp;DARF NICHT Zugriff auf die für die Signatur von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> verwendeten Schlüssel&nbsp;haben.</li>
     <li>Sowohl Dritte als auch der Betreiber selbst&nbsp;DARF NICHT Zugriff auf die im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und in der Request-URI kodierten Informationen haben.</li>
    </ul> <b>&lt;=</b></p>
  </div>
  <p id="polarion_19"> <span style="font-style: italic;">Hinweis 1: Siehe in diesem Zusammenhang auch A_23031 - TLS-Verbindung&nbsp;Authenticator-Modul - Vertrauenswürdige Ausführungsumgebung.</span> </p>
  <p id="polarion_731"> <span style="font-style: italic;">Hinweis 2: Ein Logging zur Betriebsüberwachung und Fehleranalyse ist zulässig, darf jedoch keine Identifikation des genutzten Fachdienstes zulassen.</span> </p>
  <p id="polarion_47"> <span style="font-style: italic;"> </span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132631">
   <p><b>A_22959</b></p>
   <p>Der Anbieter des sektoralen IDP MUSS dafür sorgen, dass der Prozess zur Freigabe des Consent durch den Nutzer verschlüsselt und nicht einsehbar für Dritte oder den Betreiber selbst erfolgt.<span id="polarion-comment:1011"></span><span id="polarion-comment:1055"></span><span id="polarion-comment:1573"></span> <b>&lt;=</b></p>
  </div>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-128739">3.2.2 Ausschluss von nicht autorisierten Zugriffen aus dem Betriebsumfeld</h4>
  <p id="polarion_207"> <span style="font-size: 10pt;color: #000000;line-height: 1.5;">Der Schutzbedarf der in der VAU verarbeiteten Klartextdaten erfordert den technischen Ausschluss von Zugriffen des Anbieters. Dies umfasst insbesondere Zugriffe durch Personen aus dem betrieblichen Umfeld des Anbieters.</span> </p>
  <p id="polarion_202"></p>
  <p id="polarion_73"> <span style="font-size: 10pt;color: #FF0000;line-height: 1.5;"><span id="polarion-comment:981"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129481">
   <p><b>A_22829</b></p>
   <p><span style="color: #000000;">Der&nbsp;Anbieter des sektoralen IDP MUSS das private Schlüsselmaterial für kryptografische Verfahren in einem HSM speichern, dessen Eignung durch eine erfolgreiche Evaluierung nachgewiesen wurde. Als Evaluierungsschemata kommen dabei Common Criteria oder Federal Information Processing Standard (FIPS) in Frage.<br> Die Prüftiefe MUSS mindestens:&nbsp;<br></span> 
    <ol style="color: #172B4D;">
     <li><span style="color: #000000;">FIPS 140-2 Level 3 oder</span></li>
     <li><span style="color: #000000;">Common Criteria EAL 4+ erweitert um AVA_VAN.5 entsprechen</span></li>
    </ol><span id="polarion-comment:1632"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134282">
   <p><b>A_23205</b></p>
   <p><span style="color: #172B4D;">Der Anbieter des sektoralen IDP MUSS Prozesse für die Verwaltung der Systeme der VAU etablieren, welche die Authentizität und Integrität der Verarbeitungskontexte systematisch von einem kryptographischen Root-of-Trust ableiten,&nbsp;<span style="font-weight: normal;">der in einem HSM gemäß A_22829 verwaltet wird.</span><br> Der Anbieter des sektoralen IDP MUSS bei der Ableitung ein Vertrauensniveau erreichen, welches für den Schutzbedarf der in der VAU verarbeiteten Daten angemessenen ist und das auf Attestation der genutzten Systeme sowie ggf. auf der Prüfung von Signaturen der geladenen Software inklusive ihrer Konfiguration basiert.<br> Der Anbieter des sektoralen IDP MUSS für die Verwaltung des Root-of-Trust ein Mehraugenprinzip umsetzen und - soweit für systematischen Ausschluss einseitig durch den Anbieter durchführbarer Manipulationen erforderlich - eine Einbeziehung der gematik vorsehen.<br> Der Anbieter des sektoralen IDP MUSS der gematik dabei eine Remote-Teilnahme an den erforderlichen Zeremonien ermöglichen.</span>&nbsp;<span id="polarion-comment:1702"></span><span id="polarion-comment:1792"></span><span id="polarion-comment:1820"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129483">
   <p><b>A_22830</b></p>
   <p><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Der<span id="polarion-comment:1118"></span> Verarbeitungskontext des sektoralen IDP<span id="polarion-comment:1383"></span> MUSS sämtliche physikalischen Systemkomponenten sowie sämtliche Softwarekomponenten umfassen, deren Sicherheitseigenschaften sich auf den Schutz der personenbezogenen Daten vor Zugriff durch Unbefugte bei ihrer<span id="polarion-comment:975"></span> Verarbeitung&nbsp;im Klartext auswirken können.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129528">
   <p><b>A_22840</b></p>
   <p>Der<span id="polarion-comment:1119"></span> Verarbeitungskontext des sektoralen IDP MUSS sicherstellen, dass sämtliche schützenswerten Daten vor einer Speicherung außerhalb der VAU verschlüsselt werden. Dies betrifft auch Daten zu Logging und Protokollierung. <b>&lt;=</b></p>
  </div>
  <p id="polarion_328"> <span style="font-style: italic;">Hinweis: Schützenswerten Daten im Kontext der sektoralen IDP sind die Daten, welche innerhalb der VAU zum laufenden Authentifizierungsprozess erzeugt bzw. gespeichert werden<span style="font-size: 10pt;line-height: 1.5;"> (<span style="color: #242424;">client_id, state, redirect_uri, code_challenge, <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>, <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID-TOKEN</span>)</span></span>, sowie die Daten für das Nutzerprotokoll.</span><span style="font-style: italic;font-size: 11pt;color: #172B4D;line-height: 1.5;"><span id="polarion-comment:1583"></span><span id="polarion-comment:1788"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129526">
   <p><b>A_22841</b></p>
   <p>Schlüsselmaterial, dass zur Verschlüsselung von außerhalb des Verarbeitungskontextes der VAU gespeicherten Daten genutzt wird, MUSS entweder durch ein HSM geschützt in den Verarbeitungskontext der VAU eingebracht werden, oder in einem HSM verbleiben.<span id="polarion-comment:1681"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129527">
   <p><b>A_22842</b></p>
   <p>Das HSM der VAU des sektoralen IDP MUSS eine Schnittstelle zum Abruf symmetrischer Persistenzschlüssel bereitstellen. Erzeugte Schlüssel für die Persistierung der Daten MÜSSEN eineindeutig einem Nutzer zugeordnet sein.<span id="polarion-comment:1682"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129537">
   <p><b>A_22843</b></p>
   <p>Der<span id="polarion-comment:1123"></span> Verarbeitungskontext des sektoralen IDP MUSS sicherstellen, dass sämtliche schützenswerten Daten ausschließlich über TLS-gesicherte Verbindungen weitergegeben werden.<span id="polarion-comment:1840"></span><span id="polarion-comment:1633"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_332"> <span style="font-style: italic;">Hinweis: Schützenswerten Daten im Kontext der sektoralen IDP sind die Daten, welche innerhalb der VAU zum laufenden Authentifizierungsprozess erzeugt bzw. gespeichert werden (client_id, state, redirect_uri, code_challenge, <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>, <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID-TOKEN</span>), sowie die Daten für das Nutzerprotokoll.</span><span style="font-style: italic;font-size: 11pt;color: #172B4D;line-height: 1.5;"><span id="polarion-comment:1603"></span><span id="polarion-comment:1789"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129538">
   <p><b>A_22844</b></p>
   <p>Der<span id="polarion-comment:1124"></span> Verarbeitungskontext des sektoralen IDP MUSS sicherstellen, dass er nur mTLS-gesichert<span id="polarion-comment:1647"></span>&nbsp;mit Fachdiensten kommuniziert.<span id="polarion-comment:977"></span><span id="polarion-comment:1634"></span><span id="polarion-comment:1699"></span><span id="polarion-comment:1816"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129531">
   <p><b>A_22847</b></p>
   <p>Der<span id="polarion-comment:1125"></span> Verarbeitungskontext des sektoralen IDP MUSS sich gegenüber Clients, welche mit ihm kommunizieren, mit einem TLS-Zertifikat ausweisen, auf dessen privaten Schlüssel der Betreiber des sektoralen IDP keinen Zugriff hat. <b>&lt;=</b></p>
  </div>
  <p id="polarion_59"> <span id="polarion-comment:1351"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132981">
   <p><b>A_23006</b></p>
   <p>Der Verarbeitungskontext des sektoralen IDP MUSS diese Endpunkte anbieten:<br> 
    <ul> 
     <li>Endpunkt für&nbsp;Authorization Requests</li> 
     <li>Endpunkt für Pushed Authorization Requests</li> 
     <li>Token-Endpunkt</li> 
    </ul> Für die Endpunkte der VAU MUSS eine eigene Subdomäne, welche keine Wildcard-Domäne ist, erstellt werden. <b>&lt;=</b></p>
  </div>
  <p id="polarion_63"> <span style="font-style: italic;">Hinweis: Die Erstellung einer eigenen Subdomäne für die VAU eines sektoralen IDP ist notwendig um die Certificate Transparency&nbsp;TLS-Zertifikate<span id="polarion-comment:1381"></span> im Federation Master effektiv prüfen zu können.</span> </p>
  <p id="polarion_75"> <span id="polarion-comment:1551"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132555">
   <p><b>A_22943</b></p>
   <p><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Der Anbieter des sektoralen IDP MUSS dafür sorgen, dass der Verarbeitungskontext&nbsp;des sektoralen IDP sich beim TLS-Verbindungsaufbau über das Transportnetz gegenüber dem Client mit einem TLS-Zertifikat eines Herausgebers gemäß [CAB-Forum] authentisiert. Der Anbieter MUSS dafür sorgen, dass Clientsysteme beim TLS-Verbindungsaufbau eine vereinfachte Zertifikatsprüfung mit TLS-Standardbibliotheken durchführen können.&nbsp;<span id="polarion-comment:1585"></span><span id="polarion-comment:1751"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_78"> <span id="polarion-comment:1431"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132853">
   <p><b>A_22980</b></p>
   <p><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Der Anbieter des sektoralen IDP MUSS die TLS-Zertifikate, welche in seinem Verarbeitungskontext&nbsp;terminieren, aus einer CA beziehen, welche&nbsp;Certificate Transparency gemäß&nbsp;RFC 6962 / RFC 9162<span id="polarion-comment:1015"></span> unterstützt&nbsp;und täglich prüfen und sicherstellen, dass für die zur<span id="polarion-comment:1148"></span> Verbindungen<span id="polarion-comment:1752"></span> in den&nbsp;Verarbeitungskontext der VAU vorgesehen Domänen keine unbekannten Zertifikate im Certificate Transparency Log gelistet werden. Im Fehlerfall MUSS ein "Security Incident" (gemäß 3.4 gemRL_Betr_TI) erstellt werden.&nbsp;</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132851">
   <p><b>A_22981</b></p>
   <p><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Der Anbieter des sektoralen IDP MUSS für die TLS-Zertifikate welche in seinem Verarbeitungskontext&nbsp;terminieren Certification Authority Authorization (CAA) DNS Resource Records nach RFC 6844 bereitstellen, welche die Validität der ausstellenden CA verifizieren.&nbsp;</span><span style="font-size: 10pt;color: #FF6666;line-height: 1.5;"><span id="polarion-comment:1017"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_486"> <span style="color: #000000;"> </span> </p>
  <p id="polarion_145"> <span id="polarion-comment:1353"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132852">
   <p><b>A_22982</b></p>
   <p><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Der Anbieter des sektoralen IDP MUSS die öffentlichen Schlüssel der TLS-Zertifikate,<span id="polarion-comment:1373"></span> welche in seinem Verarbeitungskontext&nbsp;terminieren, dem Federation Master bereitstellen. Der organisatorische Prozess zur Schlüsselübergabe ist in [<span class="polarion-rte-link" data-type="polarion" id="fake" data-custom-label="gemSpec_IDP_FedMaster" data-url="/wiki/Spezifikation/gemSpec_IDP_FedMaster?selection=ML-132570"></span>] beschrieben.</span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_482"> <span style="font-style: italic;font-size: 10pt;color: #000000;line-height: 1.5;">Hinweis: Auf diesem Weg kann der Federation Master verifizieren, dass keine TLS-Zertifikate für diese Adressen erstellt werden deren privater Schlüssel nicht nachgewiesenermaßen im Verarbeitungskontext der VAU liegt. Der&nbsp;Federation Master bietet hierzu einen organisatorischen Prozess an.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129535">
   <p><b>A_22848</b></p>
   <p><span style="color: #242424;">Die VAU des sektoralen IDP MUSS die in ihr ablaufenden Verarbeitungen für die Daten eines Verarbeitungskontextes von den Verarbeitungen für die Daten anderer Verarbeitungskontexte in solcher Weise trennen, dass mit technischen Mitteln ausgeschlossen wird, dass die Verarbeitungen eines Verarbeitungskontextes schadhaft auf die Verarbeitung eines anderen Verarbeitungskontextes einwirken können. Die VAU des sektoralen IDP MUSS dabei insbesondere verhindern, dass die Verarbeitungen von Daten innerhalb eines Verarbeitungskontextes zur fehlerhaften Ausstellungen von Identitätsbestätigungen bei einem Authentifizierungsvorgang in einem anderen Verarbeitungskontext führen könnte.<span id="polarion-comment:1771"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_263"> <span style="font-style: italic;">Hinweis: Da der Verarbeitungskontext der VAU des sektoralen IDP für jede fachliche Operation neu aufgebaut werden muss, ist ein Low-Level-Mechanismus zur Kontextseparation aus Gründen der Performance bzw. Skalierung nicht zwingend vorgeschrieben. Der hier geforderte Separationsmechanismus kann daher auch als Server-Thread, Worker, o. Ä. ausgeführt sein, solange für den dadurch gebildeten Verarbeitungskontext die geforderte Separation nachgewiesen werden kann. Dies setzt voraus, dass die Umsetzung der Verarbeitungskontexte und der in ihnen ablaufenden Verarbeitungsvorgänge technisch möglichst einfach und nachvollziehbar gestaltet ist.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129533">
   <p><b>A_22849</b></p>
   <p>Die<span id="polarion-comment:1127"></span> VAU des sektoralen IDP MUSS die in ihren Verarbeitungskontexten ablaufenden Datenverarbeitungsprozesse von allen sonstigen Datenverarbeitungsprozessen des Anbieters trennen und damit gewährleisten, dass&nbsp;sowohl Dritte als auch der Betreiber des sektoralen IDP selbst vom Zugriff auf die in der VAU verarbeiteten schützenswerten Daten ausgeschlossen ist.<br> <b>&lt;=</b></p>
  </div>
  <p id="polarion_266"> <span style="font-style: italic;">Hinweis: Schützenswerten Daten im Kontext der sektoralen IDP sind die Daten, welche innerhalb der VAU zum laufenden Authentifizierungsprozess erzeugt bzw. gespeichert werden (client_id, state, redirect_uri, code_challenge, AUTHORIZATION_CODE, ID-Token), sowie die Daten für das Nutzerprotokoll.<span id="polarion-comment:1790"></span></span> </p>
  <p id="polarion_403"> <span style="font-style: italic;">Hinweis: Für die Separation zwischen Verarbeitungskontexten und Verarbeitungsprozessen des Anbieters, die der betrieblichen Steuerung des Systems dienen, ist eine Low-Level Separation anzustreben, da - im Unterschied zur Separation zwischen Verarbeitungskontexten - hier technisch sehr verschiedene Aspekte getrennt werden müssen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129532">
   <p><b>A_22850</b></p>
   <p>Die<span id="polarion-comment:1128"></span> VAU des sektoralen IDP MUSS eine Manipulation der eingesetzten Software erkennen und eine Ausführung der manipulierten Software verhindern. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129530">
   <p><b>A_22851</b></p>
   <p>Die<span id="polarion-comment:1129"></span> VAU des sektoralen IDP MUSS die Integrität der eingesetzten Hardware schützen und damit insbesondere Manipulationen an der Hardware sowohl durch Dritte als auch der Betreiber des sektoralen IDP ausschließen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129529">
   <p><b>A_22852</b></p>
   <p>Die<span id="polarion-comment:1130"></span> VAU des sektoralen IDP MUSS den Ausschluss von Manipulationen an der Hardware und der Software sowohl durch Dritte als auch der Betreiber des sektoralen IDP mit Mitteln umsetzen, deren dauerhafte und kontinuierliche Wirksamkeit gewährleistet werden kann. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129525">
   <p><b>A_22853</b></p>
   <p>Die VAU des sektoralen IDP MUSS mit technischen und/oder organisatorischen Mitteln ausschließen, dass ein Angreifer aus dem betrieblichen Umfeld des IDP physische Angriffsmittel zur Kompromittierung der VAU zum Einsatz bringen kann.<span id="polarion-comment:978"></span><span id="polarion-comment:1604"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129524">
   <p><b>A_22854</b></p>
   <p>Die<span id="polarion-comment:1132"></span> VAU des sektoralen IDP MUSS mit technischen und/oder organisatorischen Mitteln sicherstellen, dass physischer Zugang zu Hardware-Komponenten der Verarbeitungskontexte nur erfolgen kann, nachdem gewährleistet ist, dass aus ihnen keine Nutzdaten extrahiert werden können. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129595">
   <p><b>A_22868</b></p>
   <p><span style="color: #000000;">Der&nbsp;<span id="polarion-comment:1133"></span>sektorale IDP MUSS folgende private Schlüssel in einem Hardware Security Module (HSM) erzeugen und anwenden:&nbsp;<br> </span> 
    <ul> 
     <li><span style="color: #000000;">die Schlüssel zur Signatur von Token und Entity Statements</span></li> 
     <li><span style="color: #000000;">die Schlüssel der TLS-Zertifikate für die sichere Verbindung zum Verarbeitungskontext<br> </span></li> 
    </ul> <span style="color: #000000;">Die Prüftiefe des HSM MUSS dabei den in [A_22829] angegebenen Standards entsprechen.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129523">
   <p><b>A_22855</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;"><span style="color: #172B4D;">Die VAU des sektoralen IDP MUSS mit technischen Mitteln die Manipulationen sowohl durch Dritte als auch den Betreiber des sektoralen IDP ausschließen und gewährleisten, dass nur Instanzen der VAU Zugriff auf die Kryptographieschnittstelle des HSM zur Nutzung des privaten Schlüsselmaterials für ihre TLS-Zertifikate und die Signaturschlüssel für die Token und Entity Statements erhalten können</span>.</span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_307"> <span style="font-style: italic;">Hinweis: Falls die Verarbeitungskontexte als Threads, Workers, o. ä. umgesetzt sind und daher gemeinsam in einem übergreifenden Anwendungsprozess ausgeführt werden, kann dieser Anwendungsprozess eine authentisierte Verbindung zur Kryptographieschnittstelle des HSM herstellen und aufrechterhalten, um darüber die Kryptographieschnittstelle des HSM den Verarbeitungskontexten (und nur diesen) lokal zur Verfügung zu stellen. Das bedeutet auch, dass die Hardware für mehrere Mandanten nutzbar ist. Dabei muss allerdings sichergestellt werden, dass der Schlüsselzugriff nur im Verarbeitungskontext des jeweiligen Mandanten möglich ist.<span id="polarion-comment:1799"></span></span> </p>
  <p id="polarion_309"> <span id="polarion-comment:983"></span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-128738">3.2.3 Konsistenz des Systemzustands, Logging und Monitoring</h4>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129522|project=Mainline_OPB1|layout_workitem_type=leafRequirement|layout_content_type=section|serverPath=https://polarion.int.gematik.de">
   <p><b>A_22856</b></p>
   <p>Die<span id="polarion-comment:1135"></span> VAU des sektoralen IDP MUSS sicherstellen, dass ein konsistenter Zustand des Verarbeitungskontextes auch bei Bedienfehlern oder technischen Problemen immer erhalten bleibt bzw. wiederhergestellt werden kann. <b>&lt;=</b></p>
  </div>
  <p id="polarion_41" style="margin-left: 0px;"> <span style="font-style: italic;">Hinweis: Eine Möglichkeit zur Wiederherstellung der Konsistenz kann im Roll-Back des Verarbeitungskontexts auf den letzten konsistenten Zustand vor dem Auftreten des Fehlers bestehen. Das Ziel der Anforderung ist in jedem Fall sicherzustellen, dass der besonders geschützte Verarbeitungskontext nicht durch eine Fehlersituation in einen nicht zu korrigierenden, nicht nutzbaren Zustand gelangen kann, der weitere Zugriffe des Nutzers unmöglich machen könnte.<span id="polarion-comment:1758"></span></span> </p>
  <p id="polarion_46"> <span id="polarion-comment:1605"></span> </p>
  <p id="polarion_169"> <span style="font-size: 10pt;color: #000000;line-height: 1.5;"><span id="polarion-comment:1021"></span> </span><span id="polarion-comment:948"></span><span id="polarion-comment:984"></span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-127164">3.3 Betriebliche Unterstützung des Probings</h3>
  <p id="polarion_210">Zur Überprüfung der Erreichbarkeit des sektoralen IDP werden durch die gematik regelmäßig invalide Requests an diese Schnittstellen gemäß Entity Statement (siehe Tabelle: "Body Entity Statement des sektoralen IDP") gestellt.:</p>
  <ul id="polarion_242"> 
   <li><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">pushed_authorization_request_endpoin</span>t</li> 
   <li><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">token_endpoint&nbsp;</span></li> 
  </ul>
  <p id="polarion_224"> Als Ergebnis der Request wird ein Fehlercode gemäß [<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.7.5" target="_top" class="descriptionLink">OpenID Connect Federation 1.0#rfc.section.7.5</a>] erwartet.&nbsp;Testidentitäten müssen demnach in der produktiven Umgebung nicht bereitgestellt werden. </p>
  <p id="polarion_230"> <span id="polarion-comment:1763"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-127782">
   <p><b>A_22567</b></p>
   <p>Der Anbieter des sektoralen IDP MUSS der gematik initial zur Zulassung und danach jeweils bei Änderungen tagesaktuell die Liste der Mandanten (Versicherungen) mitteilen, für deren Versicherte er den Dienst anbietet. <br> Dabei MUSS der Anbieter des sektoralen IDP die IK-Nummer der Kasse und die Telematik-ID der Kasse aus dem "Verfahren zur Herausg<span style="font-style: normal;">abe der SMC-B für Kostenträger</span>" nennen, in welchem der GKV-SV die Echtheit der Kasse bereits bestätigt hat. <br> Der Meldung ist die Beauftragung durch die Kasse als Erklärung schriftlich beizufügen. <b>&lt;=</b></p>
  </div>
  <p id="polarion_141"> <span style="font-style: italic;">Hinweis: Die Benachrichtigung an die gematik kann per E-Mail (S/MIME) an transition@gematik.de erfolgen.</span><br> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-132600">3.4 Testseitige Vorgaben an den sektoralen IDP</h3>
  <p id="polarion_76">Föderiertes Identitätsmanagement stellt einen der ersten Schritte auf dem Weg von der bestehenden&nbsp;TI 1.0 mit ihren drei getrennten Umgebungen hin zu einer cloudbasierten TI 2.0, in der die Dienste über das Internet erreichbar sind, dar. Daher müssen die sektoralen IDPs einerseits&nbsp;mit bestehenden Strukturen und Konzepten verträglich sein, andererseits zukünftige Entwicklungen unterstützen. Dieser Konflikt zeigt sich deutlich in den testseitigen Anforderungen an den Anbieter und das Produkt. Übergreifende Anforderungen aus [gemKPT_Test] passten inhaltlich nicht mehr vollständig und neue Anforderungen werden notwendig.</p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-133168">3.4.1 Testinstanzen</h4>
  <p id="polarion_79"> Damit die gematik Zulassungstests durchführen kann und andere Hersteller frühzeitig mit den sektoralen IDP integrieren können,<span id="polarion-comment:1678"></span> werden neben der produktiven Instanz<span id="polarion-comment:1485"></span> auch<span id="polarion-comment:1487"></span> Testinstanzen benötigt. Auch wenn diese eigentlich nicht mehr Teil der geschlossenen Netze RU und TU der TI 1.0 sind, werden sie zur besseren Verständlichkeit mit den bestehenden Strukturen in Verbindung gebracht. Daher bezeichnen wir die&nbsp;Instanz für entwicklungsbegleitende Integrationstest im Folgenden als RU-Instanz und die&nbsp;sehr produktionsnahe Instanz für Abnahmen und Zulassungstests im Folgenden als TU-Instanz. </p>
  <p id="polarion_114"> <span id="polarion-comment:1606"></span> </p>
  <h5 id="polarion_wiki macro name=module-workitem;params=id=ML-133180">3.4.1.1 zentrale Komponente</h5>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133183">
   <p><b>A_23053</b></p>
   <p>Der Anbieter des sektoralen IDPs MUSS nach der Zulassung neben der produktiven Instanz weitere Testinstanzen des sektoralen IDPs bereitstellen. Das sind zunächst eine RU-Instanz und eine TU-Instanz. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133181">
   <p><b>A_23054</b></p>
   <p>Der Anbieter des sektoralen IDPs MUSS&nbsp;zusätzliche Testinstanzen über einen Business-Service Katalog anbieten.&nbsp;Diese KÖNNEN unterschiedliche Performance und Lastanforderungen ausweisen.<span id="polarion-comment:1607"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133182">
   <p><b>A_23055</b></p>
   <p>Der Hersteller des sektoralen IDPs MUSS die RU-Instanz iterativ aufbauen und der gematik frühzeitig einen Zugriff auf Zwischenstände ermöglichen.<span id="polarion-comment:1608"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133186">
   <p><b>A_23056</b></p>
   <p>Der Hersteller des sektoralen IDPs MUSS die TU-Instanz zur Zulassung bereitstellen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133187">
   <p><b>A_23057</b></p>
   <p>Der Anbieter des sektoralen IDP SOLL<span id="polarion-comment:1489"></span> dafür sorgen, dass die Version der TU-Instanz - außer für die Abnahme einer neuen Version - der der produktiven Instanz entspricht.<span id="polarion-comment:1609"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133184">
   <p><b>A_23058</b></p>
   <p>Der Hersteller des sektoralen IDPs KANN die Version der RU-Instanz während der Entwicklung<span id="polarion-comment:1490"></span> nach Absprache mit der gematik ohne Change-Prozess ändern. Downtimes MÜSSEN dabei der gematik ankündigt werden. Dadurch sollen schnelle Feedbackschleifen während der Entwicklung ermöglicht werden. <b>&lt;=</b></p>
  </div>
  <p id="polarion_128"> <span id="polarion-comment:1610"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133870">
   <p><b>A_23163</b></p>
   <p>Möchte ein Hersteller oder Anbieter&nbsp;des sektoralen IDP seine RU-Instanz anpassen, so MUSS dies in Abstimmung mit dem Testmanager der gematik geschehen. <b>&lt;=</b></p>
  </div>
  <h5 id="polarion_wiki macro name=module-workitem;params=id=ML-133178">3.4.1.2 Authenticator-Modul</h5>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133190">
   <p><b>A_23060</b></p>
   <p>Der Anbieter des sektoralen IDPs MUSS&nbsp;eine Testversion seines Authenticator-Moduls in einer App bereitstellen, die mit allen Testinstanzen des sektoralen IDPs genutzt werden kann. Das können verschiedene Apps oder eine konfigurierbare sein. Die Testversion MUSS kurzfristig<span id="polarion-comment:1492"></span> und auf Anfrage an die gematik, aber auch an Dritte - z. B. DIGA-Hersteller - bereitgestellt werden. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133188">
   <p><b>A_23061</b></p>
   <p>Der Anbieter des sektoralen IDPs MUSS eine Testversion seines Authenticator-Moduls in einer App für alle von ihm produktiv unterstützten Betriebssysteme bereitstellen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133189">
   <p><b>A_23062</b></p>
   <p>Der Anbieter des sektoralen IDPs MUSS eine Testversion des Authenticator-Moduls bereitstellen, die funktional der Produktivversion entspricht. <b>&lt;=</b></p>
  </div>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-133177">3.4.2 Testidentitäten</h4>
  <p id="polarion_355"> <span style="font-size: 10pt;line-height: 1.5;">Um eine Nutzung der Testinstanzen eines sektoralen IDPs in produktübergreifenden Integrationstests anderer Hersteller und bei Zulassungstests durch die gematik zu ermöglichen, werden Testidentitäten benötigt. Abhängig von der genauen Verwendung ergeben sich unterschiedliche Anforderungen an diese Testidentitäten. Im Folgenden werden wir zwischen "einfachen" und "komplexen" Testidentitäten unterscheiden. "Einfache" Testidentitäten sollen z. B. in automatisierten e2e-Tests, in Zulassungstests des sektoralen IDPs oder zum Nachweis der Interoperabilität mit dem Authenticator-Modul verwendet werden. Sie müssen nicht den gesamten Life Cycle einer Identität abbilden. Im Gegensatz dazu sind "komplexe" Testidentitäten für den Einsatz in komplexen e2e-Tests und in speziellen Tests zur Authentisierung und zum Life Cycle vorgesehen. Dafür benötigen sie einen Bezug zu den Bestandssystemen der Kassen und müssen sich auch sonst wie die produktiven Identitäten verhalten.</span><br> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133193">
   <p><b>A_23063</b></p>
   <p>Der Anbieter des sektoralen IDPs MUSS&nbsp; einfache Testidentitäten für alle seine Testinstanzen bereitstellen. Diese MÜSSEN mindestens ein Authentisierungsverfahren anbieten, so dass sie in Tests verwendet werden können.&nbsp;&nbsp;<br>Der Anbieter des sektoralen IDPs MUSS zunächst 50 einfache Testidentitäten je Testinstanz bereitstellen. Auf Anfrage der gematik MÜSSEN bei Bedarf weitere einfache Testidentitäten angelegt werden.<span id="polarion-comment:1635"></span><span id="polarion-comment:1783"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-135029">
   <p><b>A_23300</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Mindestens eines der Authentisierungsverfahren der vom Anbieter des sektoralen IDP bereitgestellten Testidentitäten SOLL automatisierbar sein.<span id="polarion-comment:1784"></span></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133191">
   <p><b>A_23065</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDPs KANN zusätzlich zu einem automatisierbaren Authentisierungsverfahren auch die produktiv verwendeten Authentisierungsverfahren für die Testidentitäten im Zusammenspiel mit seinem Authenticator-Modul bereitstellen.<span id="polarion-comment:1711"></span></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133819">
   <p><b>A_23154</b></p>
   <p>Der Anbieter des sektoralen IDPs MUSS die KVNRs für seine einfachen Testidentitäten nach Absprache mit der gematik wählen, damit Kollisionen vermieden werden.<span id="polarion-comment:1712"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133817">
   <p><b>A_23155</b></p>
   <p>Der Anbieter des sektoralen IDPs MUSS bei der Bereitstellung komplexer Testidentitäten für alle seinen Testinstanzen unterstützen. Diese Unterstützung kann z. B. in der Einbindung kartenbasierter Testidentitäten einer Kasse oder der gematik oder Test-nPAs bestehen.<span id="polarion-comment:1713"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133818">
   <p><b>A_23156</b></p>
   <p>Der Anbieter des sektoralen IDPs MUSS die produktiv verwendeten Authentisierungsverfahren für die komplexen Testidentitäten im Zusammenspiel mit seinem Authenticator-Modul bereitstellen.<span id="polarion-comment:1714"></span> <b>&lt;=</b></p>
  </div>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-122075">4 Funktionsmerkmale</h2>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-128296">4.1 Entity Statement des sektoralen IDP</h3>
  <p id="polarion_162"> Das Entity Statement enthält die Metadaten und Adressen des <span style="font-size: 10pt;line-height: 1.5;">sektoralen IDP, sowie seine verwendeten kryptographischen Identitäten.</span> </p>
  <p id="polarion_31"></p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-136002">
   <p><b>A_23413</b></p>
   <p>Der sektorale IDP MUSS zur Teilnehmerbestätigung anfragender Fachdienste deren Entity Statements vom Federation Master entsprechend [<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_FedMaster]#</span>AF_10101 einholen.<span id="polarion-comment:1821"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128373">
   <p><b>A_22662</b></p>
   <p>Der Anbieter des sektoralen IDP MUSS seine öffentlichen Schlüssel für die Signatur des selbst signierten Entity Statement über einen vom&nbsp;Federation Master angebotenen organisatorischen Prozess bei diesem bekannt machen. <b>&lt;=</b></p>
  </div>
  <p id="polarion_228"> <span style="font-style: italic;">Hinweis: Die öffentlichen Schlüssel für Signatur von Entity Statement müssen nicht in der VAU liegen. Hier kann der Anbieter einen nicht weiter vorgegebenen Prozess etablieren.</span> </p>
  <p id="polarion_320"> <span style="font-style: italic;">Hinweis: Der organisatorische Prozess zur Teilnehmerregistrierung wird vom Anbieter des Federation Master [<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_FedMaster</span>] bereitgestellt.<span id="polarion-comment:1611"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128318">
   <p><b>A_22643</b></p>
   <p><span style="color: #000000;">Der sektorale IDP MUSS ein selbst signiertes Entity Statement gemäß [<a href="https://openid.net/specs/openid-connect-federation-1_0.html#entity-statement" target="_top" class="descriptionLink">OpenID Connect Federation 1.0#entity-statement</a>] bereitstellen und&nbsp;im Internet verfügbar machen.&nbsp;<span id="polarion-comment:991"></span>&nbsp;Mindestens die in den Tabellen&nbsp;<span style="font-size: 10pt;background-color: #FFFFFF;line-height: 1.5;"><span style="font-style: italic;">Header Entity Statement des sektoralen IDP</span>&nbsp;und <span style="font-style: italic;">Body Entity Statement des sektoralen IDP</span> in</span>&nbsp;<span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-132850" data-option-id="longoutline"></span> genannten Daten und Werte MÜSSEN im Entity Statement enthalten sein.</span><p data-keep-next="true" class="polarion-rte-caption-paragraph" style="text-align: left;"></p><p data-keep-next="true" class="polarion-rte-caption-paragraph" style="text-align: left;"></p> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128766">
   <p><b>A_22710</b></p>
   <p><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Der Anbieter des sektoralen IDP MUSS Signaturschlüssel im Rahmen eines geplanten Schlüsselwechsels mindestens 24 Stunden vor Verwendung in seinem jwks-Schlüsselsatz veröffentlichen und beim Federation Master über einen organisatorischen Prozess hinterlegen.</span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_155"> <span style="font-style: italic;">Hinweis: Nicht betroffen von dieser Anforderung sind kurzfristig notwendige Schlüsselwechsel, z. B. aufgrund von Sicherheitsvorfällen. Diese Maßnahmen sind beispielsweise über security incidents abzuwickeln. Die Bearbeitung solcher kurzfristigen Schlüsselwechsel muss die Aktualisierung beim Federation Master mitberücksichtigen, da es ansonsten zu Verarbeitungsfehlern wegen ungültiger Schlüssel kommen kann.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128767">
   <p><b>A_22711</b></p>
   <p>Das Entity Statement des sektoralen IDP MUSS täglich neu ausgestellt werden. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133002">
   <p><b>A_23010</b></p>
   <p>Die maximale&nbsp;Gültigkeitsdauer eines&nbsp;Entity Statement des sektoralen IDP (Attributwerte <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp </span>im Entity Statement) DARF 24 Stunden NICHT überschreiten. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128319">
   <p><b>A_22644</b></p>
   <p><span style="color: #000000;">Der sektorale IDP MUSS alle von ihm im Entity Statement&nbsp;angebotenen URLs stündlich auf bloße Erreichbarkeit prüfen.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133655">
   <p><b>A_23132</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Der sektorale Identity Provider SOLL die Entity Statements für bekannte Fachdienste nach 2 Stunden erneut herunterladen.<span id="polarion-comment:1576"></span><span id="polarion-comment:1746"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_317"> <span style="font-style: italic;font-size: 10pt;color: #242424;line-height: 1.5;">Hinweis:&nbsp;Die Anforderung gilt sowohl für die Entity Statements der Fachdienste als auch für die Entity Statements des Federation Master über diese Fachdienste. Ist der Federation Master oder der Fachdienst ggf. temporär nicht erreichbar, so sollte das Herunterladen der Entity Statements&nbsp;über die Fachdienste&nbsp;weiter (z.B. stündlich) versucht werden.</span><span style="font-style: italic;font-size: 11pt;color: #242424;line-height: 1.5;"><span id="polarion-comment:1768"></span></span> </p>
  <p id="polarion_378"></p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133654">
   <p><b>A_23133</b></p>
   <p>Der sektorale Identity Provider MUSS die<span style="font-size: 10pt;line-height: 1.5;">&nbsp;Entity Statements für bekannte Fachdienste nach maximal 24 Stunden verwerfen.</span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_183"> <span style="font-style: italic;">Hinweis: D<span style="font-size: 10pt;line-height: 1.5;">as Verwerfen des Entity Statements eines bekannten Fachdienstes dient der Aktualisierung des Status des Fachdienstes und bedeutet nicht eine automatische Deregistrierung des Dienstes beim IDP.<span id="polarion-comment:1577"></span></span></span> </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-128336">4.2 API-Endpunkte des sektoralen IDP</h3>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-128350">4.2.1 Anforderung an die Schnittstelle zum Authorization-Server des Fachdienstes</h4>
  <p id="polarion_144"> <span id="polarion-comment:1189"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128348">
   <p><b>A_22649</b></p>
   <p>Der Produkttyp sektoraler IDP MUSS Pushed Authorization Request von Clients mit dem http-Statuscode 401 (Unauthorized) ablehnen, wenn diese nicht in der Föderation oder direkt beim sektoralen IDP registriert sind.&nbsp;<span style="color: #172B4D;">Ist der Fachdienst dem sektorale IDP nicht bekannt, so stößt dieser intern die automatische Registrierung (<a target="_blank" href="https://openid.net/specs/openid-connect-federation-1_0.html#section-10.1.1.1.1)">https://openid.net/specs/openid-connect-federation-1_0.html#section-10.1.1.1.1)</a>&nbsp;an damit nachfolgende Anfragen angenommen werden können.<span id="polarion-comment:1841"></span></span><span id="polarion-comment:1541"></span><span id="polarion-comment:1591"></span><span id="polarion-comment:1665"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_94"> <span id="polarion-comment:1672"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-131761">
   <p><b>A_22922</b></p>
   <p>Der Produkttyp sektoraler IDP MUSS Authorization Request von veralteten Authenticator Versionen ablehnen, wenn diese aus Kompatibilitätsgründen durch die gematik gesperrt wurden.<span id="polarion-comment:1396"></span><span id="polarion-comment:1613"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128349">
   <p><b>A_22650</b></p>
   <p>Der sektorale IDP<span id="polarion-comment:1237"></span> MUSS eine automatische Registrierung eines Fachdienstes bei Übermittlung eines Authorization Request mit<span style="font-size: 10pt;line-height: 1.5;">&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #222222;">self_signed_tls_client_auth<span id="polarion-comment:1638"></span></span> gemäß [<a class="descriptionLink" target="_top" href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.10.1">OpenID Connect Federation 1.0 (section-10.1)</a>] <span style="color: #172B4D;">durchführen</span>,</span> sofern dieser Dienst nicht bereits am IDP registriert wurde. Nach Abruf des Entity Statement des Fachdienstes beim Fachdienst selbst MUSS der sektorale IDP beim Federation Master dessen Entity Statement zum Fachdienst gemäß [<a class="descriptionLink" target="_top" href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.7.1">OpenID Connect Federation 1.0 (section-7.1)</a>] abrufen und so dessen Zugehörigkeit zur Föderation bestätigen zu lassen.<span id="polarion-comment:1398"></span>&nbsp;Anschließend registriert der sektorale IDP den Fachdienst und importiert dessen Schlüssel für die Authentisierung und Verschlüsselung von Token. <b>&lt;=</b></p>
  </div>
  <p id="polarion_174"> <span style="font-style: italic;">Hinweis: Wenn eine signed_jwks_uri im Entity Statement des Fachdienstes angegeben ist, müssen auch diese Schlüssel importiert werden. Sowohl dies als auch die Nutzung eines jwks im Statement selbst muss unterstützt werden.</span> </p>
  <p id="polarion_193"> <span id="polarion-comment:1825"></span> </p>
  <p id="polarion_485"></p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-128334">4.2.2 PAR - Endpunkt</h4>
  <p id="polarion_170"> <span id="polarion-comment:1141"></span> </p>
  <p id="polarion_64"> Am <span style="font-size: 10pt;line-height: 1.5;">PAR-Endpunkt&nbsp;</span>des <span style="font-size: 10pt;line-height: 1.5;">sektoralen IDP werden Anfragen der Authorization-Servern eines Fachdienstes&nbsp;eingereicht und verifiziert. </span>Inhalt der Anfrage ist unter anderem:&nbsp; </p>
  <ul id="polarion_216"> 
   <li>Die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id</span> des anfragenden Fachdienstes sowie dessen öffentlicher Authentisierungsschlüssel.</li> 
   <li>Die&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri</span>, an welche der Authorization Request beantwortet werden soll.</li> 
   <li>Der über das eigene <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER&nbsp;</span>[<a href="https://datatracker.ietf.org/doc/html/rfc7636#section-4.1" target="_top" class="descriptionLink">Proof Key for Code Exchange by OAuth Public Clients (section-4.1)</a>] gebildete HASH <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_CHALLENGE</span> [<a href="https://datatracker.ietf.org/doc/html/rfc7636#section-4.2" target="_top" class="descriptionLink">Proof Key for Code Exchange by OAuth Public Clients (section-4.2)</a>] mit Angabe des Algorithmus <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code_challenge_method</span> [<a href="https://datatracker.ietf.org/doc/html/rfc7636#section-4.3" target="_top" class="descriptionLink">Proof Key for Code Exchange by OAuth Public Clients (section-4.3)</a>] entsprechend dem gewählten Authorization Code Flow (response_type=code).</li> 
   <li>Der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state</span>-Parameter [<a href="https://datatracker.ietf.org/doc/html/rfc8252#section-8.9" target="_top" class="descriptionLink">OAuth 2.0 for Native Apps (section-8.9)</a>] wird genutzt, um CSRF (Cross-Site-Request-Forgery) zu verhindern.</li> 
   <li>Der&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope </span>der Anfrage, welcher einen definierten Satz von benötigten Attributen für die entsprechende Anwendung beinhaltet.</li> 
  </ul>
  <p id="polarion_221"> Der PAR-Endpunkt des sektoralen IDP nimmt den Pushed Authorization Request [<a href="https://tools.ietf.org/id/draft-ietf-oauth-par-04.html" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests</a>] des Authorization-Server eines Fachdienstes&nbsp;entgegen.&nbsp;Der am PAR-Endpunkt des sektoralen IDP eingehende Request wird validiert, um frühzeitig unautorisierte Abfragen zu verhindern. </p>
  <p id="polarion_208">Ist der&nbsp;Pushed Authorization Request&nbsp;geprüft und valide, erstellt der PAR-Endpunkt des sektoralen IDP eine Request-URI. Diese wird&nbsp;im weiten Ablauf&nbsp;für die Nutzerauthentifizierung benötigt. Die Request-URI und deren Gültigkeitsdauer sind Parameter der Antwort des sektorale IDP auf den eingegangenen&nbsp;Request.</p>
  <p id="polarion_209"> <span id="polarion-comment:1150"></span> </p>
  <h5 id="polarion_wiki macro name=module-workitem;params=id=ML-132895">4.2.2.1 PAR-Endpunkt Eingangsdaten</h5>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128359">
   <p><b>A_22651</b></p>
   <p>Der sektorale IDP MUSS die Annahme von Pushed Authorization Request&nbsp;gemäß [<a href="https://datatracker.ietf.org/doc/html/rfc9126" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests#section-2</a>]&nbsp;unterstützen&nbsp;und den Endpoint für Pushed Authorization Request im Entity Statement&nbsp;des sektoralen IDP&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">pushed_authorization_request_endpoint</span> bekanntgeben.<br> Der sektorale IDP MUSS mindestens die in der&nbsp;<span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-132850" data-option-id="longoutline"></span>&nbsp;<span style="font-style: italic;">Tabelle Parameter Pushed Authorization Request</span>&nbsp;dargestellten Parameter im Pushed Authorization Request des Authorization-Server eines Fachdienstes annehmen.&nbsp;<span id="polarion-comment:917"></span> <p data-keep-next="true" class="polarion-rte-caption-paragraph"> <span id="polarion-comment:1253"></span> </p> <p class="polarion-rte-caption-paragraph" style="text-align: center;"></p> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132659">
   <p><b>A_22966</b></p>
   <p>Der sektorale IDP MUSS die eingehende Pushed Authorization Request validieren und invalide Request gemäß [<a href="https://datatracker.ietf.org/doc/html/rfc9126#section-2.3" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests#section-2.3</a>&nbsp;] mit einer Fehlernmeldung quittieren. Die Validierung des&nbsp;eingegangenen Pushed Authorization Request schließt die Prüfung der im Request enthaltenen Werte für r<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">edirect_uri</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope </span>gegen die für den Fachdienst zulässigen (d.h. bei der Registrierung gemeldeten) Werte ein.<span id="polarion-comment:1226"></span><br> <b>&lt;=</b></p>
  </div>
  <p id="polarion_60"> <span id="polarion-comment:1297"></span> </p>
  <p id="polarion_102"> <span style="font-style: italic;">Hinweis: Nach [OpenID Connect Core 1.0# AuthRequest] ist es zulässig, dass ein Client mehrere <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri </span>bei der Registrierung hinterlegt. Der sektorale IDP muss laut der OIDC-Spezifikation prüfen, ob die im Request gelieferte <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri </span>mit exakt einer der hinterlegten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri </span>übereinstimmt. Die Prüfung muss über eine 'Simple String Comparison' nach [Uniform Resource Identifier (URI)#section-6.2.1] erfolgen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132891">
   <p><b>A_22991</b></p>
   <p>Der PAR-Endpunkt des sektoralen IDP MUSS das im Rahmen der&nbsp;<span style="font-size: 11pt;color: #222222;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">self_signed_tls_client_auth</span>&nbsp;</span>übertragene Zertifikat des Fachdienstes&nbsp;wie folgt überprüfen:<br> 
    <ul>
     <li>Das Zertifikat ist über das Entity Statement des Fachdienstes zu verifizieren.</li>
     <li>Das Zertifikat ist zeitlich gültig.</li>
    </ul><span id="polarion-comment:1639"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_134"> <span style="font-style: italic;">Hinweis: Der Fachdienst gegen dessen Entity Statement geprüft werden muss&nbsp;wird durch die client-id im Request identifiziert.<span id="polarion-comment:1640"></span></span> </p>
  <p id="polarion_98"> <span style="font-style: italic;"><span id="polarion-comment:1716"></span></span> </p>
  <h5 id="polarion_wiki macro name=module-workitem;params=id=ML-132894">4.2.2.2 PAR-Endpunkt Ausgangsdaten</h5>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132892">
   <p><b>A_22992</b></p>
   <p>Der sektorale IDP MUSS auf einen validen Pushed Authorization Request mit einem http-Statuscode 201 gemäß&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc9126#section-2.2" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-2.2)</a>&nbsp;antworten. <b>&lt;=</b></p>
  </div>
  <p id="polarion_178"> <span id="polarion-comment:1249"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132893">
   <p><b>A_22993</b></p>
   <p>Die Gültigkeit der vom sektoralen IDP erstellten Request-URI DARF NICHT <span style="color: #000000;">90 Sekunden</span> <span id="polarion-comment:1251"></span>überschreiten. <b>&lt;=</b></p>
  </div>
  <p id="polarion_112"> <span id="polarion-comment:1250"></span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-122210">4.2.3 Authorization-Endpunkt</h4>
  <p id="polarion_167"> <span style="font-size: 10pt;line-height: 1.5;"> Am Authorization-Endpunkt&nbsp;des sektoralen IDP&nbsp;wird in Kommunikation mit dem Authenticator-Modul die Authentisierung des Nutzers durchgeführt. </span> </p>
  <h5 id="polarion_wiki macro name=module-workitem;params=id=ML-124774">4.2.3.1 Schnittstelle Authorization-Endpunkt</h5>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132896">
   <p><b>A_22312-01</b></p>
   <p>Der sektorale Identity Provider MUSS die Schnittstelle Authorization-Endpunkt gemäß [RFC6749 -&nbsp;<a class="descriptionLink" target="_top" href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.1">The OAuth 2.0 Authorization Framework (section-3.1)</a>], [RFC8252 -&nbsp;<a class="descriptionLink" target="_top" href="https://datatracker.ietf.org/doc/html/rfc8252">OAuth 2.0 for Native Apps</a>] und [RFC9126 -&nbsp;&nbsp;<span style="font-size: 10pt;line-height: 1.5;"><a class="descriptionLink" target="_top" href="https://datatracker.ietf.org/doc/html/rfc9126#section-4">OAuth 2.0 Pushed Authorization Requests (section-4)</a>&nbsp;</span>] sowie weitere darin festgelegte Standards implementieren. Hierbei MÜSSEN nur im Rahmen der gemSpec_IDP_Sek relevante Aspekte (Authorization Code Flow ohne User Info Endpoint) berücksichtigt werden.<br> <b>&lt;=</b></p>
  </div>
  <p id="polarion_57"> <span id="polarion-comment:997"></span> </p>
  <p id="polarion_49"> <span style="font-size: 10pt;color: #FF0000;line-height: 1.5;"><span id="polarion-comment:1009"></span></span> </p>
  <p id="polarion_150"> <span id="polarion-comment:1005"></span> </p>
  <p id="polarion_310"> <span style="font-size: 11pt;color: #172B4D;line-height: 1.5;"><span id="polarion-comment:918"></span></span> </p>
  <p id="polarion_37"> <span style="color: #FF0000;"><span id="polarion-comment:897"></span></span> </p>
  <h5 id="polarion_wiki macro name=module-workitem;params=id=ML-122213">4.2.3.2 Authorization-Endpunkt Ausgangsdaten</h5>
  <p id="polarion_262"> Sind alle im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope&nbsp;</span>geforderten Attribute vorhanden und die Gültigkeit&nbsp;der Attribute geprüft sowie eine erfolgreiche Authentifizierung des Nutzers erfolgt, erstellt der Authorization-Endpunkt des sektoralen IDP einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und sendet diesen an das Authorization-Server eines Fachdienstes. </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-125072">
   <p><b>A_22324</b></p>
   <p>Der Authorization-Endpunkt des sektoralen Identity Provider MUSS den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state</span>-Parameter [RFC6749 # section-10.12] der Anfrage in allen darauf basierenden Responses verwenden. <b>&lt;=</b></p>
  </div>
  <p id="polarion_239"> <span style="font-weight: bold;"> </span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133105">
   <p><b>A_22325-01</b></p>
   <p>Der sektorale Identity Provider MUSS den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state</span> auf demselben Kanal beantworten, auf dem er den Authorization Request empfangen hat.<br> <b>&lt;=</b></p>
  </div>
  <p id="polarion_473"> Hinweis: Im Fall des&nbsp;App-App-Flow (<span class="polarion-rte-link" data-type="workItem" id="fake" data-custom-label="7.1 App-App-Flow" data-item-id="ML-132454" data-option-id="custom"></span>)&nbsp;und des&nbsp;Web-App-Flow (<span class="polarion-rte-link" data-type="workItem" id="fake" data-custom-label="7.2 Web-App-Flow" data-item-id="ML-132462" data-option-id="custom"></span>)<span id="polarion-comment:1677"></span> wird der Request durch das Authenticator-Modul angenommen und an den sektoralen IDP gestellt. Im Fall des Zwei-Geräte-Flow&nbsp;(<span class="polarion-rte-link" data-type="workItem" id="fake" data-custom-label="7.3 Zwei-Geräte-Flow" data-item-id="ML-132463" data-option-id="custom"></span>) wird der Request direkt über den Browser gestellt und damit auch an diesen zurückgeliefert. </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-122081">4.2.4 Token-Endpunkt</h4>
  <p id="polarion_133"> Der Token-Endpunkt des sektoralen IDP nimmt die Anfrage des Authorization-Server eines Fachdienstes&nbsp;entgegen und prüft neben deren Integrität, ob der eingereichte <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER&nbsp;</span>bei Nutzung des Hash-Verfahrens S256 (nach [<a href="https://datatracker.ietf.org/doc/html/rfc7636#section-4.2" target="_top" class="descriptionLink">Proof Key for Code Exchange by OAuth Public Clients (section-4.2)</a>]) zum bitgleichen Hash-Wert führt. Stimmt der Hash-Wert aus dem initialen Aufruf über das Authenticator-Modul - die Code-Challenge -&nbsp;mit dem gebildeten Hash-Wert überein, ist sichergestellt, dass Aufrufer und Initiator identisch sind. Der Token-Endpunkt gibt daraufhin das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN&nbsp;</span>an den&nbsp;Authorization-Server des Fachdienstes&nbsp;heraus. </p>
  <h5 id="polarion_wiki macro name=module-workitem;params=id=ML-122244">4.2.4.1 Token-Endpunkt Eingangsdaten</h5>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128369">
   <p><b>A_22653</b></p>
   <p><span style="color: #000000;">Der Token-Endpunkt des sektoralen IDP MUSS die vom Authorization-Server eines Fachdienstes übertragenen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span> annehmen. <span id="polarion-comment:1393"></span><span id="polarion-comment:949"></span></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132997">
   <p><b>A_23007</b></p>
   <p>Die Gültigkeitsdauer eines&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> DARF 90 Sekunden NICHT überschreiten. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133847">
   <p><b>A_23162</b></p>
   <p>Der&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> MUSS nach einmaliger Verwendung invalidiert werden.<span id="polarion-comment:1587"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-125067">
   <p><b>A_22321</b></p>
   <p>Der Token-Endpunkt des sektoralen Identity Provider MUSS die Überprüfung des&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span> gegen die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_CHALLENGE</span> mit S256 (Algorithmus nach [RFC7636 # section-4.2]) durchführen. <b>&lt;=</b></p>
  </div>
  <p id="polarion_188"> <span style="color: #FF0000;"><span id="polarion-comment:903"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128366">
   <p><b>A_22654</b></p>
   <p><span style="color: #000000;">Der Token-Endpunkt des sektoralen IDP MUSS das im Rahmen der&nbsp;<span style="font-size: 11pt;color: #222222;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">self_signed_tls_client_auth</span>&nbsp;</span>übertragene Zertifikat des Fachdienstes&nbsp;wie folgt überprüfen:<br></span>
    <ul>
     <li>Das Zertifikat ist über das Entity Statement des Fachdienstes zu verifizieren.</li>
     <li>Das Zertifikat ist zeitlich gültig.<span id="polarion-comment:1642"></span></li>
    </ul> <b>&lt;=</b></p>
  </div>
  <p id="polarion_248"> <span style="font-style: italic;">Hinweis: Der Fachdienst gegen dessen Entity Statement geprüft werden muss&nbsp;wird durch die client-id im Request identifiziert.</span><span id="polarion-comment:1641"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-125070">
   <p><b>A_22323</b></p>
   <p>Der Token-Endpunkt des sektoralen Identity Provider&nbsp;MUSS im Positivfall die Herausgabe der Token und im Negativfall die Token-Anfrage protokollieren.<span id="polarion-comment:1255"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_431">Das Protokoll wird intern und ggf. für Audits verwendet.</p>
  <h5 id="polarion_wiki macro name=module-workitem;params=id=ML-122227">4.2.4.2 Token-Endpunkt Ausgangsdaten</h5>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-125064">
   <p><b>A_22316</b></p>
   <p>Der sektorale Identity Provider&nbsp;DARF <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> mit einer Gültigkeitsdauer von mehr als 300 Sekunden (5 Minuten) NICHT ausstellen. <b>&lt;=</b></p>
  </div>
  <p id="polarion_189"> <span style="color: #FF0000;"><span id="polarion-comment:898"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128761">
   <p><b>A_22706</b></p>
   <p><span style="color: #000000;">Der sektorale IDP MUSS nach erfolgreicher Prüfung des erhaltenen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>&nbsp;dem aufrufenden Authorization-Server des Fachdienstes ein <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> gemäß OIDC Standard&nbsp;<a class="descriptionLink" target="_top" href="https://openid.net/specs/openid-connect-core-1_0.html#IDToken">OpenID Connect Core 1.0 (section-2)</a>&nbsp;mit den angefragten</span> <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> <span style="color: #000000;">zurückgeben.<span id="polarion-comment:1256"></span> <span id="polarion-comment:1086"></span><span id="polarion-comment:1614"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_108" style="margin-left: 0px;"> <span style="font-style: italic;">Hinweis: Für nicht vorhandene <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes </span>und für <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes,&nbsp;</span>deren Weitergabe der Nutzer nicht zugestimmt hat, wird im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>&nbsp;für den Inhalt ein Leerstring gesetzt.<span id="polarion-comment:1615"></span><span id="polarion-comment:1827"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132856">
   <p><b>A_22983</b></p>
   <p>Das für die Signatur der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> zu verwendende Verfahren MUSS ECDSA auf Basis der NIST-Kurve P-256 sein. (vergleiche&nbsp;<a class="descriptionLink" target="_top" href="https://openid.net/specs/draft-jones-json-web-signature-04.html#DefiningECDSA">JSON Web Signature (section-3)</a>). <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128367">
   <p><b>A_22655</b></p>
   <p><span style="color: #000000;">Der&nbsp;sektorale IDP MUSS die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> unter Verwendung eines <span id="polarion-comment:1404"></span>privaten Schlüssels der in seinem Entity Statement unter <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">signed_jwks_uri</span> referenzierten öffentlichen Schlüssel signieren [<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.4.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-4.2)</a>]. <span id="polarion-comment:1087"></span></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134210">
   <p><b>A_23193</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Der sektorale IDP MUSS einen&nbsp; Verschlüsselungsschlüssel des Fachdienstes über den use Parameter ("use = enc") aus dessen jwks wählen und mit diesem das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> verschlüsseln. Im JWE-Header des Token referenziert der sektorale IDP über den Parameter <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span> einen Hinweis auf den verwendeten Verschlüsselungsschlüssel. Als Verschlüsselungsverfahren MUSS hierbei ECDH-ES+A256KW verwendet werden.<span id="polarion-comment:1683"></span> <span id="polarion-comment:1776"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_17"> <span id="polarion-comment:1000"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132885">
   <p><b>A_22989</b></p>
   <p>Ein sektoraler IDP, welcher den Identitäten für Versicherte verwaltet MUSS mindestens die folgenden <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> unterstützen:<br> <p class="polarion-rte-caption-paragraph" data-keep-next="true" id="polarion___1">Tabelle <span class="polarion-rte-caption" data-sequence="Tabelle">5</span>: <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims<span id="polarion-comment:1696"></span></span></p><p class="polarion-rte-caption-paragraph" data-keep-next="true"></p><p class="polarion-rte-caption-paragraph" data-keep-next="true"></p>
    <table style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;" class="polarion-Document-table" id="polarion_wiki macro name=table;params=width=100%|uid=205">
     <tbody>
      <tr>
       <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 172px;height: 58.4688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Scope</th>
       <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 194px;height: 58.4688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Claim</th>
       <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 36px;height: 58.4688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Wert</th>
       <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 307px;height: 58.4688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beschreibung</th>
      </tr>
      <tr>
       <td style="width: 172px;height: 50px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;" colspan="1">urn:telematik:geburtsdatum</td>
       <td style="width: 194px;height: 50px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">birthdate</td>
       <td style="width: 36px;height: 50px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">string</td>
       <td style="width: 307px;height: 50px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Die Angaben des&nbsp;Geburtsdatums des Nutzers erfolgt im Format <a class="info" target="_top" href="https://openid.net/specs/openid-connect-core-1_0.html#ISO8601-2004">ISO 8601:2004</a>&nbsp;[ISO8601‑2004]&nbsp;YYYY-MM-DD.&nbsp;<span id="polarion-comment:1616"></span><br><br> <span style="font-style: normal;font-size: 10pt;line-height: 1.5;"><span style="color: #242424;">Ist das Geburtsdatum nicht bekannt, so wird es (analog einer Festlegung für diesen Fall bei Ausstellung einer eGK) durch folgende Regeln definiert. (dabei wird davon ausgegangen, dass das Geburtsjahr immer vorhanden ist):</span><br></span> 
        <ul>
         <li><span style="font-style: normal;color: #242424;">Ist der Monat aber nicht der Tag des Geburtsdatums bekannt, so wird der 15. des Monat als Geburtsdatum festgelegt (TT.03.1975 -&gt;15.03.1975)</span></li>
         <li><span style="font-style: normal;color: #242424;">Sind Tag und Monat des Geburtsdatums nicht bekannt, so wird der 01.07. des Jahres als Geburtsdatum festgelegt (TT.MM.1975 -&gt;01.07.1975)<span id="polarion-comment:1704"></span></span></li>
        </ul></td>
      </tr>
      <tr>
       <td style="width: 172px;height: 50px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:alter</td>
       <td style="width: 194px;height: 50px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:claims:alter</td>
       <td style="width: 36px;height: 50px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">string</td>
       <td style="width: 307px;height: 50px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Alter der Person in Jahren zum Zeitpunkt der Erstellung des Tokens</td>
      </tr>
      <tr>
       <td style="width: 172px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:display_name</td>
       <td style="width: 194px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:claims:display_name</td>
       <td style="width: 36px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">string&nbsp;</td>
       <td style="width: 307px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Analog zu name gemäß [OpenID Connect Core 1.0]<br> Vollständiger Name des Versicherten in anzeigbarer Form inklusive aller Namensbestandteile und ggf. vorhandener Titel oder Namenszusätze.</td>
      </tr>
      <tr>
       <td style="width: 172px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:given_name<span id="polarion-comment:1697"></span></td>
       <td style="width: 194px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:claims:given_name</td>
       <td style="width: 36px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">string&nbsp;</td>
       <td style="width: 307px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Nur der Vorname des Versicherten - unter Berücksichtigung&nbsp;der [DiGA-Kriterien]</td>
      </tr>
      <tr>
       <td style="width: 172px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:geschlecht</td>
       <td style="width: 194px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:claims:geschlecht</td>
       <td style="width: 36px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">string</td>
       <td style="width: 307px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Geschlecht des Nutzers.<br> Kodierung analog VSDM M =männlich, W = weiblich,&nbsp;X = unbestimmt,&nbsp;D = divers</td>
      </tr>
      <tr>
       <td style="width: 172px;height: 20px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:email</td>
       <td style="width: 194px;height: 20px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:claims:email</td>
       <td style="width: 36px;height: 20px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">string</td>
       <td style="width: 307px;height: 20px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">E-Mail Addresse des Versicherten, wenn bekannt</td>
      </tr>
      <tr>
       <td style="width: 172px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;" rowspan="3" colspan="1">urn:telematik:versicherter<br></td>
       <td style="width: 194px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:claims:profession</td>
       <td style="width: 36px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">string</td>
       <td style="width: 307px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Für Versicherte&nbsp;1.2.276.0.76.4.49</td>
      </tr>
      <tr>
       <td style="width: 194px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:claims:id</td>
       <td style="width: 36px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">string</td>
       <td style="width: 307px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Für Versicherte der&nbsp;unveränderliche Anteil der&nbsp;KVNR</td>
      </tr>
      <tr>
       <td style="width: 194px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:telematik:claims:organization</td>
       <td style="width: 36px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">string</td>
       <td style="width: 307px;height: 35px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">ID oder Name der attributsbestätigenden Stelle (IK-Nummer der Kasse)</td>
      </tr>
     </tbody>
    </table> <b>&lt;=</b></p>
  </div>
  <p id="polarion_103"> <span style="font-style: italic;">Hinweis: Die angefragten&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> wer</span><span style="font-style: italic;font-size: 10pt;line-height: 1.5;"><span style="color: #172B4D;">den so mit Werten belegt, wie sie zum Abfragezeitpunkt beim sektoralen IDP (bzw. dessen Quellsystem) vorliegen</span><span style="color: #242424;">.</span></span> </p>
  <p id="polarion_104"> <span style="font-style: italic;font-size: 10pt;color: #242424;line-height: 1.5;">Hinweise:&nbsp; Die Regel zur Festlegung des Geburtsdatums bei unbekanntem Tag bzw. Monat basiert auf den&nbsp;<a href="https://www.gkv-datenaustausch.de/media/dokumente/arbeitgeber/deuev/rundschreiben_anlagen/04_Gem_RS_Anlage_9.4_Vers_8.00.pdf" target="_top" class="descriptionLink">Gemeinsamen Grundsätzen für die Datenerfassung und Datenübermittlung (DEÜV)</a>&nbsp;(https://www.gkv-datenaustausch.de/media/dokumente/arbeitgeber/deuev/rundschreiben_anlagen/04_Gem_RS_Anlage_9.4_Vers_8.00.pdf)</span><span style="font-style: italic;font-size: 9pt;color: #242424;line-height: 1.5;"><span id="polarion-comment:1740"></span></span> </p>
  <p id="polarion_106"> <span style="font-style: italic;font-size: 10pt;color: #242424;line-height: 1.5;">Hinweis: Die über den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span>&nbsp;urn:telematik:email angefragte Adresse ist vor der Verwendung durch den Fachdienst zu verifizieren. Eine Verifikation durch den IDP ist nicht vorgesehen, da diese ohnehin nur eine begrenzte zeitliche Gültigkeit haben kann.</span> </p>
  <p id="polarion_89"> <span id="polarion-comment:1695"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134214">
   <p><b>A_23197</b></p>
   <p><span style="font-size: 10pt;line-height: 1.5;">Der sektorale IDP MUSS das Attribut "sub" gemäß [<a class="descriptionLink" target="_top" href="https://openid.net/specs/openid-connect-core-1_0.html#PairwiseAlg">OpenID Connect Core 1.0 (sektion-8.1)</a>&nbsp;]&nbsp;als pairwise Subject Identifiers bilden. Dieses&nbsp;wird als pseudonyme ID des Versicherten verwendet:</span><br> 
    <ul>
     <li><span style="font-size: 10pt;line-height: 1.5;">Der Subject Identifier MUSS je Versichertem und Fachdienst fest und eineindeutig sein</span></li>
     <li><span style="font-size: 10pt;line-height: 1.5;">Der Subject Identifier MUSS sich für einen Versicherten gegenüber jedem Fachdienst unterscheiden.<span id="polarion-comment:1802"></span></span></li>
    </ul> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132884">
   <p><b>A_22990</b></p>
   <p>Ein sektoraler IDP MUSS, wenn ihm der Wert eines <span style="font-style: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> nicht vorliegt und es keine Regel für eine Alternativbelegung gibt (siehe z. B. Belegungsregel "<span style="font-style: italic;">birthday</span>" in A_22989) oder ein <span style="font-style: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span> vom Nutzer verwehrt wurde, diesen <span style="font-style: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim</span> im <span style="font-style: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> mit einem Leerstring belegen.<span id="polarion-comment:1782"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_18"></p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-129382">4.3 Identifizierung und Authentifizierung des Nutzers</h3>
  <p id="polarion_105"> Die Durchführungsverordnung (EU) 2015/1502 [eIDAS 2015/1502] gemäß Artikel 8 Absatz 3 der Verordnung (EU) Nr. 910/2014 [eIDAS 910/2014] legt die Mindestanforderungen an technische Spezifikationen und Verfahren&nbsp; für&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Vertrauensniveaus&nbsp;</span>elektronischer Identifizierungsmittel fest.<span style="text-decoration: line-through;font-size: 10pt;line-height: 1.5;"><span id="polarion-comment:1619"></span></span> </p>
  <p id="polarion_139">Die Identifikation des Nutzers muss immer Angreifern mit hohem Angriffspotential standhalten.</p>
  <p id="polarion_115"> Im Rahmen der Anbieterzulassung prüft der unabhängige Sicherheitsgutachter, dass die vom Anbieter verwendeten Mechanismen die Mindestanforderungen A_23024 bzw. A_23025 des jeweiligen Vertrauensniveaus erfüllen.<span id="polarion-comment:1786"></span> </p>
  <p id="polarion_196"></p>
  <p id="polarion_211"> <span id="polarion-comment:1455"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133046">
   <p><b>A_23024</b></p>
   <p>Der Anbieter des sektoralen IDP MUSS <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-substantial</span> wie folgt interpretieren:&nbsp;<br>Der Wert <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-substantial</span> entspricht der Widerstandsfähigkeit des Authentisierungsmittels und Protokolls gegen das Angriffspotential "moderate" nach [ISO18045].<br>Zertifizierungen, Notifizierung&nbsp; oder Bestätigungen von Prozessen oder Prozessbestandteilen vergleichbarer Normen und Richtlinien, z. B. nach Verordnung (EU) Nr. 910/2014 in Verbindung mit (EU) 2015/1502 an elektronische Identifizierungsmittel, BSI TR-03107-1 oder vergleichbar, können nachgenutzt werden.<span id="polarion-comment:1620"></span><span id="polarion-comment:1747"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_173"> <span style="font-style: italic;">Hinweis: Beim Vorliegen von Zertifizierungen, welche kein Vertrauensniveau<span id="polarion-comment:1679"></span> ausweisen oder keine unterschiedlichen Angriffspotentiale berücksichtigen, ist eine Nachnutzung möglich, soweit eine Eignung zum Widerstand gegen das Angriffspotential im Sicherheitsgutachten nachgewiesen wird.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133052">
   <p><b>A_23025</b></p>
   <p>Der Anbieter des sektoralen IDP MUSS <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-high</span> wie folgt interpretieren:&nbsp;<br>Der Wert <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-high</span> entspricht der Widerstandsfähigkeit des Authentisierungsmittels und Protokolls gegen das Angriffspotential "high" nach [ISO18045].<br>Zertifizierungen, Notifizierung&nbsp; oder Bestätigungen von Prozessen oder Prozessbestandteilen vergleichbarer Normen und Richtlinien, z. B. nach Verordnung (EU) Nr. 910/2014 in Verbindung mit (EU) 2015/1502 an elektronische Identifizierungsmittel, BSI TR-03107-1 oder vergleichbar, können nachgenutzt werden.<span id="polarion-comment:1621"></span><span id="polarion-comment:1748"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_70"> <span style="font-style: italic;">Hinweis: Beim Vorliegen von Zertifizierungen, welche kein Vertrauensniveau ausweisen oder keine unterschiedlichen Angriffspotentiale berücksichtigen, ist eine Nachnutzung möglich, soweit eine Eignung zum Widerstand gegen das Angriffspotential im Sicherheitsgutachten nachgewiesen wird.</span> </p>
  <p id="polarion_323"> <span style="font-style: italic;">Hinweis: Im Folgenden wird an den relevanten Stellen ausschließlich&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-high&nbsp;</span>oder/und&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-<span style="font-size: 10pt;line-height: 1.5;">substantial&nbsp;</span></span>verwendet.</span> </p>
  <p id="polarion_298"> <span id="polarion-comment:1447"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132883">
   <p><b>A_22987</b></p>
   <p>Der Anbieter des sektoralen IDP MUSS sicherstellen das der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim&nbsp;acr</span> nur auf den Wert&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-<span style="font-size: 10pt;line-height: 1.5;">substantial</span></span> gesetzt wird wenn der Nutzer mindestens auf dem Niveau "substanziell" authentisiert wurde (siehe A_23024 -&nbsp;Definition "gematik-ehealth-loa-substantial").<span id="polarion-comment:1742"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_338"> <span id="polarion-comment:1448"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132882">
   <p><b>A_22988</b></p>
   <p>Der Anbieter des sektoralen IDP MUSS sicherstellen das der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim&nbsp;acr</span> nur auf den Wert&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-high</span> gesetzt wird wenn der Nutzer auf dem Niveau "hoch" authentisiert wurde (siehe A_23025 -&nbsp;Definition "gematik-ehealth-loa-high").<span id="polarion-comment:1743"></span><span id="polarion-comment:1284"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_742"> <span style="font-style: italic;">Hinweis: weitere Werte des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim&nbsp;acr</span>&nbsp;sind zulässig aber werden nicht spezifiziert und auch nicht im Rahmen von Anwendungen der Telematikinfrastruktur genutzt.</span> </p>
  <p id="polarion_748"> Im Rahmen von Anwendungen der TI kommt aktuell nur das Niveau&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-high</span> zum Einsatz. </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-133044">4.3.1 Identifikation des Nutzers</h4>
  <p id="polarion_120">Eine Notifizierung des elektronischen Identifizierungssystems, welches die elektronischen Identifizierungsmittel ausstellt, ist nicht gefordert. Ebenso ist nicht gefordert, dass der Anbieter ein qualifizierter oder nicht-qualifizierter Vertrauensdiensteanbieter gemäß Verordnung (EU) Nr. 910/2014 ist.</p>
  <p id="polarion_143"> <span id="polarion-comment:1333"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129594">
   <p><b>A_22865</b></p>
   <p><span style="color: #000000;">Der Anbieter des sektoralen IDP MUSS einen Prozess zur Identifikation von Nutzern&nbsp;mit mindestens diesen Identifikationsverfahren zur Nutzeridentifikation anbieten:<br></span> 
    <ul>
     <li><span style="color: #000000;">Identifikation mittels&nbsp;<span style="font-size: 10pt;line-height: 1.5;">elektronischem Identitätsnachweis</span>&nbsp;(online Ausweisfunktion<span id="polarion-comment:1099"></span>)</span></li>
     <li><span style="color: #000000;">Identifikation mittelt eGK und PIN</span></li>
    </ul><span id="polarion-comment:1622"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_492"> <span style="font-style: italic;color: #000000;">Hinweis: Ist bei einer Identifikation des Nutzers mittels online Ausweisfunktion keine eindeutige Zuordnung zu einer natürlichen Person im Bestandssystem (z. B. auf Basis der dort für eine Identifikation nach [GKV-SV Richtlinie "Kontakt mit Versicherten]<span id="polarion-comment:1669"></span> hinterlegten Daten) möglich, so kann die Aufklärung der <span style="font-size: 10pt;line-height: 1.5;">Diskrepanzen&nbsp;</span>bis zum Erreichen einer klaren Zuordnung, außerhalb des Kontextes des sektoralen IDP erfolgen</span><span style="font-style: italic;">.<span id="polarion-comment:1548"></span></span> </p>
  <p id="polarion_218"> <span style="color: #FF0000;"> </span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133040">
   <p><b>A_22334-01</b></p>
   <p><span style="font-style: normal;color: #000000;">Der Anbieter des sektoralen IDP MUSS sicherstellen, dass der Zuordnungsprozess zwischen einer natürlichen Person und den Daten der Attributbestätigenden Stelle eindeutig ist.</span><br> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133343">
   <p><b>A_23102</b></p>
   <p><span style="color: #000000;">Alle Verfahren zur Identifikation des Nutzers müssen dem Angriffspotential high nach ISO 18045 standhalten. Die Bewertung der Zulässigkeit der Identifikationsverfahren erfolgt in Einzelprüfung durch die gematik.</span><span style="font-size: 10pt;color: #000000;line-height: 1.5;">&nbsp;<span id="polarion-comment:1623"></span><span id="polarion-comment:1806"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_227"> <span style="font-style: italic;">Hinweis: <span style="color: #000000;">Zertifizierungen, Notifizierung&nbsp; oder Bestätigungen von Prozessen oder Prozessbestandteilen vergleichbarer Normen und Richtlinien, z. B. nach Verordnung (EU) Nr. 910/2014 in Verbindung mit (EU) 2015/1502 an elektronische Identifizierungsmittel, BSI TR-03107-1 oder vergleichbar, können nachgenutzt werden.<span id="polarion-comment:1835"></span></span></span> </p>
  <p id="polarion_551"> <span style="font-style: italic;">Hinweis: Die Einzelfallprüfung&nbsp; erfolgt durch die gematik in Abstimmung mit dem BSI.</span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-128522">4.3.2 Authentifizierungsverfahren</h4>
  <p id="polarion_91"> <span style="font-size: 10pt;color: #FF0000;line-height: 1.5;"><span id="polarion-comment:1332"></span></span>Nach [TR-03107-1] <span style="font-style: italic;">"Elektronische Identitäten und Vertrauensdienste im E-Government Teil 1#Tabelle 2: Grundlegende Kriterien für die Vertrauensniveaus"</span>&nbsp;werden je nach Vertrauensniveau unterschiedliche Anforderungen an die Authentisierung von Nutzern gestellt.&nbsp;Diese&nbsp; bilden für die gematik die Grundlage für die folgenden Anforderungen.<span id="polarion-comment:1828"></span> </p>
  <p id="polarion_510"> <span id="polarion-comment:1549"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129058">
   <p><b>A_22712</b></p>
   <p>Der Hersteller eines sektoralen IDP MUSS ein Authentifizierungsverfahren über NFC mittels eGK und PIN unterstützen.<span id="polarion-comment:1624"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_667"> <span id="polarion-comment:915"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129059">
   <p><b>A_22713</b></p>
   <p>Der Hersteller eines sektoralen IDP MUSS ein Authentifizierungsverfahren mittels <span style="font-size: 10pt;color: #242424;line-height: 1.5;">elektronischem Identitätsnachweis (online-Ausweisfunktion)</span> unterstützen. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133055">
   <p><b>A_23026</b></p>
   <p>Der Anbieter eines sektoralen IDP MUSS sicherstellen, dass&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Authentifikations</span>verfahren entfernt/ausgeschlossen werden, wenn sie das entsprechende Sicherheitsniveau&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-high</span> bzw.&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">gematik-ehealth-loa-<span style="font-size: 10pt;line-height: 1.5;">substantial</span></span> nicht mehr erfüllen. <span id="polarion-comment:1449"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_180"></p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133622">
   <p><b>A_23129</b></p>
   <p><span style="font-size: 10pt;color: #000000;line-height: 1.5;">Der sektorale Identity Provider MUSS den claim&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">amr</span> im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span> entsprechend dem durchgeführten Authentisierungsverfahren nach folgender Tabelle belegen.</span> <p style="text-align: left;" class="polarion-rte-caption-paragraph" data-keep-next="true" id="polarion___2">Tabelle <span class="polarion-rte-caption" data-sequence="Tabelle">6</span> Codierung der Authentisierungsverfahren<span id="polarion-comment:1766"></span></p>
    <table style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;" class="polarion-Document-table" id="polarion_wiki macro name=table;params=width=100%">
     <tbody>
      <tr>
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 596px;height: 26px;border: 1px solid #CCCCCC;padding: 5px;">Authentifizierungsverfahren</th>
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 321px;height: 26px;border: 1px solid #CCCCCC;padding: 5px;">Wert des&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">amr</span> Claim</th>
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 379px;height: 26px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">zulässiges Niveau <span style="font-style: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">(acr)</span></span></th>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 596px;height: 17.2727px;border: 1px solid #CCCCCC;padding: 5px;">Authentifizierung mittels eGK und PIN</td>
       <td style="text-align: left;vertical-align: top;width: 321px;height: 17.2727px;border: 1px solid #CCCCCC;padding: 5px;">urn:telematik:auth:eGK</td>
       <td style="text-align: left;vertical-align: top;width: 379px;height: 17.2727px;border: 1px solid #CCCCCC;padding: 5px;">gematik-ehealth-loa-high</td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 596px;height: 17.2727px;border: 1px solid #CCCCCC;padding: 5px;">Authentifizierung mittel elektronischem Identitätsnachweis (online-Ausweisfunktion)</td>
       <td style="text-align: left;vertical-align: top;width: 321px;height: 17.2727px;border: 1px solid #CCCCCC;padding: 5px;">urn:telematik:auth:eID</td>
       <td style="text-align: left;vertical-align: top;width: 379px;height: 17.2727px;border: 1px solid #CCCCCC;padding: 5px;">gematik-ehealth-loa-high</td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 596px;height: 17.2727px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;"><span style="font-weight: normal;">Anderes A</span>uthentisierungs<span style="font-weight: normal;">v</span>erfahren<span id="polarion-comment:1588"></span><span id="polarion-comment:1824"></span></span></td>
       <td style="text-align: left;vertical-align: top;width: 321px;height: 17.2727px;border: 1px solid #CCCCCC;padding: 5px;">urn:telematik:auth:other</td>
       <td style="text-align: left;vertical-align: top;width: 379px;height: 17.2727px;border: 1px solid #CCCCCC;padding: 5px;">gematik-ehealth-loa-high und&nbsp;<br> gematik-ehealth-loa-<span style="font-size: 10pt;line-height: 1.5;">substantial</span></td>
      </tr>
     </tbody>
    </table><span id="polarion-comment:1543"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_121"> <span style="color: #FF0000;"> </span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129313">
   <p><b>A_22744</b></p>
   <p>Der Hersteller eines sektoralen IDP MUSS ein technisches Verfahren für den Fall etablieren, dass ein Nutzer das Authenticator-Modul auf einem anderen Gerät betreibt als die Frontend Komponente des&nbsp; Fachdienstes, welcher eine Authentifizierung beim sektoralen IDP angefragt hat. In diesem Fall MUSS der sektorale IDP für den Auth-Endpunkt ein WebFrontend bieten, welches die weitere Authentisierung über einen Authenticator auf einem anderen Gerät ermöglicht.<span id="polarion-comment:1777"></span> <span id="polarion-comment:1460"></span><span style="font-size: 10pt;background-color: #FFFFFF;line-height: 1.5;"><span id="polarion-comment:1098"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_247"> <span style="font-style: italic;">Hinweis: Für das Veranlassen zum Öffnen des Authenticator-Moduls durch den Nutzer gibt es unterschiedliche technische Möglichkeiten (z. B. scannen QR-Code von Web-Seite und Codeeingabe im Authenticator, 1-Faktor Login auf Web-Seite und push an Authenticator, u. a.). Diesbezüglich werden keine Anforderungen formuliert, es können auch mehrere Verfahren angeboten werden.</span><span id="polarion-comment:1326"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-125056|project=Mainline_OPB1|layout_workitem_type=leafRequirement|layout_content_type=section|serverPath=https://polarion.int.gematik.de">
   <p><b>A_22306</b></p>
   <p>Der Anbieter des sektoralen Identity Provider MUSS auf der unter <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri</span> des Authenticator-Moduls erreichbaren Webseite&nbsp;darstellen, aus welcher Quelle das jeweilige Authenticator-Modul des sektoralen Identity Provider zu beziehen ist, auf welchen Geräten/Plattformen es installiert werden kann und welche Voraussetzungen für die Verwendung zur Authentifizierung zu erfüllen sind (z. B. erforderliche Registrierungsprozeduren beim Anbieter des sektoralen Identity Provider).<span id="polarion-comment:1780"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_293"> <span id="polarion-comment:914"></span> </p>
  <p id="polarion_306"> <span style="font-size: 10pt;color: #FF0000;line-height: 1.5;"> </span> </p>
  <p id="polarion_315"> <span id="polarion-comment:1589"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124940">
   <p><b>A_22257</b></p>
   <p>Der sektorale Identity Provider MUSS sicherstellen, dass Authorization Request nur nach vorheriger erfolgreicher <span style="font-size: 10pt;line-height: 1.5;">Authentifikation&nbsp;</span>des Nutzers mit einem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> beantwortet werden. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124917">
   <p><b>A_22235</b></p>
   <p><span style="font-style: normal;color: #000000;">Der Anbieter des sektoralen Identity Provider&nbsp;MUSS den Versicherten über Änderungen an Authentifizierungsfaktoren informieren.<br> Die Information des Versicherten kann dabei auch über die Attributbestätigende Stelle&nbsp;erfolgen, welche den Anbieter des sektoralen Identity Provider&nbsp;mit der Erstellung des elektronischen Identifizierungsmittels beauftragt hat.</span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_322"> <span style="font-style: italic;">Hinweis: <span style="font-size: 10pt;line-height: 1.5;">Dies könnten z. B. Änderungen von E-Mail-Adressen, Mobilfunknummern, registrierten<span id="polarion-comment:885"></span> Geräten oder Kennwörtern sein.&nbsp;</span>Die Informationen sollen&nbsp;über entsprechende Anzeige im Authenticator-Modul erfolgen.</span> </p>
  <p id="polarion_329"> <span style="font-style: italic;"> </span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-124918">
   <p><b>A_22236</b></p>
   <p><span style="font-style: normal;color: #000000;">Der Anbieter des sektoralen Identity Provider&nbsp;MUSS dem Versicherten auf dessen Verlangen Auskunft geben über<br></span> 
    <ul>
     <li><span style="font-style: normal;color: #000000;">erfolgte Zugriffe auf das elektronische Identifizierungsmittel des Versicherten und</span></li>
     <li><span style="font-style: normal;color: #000000;">Änderungen der Authentifizierungsfaktoren des Versicherten.</span></li>
    </ul><span id="polarion-comment:932"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_365"> <span style="font-style: italic;font-size: 10pt;line-height: 1.5;">Hinweis: Die Minimalinformationen bestehen aus&nbsp;Datum/Uhrzeit des Zugriffs,&nbsp;Authentisierungsmittel, Gerät.&nbsp;Weitere Informationen, die für die Nutzer sinnvoll sind optional.&nbsp;</span> </p>
  <p id="polarion_375"> <span style="font-style: italic;">Hinweis:&nbsp;Die Auskunft könnte z. B. über eine&nbsp;Protokollfunktion im Authenticator-Modul&nbsp;erfolgen.&nbsp;Die Auskunft des Versicherten kann auch über die Attributbestätigende Stelle&nbsp;erfolgen, der den Anbieter des sektoralen IDP mit der Erstellung des elektronischen Identifizierungsmittels beauftragt hat.</span> </p>
  <h5 id="polarion_wiki macro name=module-workitem;params=id=ML-129196">4.3.2.1 Gerätenutzung</h5>
  <p id="polarion_212"> <span style="color: #FF0000;"><span id="polarion-comment:901"></span></span> </p>
  <p id="polarion_222">Die unterschiedliche Ausstattung der mobilen Geräte erfordert unterschiedliche Anforderung hinsichtlich der Authentifizierungsverfahren. Unterschieden werden:</p>
  <ul id="polarion_223"> 
   <li>Geräte ohne Hardware Keystore</li> 
   <li>Geräte mit Hardware Keystore</li> 
   <li>Geräte mit zertifiziertem Secure Element.</li> 
  </ul>
  <p id="polarion_117">Das Vorhandensein eines Hardware Keystore wird hierbei wie folgt definiert:</p>
  <ul id="polarion_124"> 
   <li><span style="font-size: 10pt;line-height: 1.5;">Apple - Entscheidend ist das Vorhandensein eines "Secure Enclave" [<a href="https://support.apple.com/de-de/guide/security/sec59b0b31ff/web" target="_top" class="descriptionLink">support.apple.com/guide/security</a>]. Diese ist Bestandteil der A7 und neueren Chips von Apple. Die A7 Serie wurde erstmals 2013 mit dem iPhone 5s eingeführt.</span></li> 
   <li> <span style="font-size: 10pt;line-height: 1.5;">Android - Ab Android 9 gibt es den Systemaufruf [<a href="https://developer.android.com/reference/android/security/keystore/KeyInfo#getSecurityLevel()" target="_top" class="descriptionLink">KeyInfo#getSecurityLevel()</a>], um die Speicherung eines Schlüssels im Hardware Keystore&nbsp;abzufragen. Die Rückgabewerte <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">KeyProperties.SECURITY_LEVEL_TRUSTED_ENVIRONMENT</span>&nbsp;,&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">KeyProperties.SECURITY_LEVEL_UNKNOWN_SECURE&nbsp;</span>oder <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">KeyProperties.SECURITY_LEVEL_STRONGBOX</span> sind zulässig. Ältere Systeme bieten die Schnittstelle [<a href="https://developer.android.com/reference/android/security/keystore/KeyInfo#isInsideSecureHardware()" target="_top" class="descriptionLink">KeyInfo#isInsideSecureHardware()</a>]&nbsp;an. Hier ist der Rückgabewert <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">true </span>zulässig.<span id="polarion-comment:1625"></span></span></li> 
  </ul>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129380">
   <p><b>A_22750</b></p>
   <p><p style="text-align: left;" class="polarion-rte-caption-paragraph" data-keep-next="true" id="polarion___3"><span style="font-style: normal;font-size: 10pt;line-height: 1.5;">Abhängig von der Geräteausstattung des Nutzers ist eine Gerätebindung für einen festgelegten Zeitraum ohne Erneuerung gültig. Der Anbieter des sektoralen IDP MUSS, wenn er eine Gerätebindung im Rahmen eines Authentisierungsverfahren nutzt, die Zeitrahmen&nbsp;der Gültigkeit für die Gerätebindung gemäß Tabelle "<span style="font-style: italic;">Übersicht Gerätebindung</span>" berücksichtigen. Die Gerätebindung MUSS durch den Nutzer nach Ablauf dieser Frist dementsprechend erneuert werden.<br> Der Anbieter des sektoralen IDP MUSS, mit den zur Verfügung stehende Plattformmechanismen, einen kryptographischen Nachweis der Gerätebindung auf dem Endgerät erzeugen und auf Serverseite prüfen (z.B. Android: Key &amp; ID Attestation; iOS: DCAppAttestService).<br> Das Vertrauensniveau einer Gerätebindung als Authentisierungsfaktor entspricht dem für die Einrichtung verwendeten Verfahren.</span><br><br> Tabelle <span class="polarion-rte-caption" data-sequence="Tabelle">7</span>: Übersicht Gerätebindung&nbsp;für gematik-ehealth-loa-high<span id="polarion-comment:1767"></span></p>
    <table style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;" class="polarion-Document-table" id="polarion_wiki macro name=table;params=width=100%">
     <tbody>
      <tr>
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 256px;height: 24.9906px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 11pt;color: #172B4D;line-height: 1.5;">Gerätenutzung</span></th>
       <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 475px;height: 24.9906px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 11pt;color: #172B4D;line-height: 1.5;">Authentisierung</span></th>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 256px;height: 136px;border: 1px solid #CCCCCC;padding: 5px;">ohne Hardware Keystore</td>
       <td style="text-align: left;vertical-align: top;width: 475px;height: 136px;border: 1px solid #CCCCCC;padding: 5px;">Die Gerätebindung kann<br> 
        <div style="margin-left: 40px;">
         a) durch Identifikation, welche dem Niveau "gematik-ehealth-loa-high" entspricht
        </div>oder &nbsp;<br> 
        <div style="margin-left: 40px;">
         b) mit einer 2FA, welche dem Niveau "gematik-ehealth-loa-high" entspricht,
        </div>angelegt&nbsp;werden.<br><br> Die Gerätebindung kann für 24 Stunden zusammen mit einem Faktor aus den Bereichen Wissen oder Inhärenz auf dem Niveau "gematik-ehealth-loa-high" genutzt werden.<span id="polarion-comment:1793"></span><br></td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 256px;height: 125px;border: 1px solid #CCCCCC;padding: 5px;">mit Hardware Keystore</td>
       <td style="text-align: left;vertical-align: top;width: 475px;height: 125px;border: 1px solid #CCCCCC;padding: 5px;">Die Gerätebindung kann<br> 
        <div style="margin-left: 40px;">
         a) durch Identifikation, welche dem Niveau "gematik-ehealth-loa-high" entspricht
        </div>oder &nbsp;<br> 
        <div style="margin-left: 40px;">
         b) mit einer 2FA, welche dem Niveau "gematik-ehealth-loa-high" entspricht,
        </div>angelegt&nbsp;werden.<br><br> Die Gerätebindung kann für 6 Monate zusammen mit einem Faktor aus den Bereichen Wissen oder Inhärenz auf dem Niveau "gematik-ehealth-loa-high" genutzt werden.<span id="polarion-comment:1794"></span></td>
      </tr>
      <tr>
       <td style="text-align: left;vertical-align: top;width: 256px;height: 65px;border: 1px solid #CCCCCC;padding: 5px;">mit zertifiziertem Secure Element</td>
       <td style="text-align: left;vertical-align: top;width: 475px;height: 65px;border: 1px solid #CCCCCC;padding: 5px;">Die Gerätebindung kann<br> 
        <div style="margin-left: 40px;">
         a) durch Identifikation, welche dem Niveau "gematik-ehealth-loa-high" entspricht
        </div>oder &nbsp;<br> 
        <div style="margin-left: 40px;">
         b) mit einer 2FA, welche dem Niveau "gematik-ehealth-loa-high" entspricht,
        </div>angelegt&nbsp;werden.<br><br> Die Gerätebindung kann unbegrenzt zusammen mit einem Faktor aus den Bereichen Wissen oder Inhärenz auf dem Niveau "gematik-ehealth-loa-high" genutzt werden.<span id="polarion-comment:1795"></span><br></td>
      </tr>
     </tbody>
    </table><p style="text-align: center;" class="polarion-rte-caption-paragraph"></p><span id="polarion-comment:1626"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_191"> <span style="font-style: italic;">Hinweis: Die Überprüfung, zu welcher der in der Tabelle aufgeführten Kategorien das Gerät mit dem Authenticator-Modul gehört, kann im Authenticator-Modul selbst erfolgen oder alternativ beim sektoralen IDP durch Übermittlung der notwendigen Informationen vom Authenticator-Modul an den sektoralen IDP.&nbsp; Die Überprüfung der in der Tabelle je Kategorie genannten Gültigkeitszeiträume für eine Gerätebindung erfolgt beim sektoralen IDP.<span id="polarion-comment:1808"></span></span> </p>
  <p id="polarion_56"> <span style="font-style: italic;">Hinweis: In der Praxis erlaubt dieses Vorgehen primär die Nutzung von nicht zertifizierten Hardware Keystores für eine Authentisierung auf dem formalen Sicherheitsniveau "gematik-ehealth-loa-high".</span> </p>
  <p id="polarion_118"> <span style="font-style: italic;">Hinweis: Die Tabelle "Übersicht Gerätebindung für gematik-ehealth-loa-high" weicht ab von der&nbsp; Anforderung A_23025. Die Kriterien für die in der Tabelle angegebene Gerätebindung genügen der Verwendung als Authentisierungsfaktor für "gematik-ehealth-loa-high" und der in A_23025 geforderten Angriffswiderstand muss nicht nachgewiesen werden. <span id="polarion-comment:1772"></span></span> </p>
  <p id="polarion_122"> <span style="font-style: italic;"><span id="polarion-comment:1749"></span></span><span style="font-style: italic;font-size: 11pt;color: #172B4D;line-height: 1.5;"><span id="polarion-comment:1764"></span></span><span id="polarion-comment:1815"></span> </p>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-128360">5 Anforderungen an Authenticator-Module sektoraler IDPs</h2>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-132958">5.1 Schnittstellen des Authenticator-Moduls</h3>
  <p id="polarion_273">Schnittstellen des Authenticator-Moduls sind diejenigen, an welchen es Anfragen durch das Anwendungsfrontend oder Web-Frontend empfängt&nbsp;und jene, welche das Authenticator-Modul selbst verwendet, um mit dem Authorization-Endpunkt des sektoralen IDPs in Kontakt zu treten.</p>
  <p id="polarion_275"> Das Authenticator-Modul nimmt die Authentifizierungs-Anfrage des Anwendungsfrontend entgegen und nutzt den Authorization-Endpunkt des sektoralen IDPs, um die Anfrage einzureichen. Der Authorization-Endpunkt des sektoralen IDPs antwortet – nach positiver Validierung der Anfrage und Authentisierung des Nutzers am Authenticator-Modul – mit einem&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>. Das Authenticator-Modul empfängt den&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und leitet diesen an das Anwendungsfrontend weiter. Nachfolgende Abbildung skizziert die Schnittstellen des Authenticator-Moduls und weiterer relevanter Komponenten. Siehe auch <span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-132465" data-option-id="longoutline"></span>&nbsp;Abbildung <span style="font-style: italic;">App-App-Flow</span>. </p>
  <p id="polarion_276" data-keep-next="true"></p>
  <p id="polarion_292" style="text-align: center;" class="polarion-rte-caption-paragraph"> <img src="attachments/Bausteinsicht_Föderierung_klein.drawio.png" style="max-width: 650px;" data-lastmodified="2022-06-14T08:04:57.197+02:00"> </p>
  <p id="polarion_341" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">5</span>: Systemkontext Authenticator-Modul </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-128523">5.2 Funktionsmerkmale Authenticator-Modul</h3>
  <p id="polarion_206"> Die folgende Beschreibung in diesem Kapitel gilt für Authenticator-Module sektoraler Identity Provider im Rahmen der Föderation. Entsprechende Vorgaben für die Authenticator-Modul des IDP-Dienstes finden sich in [gemSpec_IDP_Dienst].<span id="polarion-comment:1338"></span> </p>
  <p id="polarion_634">Das Authenticator-Modul ist ein Modul, welches in einer Applikation für mobile Endgeräte wie Smartphones bereitgestellt wird.&nbsp;Bei Nutzung eines Primärsystems&nbsp;wird die Funktionalität des Authenticator-Moduls vom Primärsystem selbst realisiert.</p>
  <p id="polarion_636"> Die Bereitstellung des&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Authenticator-Moduls&nbsp;</span>erfolgt über die dem jeweiligen Betriebssystem üblicherweise zur Verfügung stehenden Portale in einer sicheren, für den Nutzer kostenfreien Form.<span style="color: #FF0000;"><br> </span> </p>
  <p id="polarion_640"> Aufgabe des Authenticator-Moduls ist die Nutzerauthentifizierung gegenüber dem sektoralen IDP, bei welchem der Nutzer als Identität hinterlegt ist. Eine weitere Aufgabe ist das Einholen der Zustimmung des Nutzers (Resource Owner) für den Zugriff durch Fachdienste auf Ressourcen des Nutzers (Consent<span id="polarion-comment:1028"></span>-Freigabe).&nbsp; </p>
  <p id="polarion_646">Es können je sektoralem IDP ein oder mehrere Authenticator-Module existieren, welche die Authentisierung des Benutzers durchführen. Über die generellen Vorgaben zum Authentifizierungsverfahren hinaus werden hier keine funktionalen Vorgaben gemacht.</p>
  <p id="polarion_648"> Der Anbieter des sektoralen IDP ist für seine Authenticator-Module zuständig. Eine organisatorische Zuständigkeitstrennung zwischen Authenticator-Modulen und Anbietern sektoraler IDPs ist möglich.<span id="polarion-comment:1340"></span> Ansprechpartner und verantwortlich bleibt in jedem Fall der Anbieter des sektoralen IDP - auch für Produkte von anderen Herstellern. </p>
  <p id="polarion_650"> Aufgabe des Authenticator-Moduls ist, den zum Abruf der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN&nbsp;</span>benötigten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE, </span>mit Zustimmung des Nutzers (Resource Owner) und nach eingehender Überprüfung dessen Identität, zu beantragen. Dazu nimmt das Authenticator-Modul die Authentifizierungs-Anfrage des Anwendungsfrontend entgegen und reicht diese am Authorization-Endpunkt des sektoralen IDPs ein. Der Authorization-Endpunkt des sektoralen IDPs antwortet – nach positiver Validierung der Anfrage – mit einem&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>. Das Authenticator-Modul nimmt den&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und leitet diesen an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>bzw. an das Anwendungsfrontend weiter. Durch Übergabe des&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> erhält der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>bzw. Anwendungsfrontend am Token-Endpunkt das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> (s<span style="color: #000000;">iehe auch&nbsp;<span class="polarion-rte-link" data-type="crossReference" id="fake" data-item-id="ML-132465" data-option-id="longoutline"></span>&nbsp;).&nbsp;</span><span id="polarion-comment:1327"></span><span id="polarion-comment:1441"></span> </p>
  <p id="polarion_254">Schnittstellen des Authenticator-Moduls sind diejenigen, an welchen es Anfragen durch das Anwendungsfrontend oder Web-Frontend empfängt&nbsp;und jene, welche das Authenticator-Modul selbst verwendet, um mit dem Authorization-Endpunkt des sektoralen IDPs in Kontakt zu treten.</p>
  <p id="polarion_255"></p>
  <p id="polarion_314" style="text-align: center;" data-keep-next="true"> <img src="attachments/Bausteinsicht_Föderierung_klein.drawio.png" style="max-width: 650px;" data-lastmodified="2022-06-16T11:24:06.475+02:00"> </p>
  <p id="polarion_318" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">6</span> Systemkontext Authenticator-Modul </p>
  <p id="polarion_319"></p>
  <p id="polarion_654"> <span id="polarion-comment:921"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132367">
   <p><b>A_22939</b></p>
   <p>Authenticator-Module des sektoralen IDP MÜSSEN&nbsp;dem Nutzer die Möglichkeit geben einem Dienst einzelne <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span> nicht zu übermitteln. Auch auf das Risiko hin das dieser Dienst dann nicht verwendet werden kann. <b>&lt;=</b></p>
  </div>
  <p id="polarion_518"> <span style="font-style: italic;"><span id="polarion-comment:1618"></span><span id="polarion-comment:1775"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-129488|level=1">
   <p><b>A_22832</b></p>
   <p>Authenticator-Module des sektoralen IDP MUSS die&nbsp;Willenserklärung des Nutzers zur Übermittlung seiner in den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> angeforderten Daten zum anfragenden Fachdienst über ein für den Betreiber des sektoralen IDP nicht einsehbares Verfahren einholen.&nbsp;<span id="polarion-comment:1094"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_50"> <span style="font-style: italic;">Hinweis: Die erfolgte Zustimmung des Nutzers darf gespeichert werden und weitere Abfragen können entfallen.</span> </p>
  <p id="polarion_140"> <span style="font-style: italic;">Hinweis: Stellt der Anbieter des sektoralen Identity Provider das&nbsp;Authenticator-Modul nicht als eigene Anwendung, sondern z. B. über ein SDK für die Integration in andere Anwendungen zur Verfügung, so muss er lediglich die Schnittstellen zur Anzeige des "user_consent" bereitstellen.<span id="polarion-comment:1718"></span></span> </p>
  <p id="polarion_241"></p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133140">
   <p><b>A_23051</b></p>
   <p>Der Anbieter des sektoralen Identity Provider MUSS den Nutzern Authenticator-Module für Android (im <span style="font-size: 10pt;line-height: 1.5;">Google Play Store</span>) und iOS (im&nbsp;<span style="font-size: 10pt;line-height: 1.5;">App Store)</span> bereitstellen. Weitere Verbreitungswege sind zulässig aber nicht verpflichtend.<span id="polarion-comment:1689"></span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134219">
   <p><b>A_22277-01</b></p>
   <p>Der Anbieter des sektoralen Identity Provider MUSS dafür Sorge tragen, dass die in App Stores veröffentlichten Authenticator-Module schnellstmöglich aktualisiert und die Nutzer über Updates informiert werden.<span id="polarion-comment:1688"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_110"> <span style="font-style: italic;">Hinweis: Stellt der Anbieter des sektoralen IDP das Authenticator-Modul als SDK zur Verfügung (z.B. für die Integration in die kasseneigenen Apps) so sind&nbsp;A_23051 und A_22277-01 unwirksam. Das sollte dann in der Anbietererklärung zum Ausdruck kommen.&nbsp;Eine Notwendigkeit zur Prüfung der integrierenden Apps ist nicht gegeben.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-135467">
   <p><b>A_23389</b></p>
   <p>Das Authenticator-Modul des sektoralen IDP MUSS<br> 
    <ul> 
     <li>Geräte mit Jailbreak oder Root-Zugriff entsprechend dem aktuellen Stand der Technik erkennen. Das Authenticator-Modul MUSS dem Nutzer darstellen, welche Risiken für die Daten des Nutzers bestehen (z. B., dass diese offengelegt werden könnten) und die Fortsetzung unterbinden.</li> 
     <li>den Start in einer Entwicklungs-/Debug-Umgebung sicher erkennen und unterbinden.</li> 
     <li>den Start abbrechen, falls es unter ungewöhnlichen Benutzerrechten gestartet wird (z. B. root oder nobody).</li> 
     <li>Zertifikats-Pinning für die Verbindung zum sektoralen IDP unterstützen. Es DARF Zertifikate NICHT akzeptieren, deren Zertifikatskette dem Hersteller nicht vertrauenswürdig erscheint [RFC7469</li> 
    </ul> <b>&lt;=</b></p>
  </div>
  <p id="polarion_179"> <span style="font-style: italic;">Hinweis: <span style="font-size: 10pt;color: #242424;line-height: 1.5;">Die Anforderung orientiert sich an Prüfaspekt 11 (Resilienz) der TR-03161 des BSI.&nbsp;</span><span id="polarion-comment:1811"></span><span id="polarion-comment:1826"></span></span> </p>
  <p id="polarion_32"> <span id="polarion-comment:1703"></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128372">
   <p><b>A_22659</b></p>
   <p><span style="color: #000000;">Im Kontext von Android-Anwendungen MÜSSEN Authenticator-Module zu sektoralen IDP für die wechselseitige Verlinkung&nbsp;den unter&nbsp;[ANDROIDAPPLINKS] beschriebenen App-Link-Mechanismus verwenden und damit Aufrufe an die Adresse des Authorization-EP ermöglichen.</span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_665"> <span style="font-weight: bold;color: #FF0000;"> </span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128370">
   <p><b>A_22660</b></p>
   <p><span style="color: #000000;">Im Kontext von iOS-Anwendungen MÜSSEN Authenticator-Module zu sektoralen IDP für die wechselseitige Verlinkung den unter [APPLEUNIVERSAL] beschriebenen Universal-Link-Mechanismus verwenden und damit Aufrufe an die Adresse des Authorization-EP ermöglichen.</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-128371">
   <p><b>A_22661</b></p>
   <p><span style="color: #000000;">Anbieter von sektoralen IDP MÜSSEN sicherstellen, dass die durch das Betriebssystem notwendigen Voraussetzungen für die Funktionsfähigkeit ihres Authenticator-Moduls erfüllt sind (z. B. <span style="font-size: 10pt;line-height: 1.5;">Registrierung der Anwendung zur App2App-Kommunikation entsprechend der Mechanismen unter&nbsp;[ANDROIDAPPLINKS] bzw. [APPLEUNIVERSAL] zur Verknüpfung der Anwendung mit einer Webseite</span>).</span> <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-134280">
   <p><b>A_23203</b></p>
   <p>Der Anbieter des sektoralen Identity Provider MUSS dafür Sorge tragen, dass seine Authenticator-Module jederzeit:<br> 
    <ul>
     <li>iOS Betriebssystem: Die noch offiziell von Apple mit OS-Updates versorgten Geräte</li>
     <li>Android-Betriebssystem:&nbsp; Versionen mindestens der letzten zwei Jahre&nbsp;unterstützen.</li>
    </ul><span id="polarion-comment:1805"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_204"> <span style="font-style: italic;">Hinweise: Der Anbieter des IDP kann bei Sicherheitsbedenken von A_23203<span id="polarion-comment:1812"></span> abweichend Betriebssystemversionen ausschließen.</span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132847">
   <p><b>A_22308-01</b></p>
   <p><span style="font-size: 10pt;background-color: #FFFFFF;line-height: 1.5;">Das Authenticator-Modul beim Aufruf durch das Anwendungsfrontend DARF NICHT weitere/andere Funktionalitäten anbieten als solche, die direkt oder indirekt zur Authentifizierung des Nutzers dienen (z. B. Einrichtung, Registrierung, dafür relevante Informationen). Insbesondere Werbung für andere Leistungen oder Funktionen DARF NICHT angezeigt werden.<span id="polarion-comment:1627"></span></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_704"> <span style="font-weight: bold;"> </span> </p>
  <p id="polarion_721"> <span style="font-weight: bold;"> </span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-125057">
   <p><b>A_22311</b></p>
   <p>Authenticator-Module<span id="polarion-comment:1090"></span> von sektoralen Identity Provider MÜSSEN die bei der Übergabe des Authorization Request erhaltene&nbsp;<span style="font-size: 10pt;color: #172B4D;line-height: 1.5;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri</span>&nbsp;</span>für die Übergabe des <span style="font-size: 10pt;font-family: 'Courier New', Courier, monospace, HanWangKanTan;line-height: 1.5;">AUTHORIZATION_CODE</span> verwenden. Außer für diesen Aufruf DARF er NICHT an andere Anwendungen übergeben werden. <b>&lt;=</b></p>
  </div>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-132846|project=Mainline_OPB1|layout_workitem_type=leafRequirement|layout_content_type=section|serverPath=https://polarion.int.gematik.de">
   <p><b>A_22978</b></p>
   <p>Authenticator-Module von sektoralen IDP SOLLEN Informationen zum verwendeten&nbsp;Endgerät des Nutzers erheben können welche die Inhalte des&nbsp;Datentyps "Device_Type" abbilden.<br> Um die Authentizität des Datensatzes zu gewährleisten, muss die Vertrauenswürdigkeit zum Zeitpunkt der Erhebung des Datensatzes geprüft und nachgewiesen werden. <br> Hierfür müssen geeignete und zur Verfügung stehende Plattformmechanismen genutzt werden (z. B. Android: SafetyNet Attestation / Integrity API, Key &amp; ID Attestation; iOS: DCAppAttestService).<span id="polarion-comment:1715"></span><span id="polarion-comment:1829"></span> <b>&lt;=</b></p>
  </div>
  <p id="polarion_172"> <span style="color: #000000;">Der Datentyp "Device_Type" wird perspektivisch zur Übertragung von Informationen über einen Gerätetyp vom Authenticator-Modul zum sektoralen <span style="font-size: 10pt;line-height: 1.5;">IDP</span> verwendet. Der Datensatz wird vom Authenticator-Modul produziert und soll dem sektoralen IDP dazu dienen, TI-Weite Vorgaben zur Zulässigkeit von mobilen Endgeräten bei der Authentisierung umzusetzen. Der Datentyp umfasst die Elemente des folgenden Schemas:<span id="polarion-comment:1287"></span></span> </p>
  <p id="polarion_730"> <span style="color: #000000;"><span id="polarion-comment:1205"></span></span> </p>
  <p id="polarion_151" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">8</span> : Schema Datentyp "Device_Type" </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=731" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 185px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Name</span></th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 174px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Type</span></th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Hinweise</span></th> 
    </tr> 
    <tr> 
     <td style="width: 185px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #000000;">device_type_data_version</span></td> 
     <td style="width: 174px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">JSON/String, konstant "1.1"&nbsp;</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">-</span></td> 
    </tr> 
    <tr> 
     <td style="width: 185px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #000000;">manufacturer</span></td> 
     <td style="width: 174px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">JSON/String</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Name des Herstellers eines Geräts</span></td> 
    </tr> 
    <tr> 
     <td style="width: 185px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #000000;">product</span></td> 
     <td style="width: 174px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">JSON/String</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Produktname des Geräts gegenüber dem Endkunden</span></td> 
    </tr> 
    <tr> 
     <td style="width: 185px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #000000;">model</span></td> 
     <td style="width: 174px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">JSON/String</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Name des Modells</span></td> 
    </tr> 
    <tr> 
     <td style="width: 185px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">keystore</span></td> 
     <td style="width: 174px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">JSON/Boolean</td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ist ein Hardware Keystore vorhanden?<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 185px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #000000;">os</span></td> 
     <td style="width: 174px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">JSON/String</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Betriebssystem</span></td> 
    </tr> 
    <tr> 
     <td style="width: 185px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #000000;">os_version</span></td> 
     <td style="width: 174px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">JSON/String</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Version des Betriebssystems</span></td> 
    </tr> 
    <tr> 
     <td style="width: 185px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #000000;">security_patchlevel</span></td> 
     <td style="width: 174px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">JSON/String</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Format "YYYY-MM-DD"</span></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_20"> <span style="font-size: 10pt;color: #172B4D;line-height: 1.5;"><span style="font-style: italic;">Hinweis: Die in Tabelle Schema Datentyp "Device_Type" aufgeführten Parameter sind nach aktuellem Kenntnisstand für eine Geräteprüfung notwendig. Die Tabelleninhalte können sich in späteren Releases aufgrund neuer Erkenntnisse oder geänderter sicherheitstechnischer Anforderungen ändern.</span>&nbsp;</span><span style="font-size: 11pt;color: #172B4D;line-height: 1.5;"><span id="polarion-comment:1796"></span></span> </p>
  <div id="polarion_wiki macro name=module-workitem;params=id=ML-133084">
   <p><b>A_23031</b></p>
   <p>Das Authenticator-Modul MUSS mittels App2App-Kommunikation übertragene Anfragen<span id="polarion-comment:1513"></span> entsprechend [<a href="https://datatracker.ietf.org/doc/html/rfc9126#section-4" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-4)</a>]&nbsp;annehmen und gewährleisten, dass der Request TLS-gesichert in die vertrauenswürdige Ausführungsumgebung des sektoralen IDP übermittelt wird. <b>&lt;=</b></p>
  </div>
  <p id="polarion_272"> <span style="color: #000000;"><span id="polarion-comment:1335"></span></span> </p>
  <p id="polarion_478"> <span id="polarion-comment:1628"></span><span id="polarion-comment:1830"></span> </p>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-122090">6 Anhang A – Verzeichnisse</h2>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122091">6.1 Abkürzungen</h3>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=1" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 94px;height: 19.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Kürzel<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 486.8px;height: 19.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Erläuterung<span id="polarion-comment:1100"></span><br> </th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">AVS&nbsp;</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Apothekenverwaltungssystem (ein Primärsystem)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">IDP</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Identity Provider</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">JWT</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">JSON Web Token</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">KVS</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Krankenhausverwaltungssystem&nbsp;(ein Primärsystem)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">OAuth 2</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Open Authorization 2.0</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">OIDC</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">OpenID Connect</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">PAR</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Pushed Authorization Request</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">PVS</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Praxisverwaltungssystem&nbsp;(ein Primärsystem)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">SGB</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Sozialgesetzbuch</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">TI</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Telematikinfrastruktur</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 94px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">VAU</td> 
     <td style="text-align: left;vertical-align: top;width: 486.8px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Vertrauenswürdige Ausführungsumgebung</td> 
    </tr> 
   </tbody> 
  </table>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122092">6.2 Glossar</h3>
  <p id="polarion_367">&nbsp;</p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=3" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 190px;height: 19.6px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Begriff<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 541px;height: 19.6px;border: 1px solid #CCCCCC;padding: 5px;">Erläuterung<br> </th> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span></td> 
     <td style="width: 541px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">Ein <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>(nach [<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.4" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-1.4)</a>])&nbsp;wird vom Client (Anwendungsfrontend) benötigt, um auf geschützte Daten eines Resource Servers zuzugreifen. Die Repräsentation kann als JSON Web Token erfolgen.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anwendungsfrontend</td> 
     <td style="width: 541px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">Die Applikation durch welche ein Nutzer die Dienste einer Anwendung der TI wie etwa das E-Rezept nutzt.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 56px;border: 1px solid #CCCCCC;padding: 5px;">App2App-Kommunikation</td> 
     <td style="width: 541px;height: 56px;border: 1px solid #CCCCCC;padding: 5px;">Eine direkte Nachrichtenübertragung zwischen zwei Anwendungen auf einem Endgerät, welche durch Mechanismen des Betriebssystems ermöglicht wird.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Authenticator-Modul</td> 
     <td style="width: 541px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">Komponente, durch welche der Nutzer die Authentifizierung gegenüber dem IDP vornimmt.&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Authentifizierung des Nutzers am Gerät oder lokale Authentifizierung</td> 
     <td style="width: 541px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">Authentifizierungsmittel des Nutzers zur Nutzung eines Kontos auf einem Mobilgerät.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 43px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Authorization-Endpunkt</td> 
     <td style="width: 541px;height: 43px;border: 1px solid #CCCCCC;padding: 5px;">Der Authorization-Endpunkt führt nach der initialen Anfrage die Authentifizierung des Nutzers durch und stellt einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> aus, welcher zum Abrufen der eigentlichen Token verwendet wird.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 43px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Authorization Request</td> 
     <td style="width: 541px;height: 43px;border: 1px solid #CCCCCC;padding: 5px;">Der Client fordert die Autorisierung vom Ressourceneigentümer durch einen&nbsp;Authorization Request&nbsp;an. Der&nbsp;Authorization Request&nbsp;kann direkt an den Ressourcenbesitzer oder indirekt über die Autorisierung Server als Vermittler gestellt werden (siehe<span style="font-size: 10pt;color: #172B4D;line-height: 1.5;"> [<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.1" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-4.1.1)</a>]).</span></td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Authorization-Server</td> 
     <td style="width: 541px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">OAuth2-Rolle (siehe [<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.1" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-1.1)</a>]): Der Authorization-Server ist Teil des sektoralen IDP. Der Server authentifiziert den Resource Owner (Nutzer) und stellt Access Token für den vom Resource Owner erlaubten Anwendungsbereich (<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span>) für einen Resource Server bzw. eine auf einem Resource Server existierende Protected Resource aus.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 38px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Autorisierte Anwendung eines Schlüssels</td> 
     <td style="width: 541px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Anwendung eines kryptographischen Schlüssels auf Daten durch einen berechtigten Nutzer.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 17px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Betriebssystem (oder Plattform)</td> 
     <td style="width: 541px;height: 17px;border: 1px solid #CCCCCC;padding: 5px;">Der Name des Betriebssystems eines Geräts.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 21px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Besitz (eines Geräts)</td> 
     <td style="width: 541px;height: 21px;border: 1px solid #CCCCCC;padding: 5px;">Verwendungshoheit eines Nutzers über ein Mobilgerät.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim</span></td> 
     <td style="width: 541px;height: 20px;border: 1px solid #CCCCCC;padding: 5px;">Ein Key/Value-Paar im Payload eines JSON Web Token.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Client</td> 
     <td style="width: 541px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">OAuth2-Rolle (siehe [<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.1" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-1.1)</a>]): Eine Anwendung (Relying Party), die auf geschützte Ressourcen des Resource Owner zugreifen möchte, die vom Resource Server bereitgestellt werden. Der Client kann auf einem Server (Webanwendung), Desktop-PC, mobilen Gerät etc. ausgeführt werden.&nbsp;Im Fokus der aktuellen Spezifikationen liegt jedoch allein die Kommunikation mit dem E-Rezept-FdV.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Consent</td> 
     <td style="width: 541px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Zustimmung des Nutzers zur Verarbeitung der angezeigten Daten. Der Consent umfasst die Attribute, welche vom sektoralen IDP bezogen auf die im <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim </span>des jeweiligen Fachdienstes eingeforderten Attribute zusammenfasst. Es besteht Einigkeit zwischen dem, was gefordert wird, und welche Attribute im Token bestätigt werden.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Entity Statement</td> 
     <td style="width: 541px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: normal;font-size: 10pt;color: #000000;line-height: 1.5;"><span style="color: #172B4D;">Ein&nbsp;</span>Entity Statement<span style="color: #172B4D;">&nbsp;wird von einer Entity <span id="polarion-comment:1380"></span> ausgegeben, die sich auf eine Intermediate Entity und Leaf Entity bezieht. Ein Entity Statement ist immer ein signiertes JWT.<br> <span style="font-style: italic;">Hinweis: Definition Entity Statement,&nbsp;Entity,&nbsp;Intermediate Entity, Leaf Entity siehe&nbsp;[<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.1.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-1.2)</a>]</span></span></span></td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 102px;border: 1px solid #CCCCCC;padding: 5px;">Federation Master</td> 
     <td style="width: 541px;height: 102px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #000000;">Der Federation Master&nbsp;basiert auf den Standards OpenID Connect (OIDC), Open Authorization 2.0 (OAuth 2) und JSON Web Token (JWT). Der Federation Master ist einerseits der Trust Anchor des Vertrauensbereichs der Föderation. Andererseits stellt der Federation Master Schnittstellen bereit, welche Auskunft über die in der Föderation registrierten sektoralen IDP gibt.</span></td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 57.2px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Funktionsmerkmal </td> 
     <td style="width: 541px;height: 57.2px;border: 1px solid #CCCCCC;padding: 5px;">Der Begriff beschreibt eine Funktion oder auch einzelne, eine logische Einheit bildende Teilfunktionen der TI im Rahmen der funktionalen Zerlegung des Systems. </td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Gerät</td> 
     <td style="width: 541px;height: 23px;border: 1px solid #CCCCCC;padding: 5px;">Alle Arten von mobilen oder stationären Endgeräten.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN&nbsp;</span></td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Ein auf JSON basiertes und nach [<a href="https://datatracker.ietf.org/doc/html/rfc7519" target="_top" class="descriptionLink">JSON Web Token (JWT)</a>] genormtes Identitäts-Token, mit dem ein Client (Anwendungsfrontend) die Identität eines Nutzers überprüfen kann.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">JSON Web Token</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ein auf JSON basiertes und nach [<a href="https://datatracker.ietf.org/doc/html/rfc7519" target="_top" class="descriptionLink">JSON Web Token (JWT)</a>] genormtes <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>. Das JWT ermöglicht den Austausch von verifizierbaren <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> innerhalb seines Payloads.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Löschung </td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Unter Löschung eines Schlüssels sollen pauschal alle Operationen verstanden werden, die einer Anwendung einen kryptographischen Schlüssel dauerhaft entziehen.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name (eines Geräts)</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Ein vom Nutzer vergebener Name eines Geräts.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Open Authorization 2.0</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Ein Protokoll zur Autorisierung für Web-, Desktop und Mobile Anwendungen. Dabei wird es einem Endbenutzer (Resource Owner) ermöglicht, einer Anwendung (Client) den Zugriff auf Daten oder Dienste (Resources) zu ermöglichen, die von einem Dritten (Resource Server) bereitgestellt werden.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">OpenID Connect</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">OpenID Connect (OIDC) ist eine Authentifizierungsschicht, die auf dem Autorisierungsframework OAuth 2.0 basiert. Es ermöglicht Clients, die Identität des Nutzers anhand der Authentifizierung durch einen <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> zu überprüfen (siehe [OpenID Connect Core 1.0]).</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Pushed Authorization Request (PAR)</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Der Pushed Authorization Request (PAR) ermöglicht es Clients, eine OAuth 2.0-Autorisierungsanforderung direkte an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> des sektoralen IDP zu senden. Die übergeben redirect-URI ist Autorisierungsendpunkt und wird im weiteren Flow verwendet.<br> <a href="https://datatracker.ietf.org/doc/html/rfc9126" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc9126</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Resource Owner</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">OAuth2-Rolle (siehe [<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.1" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-1.1)</a>]): Eine Entität (Nutzer), die einem Dritten den Zugriff auf ihre geschützten Ressourcen gewähren kann. Diese Ressourcen werden durch den Resource Server bereitgestellt. Ist der Resource Owner eine Person, wird dieser als Nutzer bezeichnet.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Resource Server</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">&nbsp;OAuth2 Rolle (siehe [<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.1" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-1.1)</a>]): Der Server (Dienst), auf dem die geschützten Ressourcen (Protected Resources) liegen. Er ist in der Lage, auf Basis von Access Tokens darauf Zugriff zu gewähren. Ein solcher Token repräsentiert die delegierte Autorisierung des Resource Owner.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">sektoraler Identity Provider (IDP)</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Als sektoraler Identity Provider wird ein Dienst bezeichnet, welcher nach vorheriger Authentifizierung Identitätsinformationen für eine bestimmte Gruppe von Nutzern innerhalb der TI des Gesundheitswesens bereitstellt, welche anschließend verwendet werden, um auf verschiedene Fachdienste und deren Fachdaten und -prozesse zuzugreifen.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Token-Endpunkt</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Ein Endpunkt des Authorization-Servers, welcher für die Ausstellung von Token (<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>) zuständig ist.</td> 
    </tr> 
    <tr> 
     <td style="width: 190px;height: 20.4px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Verarbeitungskontext</td> 
     <td style="width: 541px;height: 20.4px;border: 1px solid #CCCCCC;padding: 5px;">Die Gesamtheit aus der für eine Klartextverarbeitung erforderlichen Software, dem für eine Klartextverarbeitung genutzten physikalischen System sowie den für die Integrität einer Klartextverarbeitung erforderlichen organisatorischen und physischen Rahmenbedingungen bildet den Verarbeitungskontext der Vertrauenswürdigen Ausführungsumgebung (VAU).</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_274"></p>
  <p id="polarion_430">Das Glossar wird als eigenständiges Dokument (vgl. [gemGlossar]) zur Verfügung gestellt.</p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122093">6.3 Abbildungsverzeichnis</h3>
  <div data-sequence="Abbildung" id="polarion_wiki macro name=tof;params=uid=1"></div>
  <div id="toc_container">
   <p class="toc_title"><h1></h1></p>
   <li><a href="#polarion_132">Abbildung 1 : Überblick TI-Föderation</a></li>
   <li><a href="#polarion_34">Abbildung 2: Systemkontext</a></li>
   <li><a href="#polarion_61">Abbildung 3 : OAuth- und OIDC-Flow</a></li>
   <li><a href="#polarion_404">Abbildung 4: Schnittstellen der in der VAU laufenden Komponente des sektoralen IDP</a></li>
   <li><a href="#polarion_341">Abbildung 5: Systemkontext Authenticator-Modul</a></li>
   <li><a href="#polarion_318">Abbildung 6 Systemkontext Authenticator-Modul</a></li>
   <li><a href="#polarion_256">Abbildung 7 : App-App-Flow</a></li>
   <li><a href="#polarion_258">Abbildung 8 : Web-App-Flow</a></li>
   <li><a href="#polarion_260">Abbildung 9 : Zwei-Geräte-Flow</a></li>
   <li><a href="#polarion_240">Abbildung 10 : 3.2.6&nbsp;Umsetzungsempfehlungen für die Vertrauenswürdige Ausführungsumgebung</a></li>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122094">6.4 Tabellenverzeichnis</h3>
  <div data-sequence="Tabelle" id="polarion_wiki macro name=tof;params=uid=2"></div>
  <div id="toc_container">
   <p class="toc_title"><h1></h1></p>
   <li><a href="#polarion_33">Tabelle 1 :&nbsp;Schnittstellenübersicht</a></li>
   <li><a href="#polarion_72">Tabelle 2 : Akteure und Rollen</a></li>
   <li><a href="#polarion_489">Tabelle 3 : Schritte OAuth- und OIDC-Flow</a></li>
   <li><a href="#polarion_52">Tabelle 4: Vorgaben für die im sektoralen IDP befindlichen Endpunkte zur Ausführung in einer VAU&nbsp;</a></li>
   <li><a href="#polarion___1">Tabelle 5: scopes und claims</a></li>
   <li><a href="#polarion___2">Tabelle 6 Codierung der Authentisierungsverfahren</a></li>
   <li><a href="#polarion___3">Abhängig von der Geräteausstattung des Nutzers ist eine Gerätebindung für einen festgelegten Zeitraum ohne Erneuerung gültig. Der Anbieter des sektoralen IDP MUSS, wenn er eine Gerätebindung im Rahmen eines Authentisierungsverfahren nutzt, die Zeitrahmen&nbsp;der Gültigkeit für die Gerätebindung gemäß Tabelle "Übersicht Gerätebindung" berücksichtigen. Die Gerätebindung MUSS durch den Nutzer nach Ablauf dieser Frist dementsprechend erneuert werden. Der Anbieter des sektoralen IDP MUSS, mit den zur Verfügung stehende Plattformmechanismen, einen kryptographischen Nachweis der Gerätebindung auf dem Endgerät erzeugen und auf Serverseite prüfen (z.B. Android: Key &amp; ID Attestation; iOS: DCAppAttestService). Das Vertrauensniveau einer Gerätebindung als Authentisierungsfaktor entspricht dem für die Einrichtung verwendeten Verfahren. Tabelle 7: Übersicht Gerätebindung&nbsp;für gematik-ehealth-loa-high</a></li>
   <li><a href="#polarion_151">Tabelle 8 : Schema Datentyp "Device_Type"</a></li>
   <li><a href="#polarion_257">Tabelle 9 : Ablaufbeschreibung App-App-Flow</a></li>
   <li><a href="#polarion_130">Tabelle 10 : Header Entity Statement des Federation Master</a></li>
   <li><a href="#polarion_131">Tabelle 11 : Body Entity Statement des Federation Master</a></li>
   <li><a href="#polarion_194">Tabelle 12 : Beispiel vorliegender Identitätsdaten</a></li>
   <li><a href="#polarion_231">Tabelle 13 : Attribute der IDP-Liste</a></li>
   <li><a href="#polarion_90">Tabelle 14: Authorization Request von Anwendungsfrontend zum Authorization-Server</a></li>
   <li><a href="#polarion_236">Tabelle 15 : Header Entity Statement des sektoralen IDP</a></li>
   <li><a href="#polarion_286">Tabelle 16 : Body Entity Statement des sektoralen IDP</a></li>
   <li><a href="#polarion_496">Tabelle 17 : Header des KeySet des sektoralen IDP</a></li>
   <li><a href="#polarion_498">Tabelle 18 : Body des KeySet des sektoralen IDP</a></li>
   <li><a href="#polarion_287">Tabelle 19 : Parameter HTTPS GET Request an den Federation Master API</a></li>
   <li><a href="#polarion_493">Tabelle 20 : Header HTTP-Response zum Entity Statement des Fachdienstes</a></li>
   <li><a href="#polarion_494">Tabelle 21 : Body HTTP-Response zum Entity Statement des Fachdienstes</a></li>
   <li><a href="#polarion_495">Tabelle 22 : Parameter Pushed Authorization Request&nbsp;</a></li>
   <li><a href="#polarion_512">Tabelle 23 : Header des Entity Statement des Fachdienstes</a></li>
   <li><a href="#polarion_514">Tabelle 24 : Body des Entity Statement des Fachdienstes</a></li>
   <li><a href="#polarion_517">Tabelle 25 : Header des KeySet des Fachdienstes</a></li>
   <li><a href="#polarion_527">Tabelle 26 : Body des KeySet des Fachdienstes</a></li>
   <li><a href="#polarion_529">Tabelle 27 : Parameter HTTPS GET Request an Federation Master API</a></li>
   <li><a href="#polarion_534">Tabelle 28 : Header zum Entity Statement des Federation Master über den Fachdienst</a></li>
   <li><a href="#polarion_536">Tabelle 29 : Body zum Entity Statement des Federation Master über den Fachdienst</a></li>
   <li><a href="#polarion_541">Tabelle 30 : Parameter der HTTP-Response</a></li>
   <li><a href="#polarion_545">Tabelle 31 : Request Parameter&nbsp;des Fachdienstes zum sektoralen IDP</a></li>
   <li><a href="#polarion_547">Tabelle 32 : Parameter des Redirect-Request</a></li>
   <li><a href="#polarion_163">Tabelle 33 :&nbsp;Parameter des POST-Request</a></li>
   <li><a href="#polarion_560">Tabelle 34 : HTTP-POST Parameter für AUTHORIZATION_CODE und den CODE_VERIFIER</a></li>
   <li><a href="#polarion_499">Tabelle 35 : Header-claims des ID_TOKEN&nbsp;des sektoralen IDP</a></li>
   <li><a href="#polarion_501">Tabelle 36 : Signature Header-claims&nbsp;des ID_TOKEN&nbsp;des sektoralen IDP</a></li>
   <li><a href="#polarion_571">Tabelle 37 : Body-claims für den ID_TOKEN des sektoralen IDP</a></li>
   <li><a href="#polarion_576">Tabelle 38 : Parameter des Redirect-Request</a></li>
   <li><a href="#polarion_578">Tabelle 39 : Parameter HTTP-POST</a></li>
   <li><a href="#polarion_259">Tabelle 40 : Ablaufbeschreibung Web-App-Flow</a></li>
   <li><a href="#polarion_580">Tabelle 41 : Parameter des GET-Requests</a></li>
   <li><a href="#polarion_281">Tabelle 42 : Ablaufbeschreibung Zwei-Geräte-Flow</a></li>
  </div>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-122095">6.5 Referenzierte Dokumente</h3>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-122096">6.5.1 Dokumente der gematik</h4>
  <p id="polarion_186">Die nachfolgende Tabelle enthält die Bezeichnung der in dem vorliegenden Dokument referenzierten Dokumente der gematik zur TI.</p>
  <p id="polarion_119">&nbsp;</p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=4" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 174px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[Quelle]<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 557px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Herausgeber: Titel<br> </th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">[gemGlossar]</td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur - Glossar der Telematikinfrastruktur<br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">[gemSpec_Krypt]</span></td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur -&nbsp;Übergreifende Spezifikation Verwendung kryptographischer Algorithmen in der Telematikinfrastruktur</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_PKI]</td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur -&nbsp;Übergreifende Spezifikation PKI</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-size: 10pt;line-height: 1.5;">gemSpec_IDP_FedMaster]</span></td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur -&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Spezifikation Federation Master</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_IDP_Dienst]</td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur -&nbsp;Spezifikation Identity Provider-Dienst</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_IDP_FD]</td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur - Spezifikation Identity Provider – Nutzungsspezifikation für Fachdienste<br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_IDP_Frontend]</td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur - Spezifikation Identity Provider - Frontend<br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_OM]</td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur - Übergreifende Spezifikation Operations und Maintenance<br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[gemSpec_SST_LD_BD]&nbsp;</td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur - Spezifikation Logdaten- und Betriebsdatenerfassung<br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 174px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-size: 10pt;line-height: 1.5;">gemKPT_Test]</span></td> 
     <td style="text-align: left;vertical-align: top;width: 557px;height: 19px;border: 1px solid #CCCCCC;padding: 5px;">Elektronische Gesundheitskarte und Telematikinfrastruktur - Testkonzept der TI</td> 
    </tr> 
   </tbody> 
  </table>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-122097">6.5.2 Weitere Dokumente</h4>
  <p id="polarion_205"></p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=2" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[Quelle]<br> </th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Herausgeber (Erscheinungsdatum): Titel<br> </th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[ANDROIDAPPLINKS]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><a href="https://developer.android.com/studio/write/app-link-indexing&nbsp;" target="_top" class="descriptionLink">https://developer.android.com/studio/write/app-link-indexing&nbsp;</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[APPLEUNIVERSAL]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">&nbsp;<a href="https://developer.apple.com/ios/universal-links/" target="_top" class="descriptionLink">https://developer.apple.com/ios/universal-links/</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 97.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Verordnung (EU) Nr. 910/2014&nbsp;<br> auch eIDAS Verordnung genannt</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 97.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">VERORDNUNG (EU) Nr. 910/2014 DES EUROPÄISCHEN PARLAMENTS UND DES RATES vom 23. Juli 2014 über elektronische Identifizierung und Vertrauensdienste für elektronische Transaktionen im Binnenmarkt und zur Aufhebung der Richtlinie 1999/93/EG</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 97.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Durchführungsverordnung (EU) 2015/1502</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 97.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">DURCHFÜHRUNGSVERORDNUNG (EU) 2015/1502 DER KOMMISSION vom 8. September 2015 zur Festlegung von Mindestanforderungen an technische Spezifikationen und Verfahren für Sicherheitsniveaus elektronischer Identifizierungsmittel gemäß Artikel 8 Absatz 3 der Verordnung (EU) Nr. 910/2014 des Europäischen Parlaments und des Rates über elektronische Identifizierung und Vertrauensdienste für elektronische Transaktionen im Binnenmarkt&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[GKV-SV Richtlinie "Kontakt mit Versicherten"]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Richtlinie des GKV-Spitzenverbandes zu Maßnahmen zum Schutz von Sozialdaten der Versicherten vor unbefugter Kenntnisnahme nach § 217f Absatz 4b SGB V (GKV-SV Richtlinie Kontakt mit Versicherten) vom 14.12.2018</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[Uniform Resource Identifier (URI)]<br> [RFC3986]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Uniform Resource Identifier (URI): Generic Syntax (Januar 2005)<br> <a href="https://datatracker.ietf.org/doc/html/rfc3986&nbsp;" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc3986&nbsp;</a>&nbsp;</span><br> <br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[The OAuth 2.0 Authorization Framework]<br> [RFC6749]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">The OAuth 2.0 Authorization Framework (Oktober 2012)<br> <a href="https://datatracker.ietf.org/doc/html/rfc6749" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc6749</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[Hypertext Transfer Protocol (HTTP/1.1)]<br> [RFC7231]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content (Juni 2014)<br> <a href="https://datatracker.ietf.org/doc/html/rfc7231&nbsp;" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc7231&nbsp;</a>&nbsp;</span><br> <br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[JSON Web Key (JWK)]<br> [RFC7517]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">JSON Web Key (JWK)&nbsp;(Mai 2015)<br> <a href="https://www.rfc-editor.org/rfc/rfc7517" target="_top" class="descriptionLink">https://www.rfc-editor.org/rfc/rfc7517</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[<span style="font-size: 10pt;line-height: 1.5;">JSON Web Token (JWT)]<br> [RFC7519]</span></td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">JSON Web Token (JWT) (Mai 2015)<br> <a href="https://datatracker.ietf.org/doc/html/rfc7519" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc7519</a></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[Proof Key for Code Exchange by OAuth Public Clients]<br> [RFC7636]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Proof Key for Code Exchange by OAuth Public Clients (September 2015)<br> <a href="https://datatracker.ietf.org/doc/html/rfc7636" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc7636</a></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[OAuth 2.0 for Native Apps]<br> [RFC8252]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Auth 2.0 for Native Apps (Oktober 2017)<br> <a href="https://datatracker.ietf.org/doc/html/rfc8252&nbsp;" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc8252&nbsp;</a>&nbsp;<br> <br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[<span style="font-size: 10pt;line-height: 1.5;">OpenID Connect Core 1.0]</span></td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">OpenID Connect Core 1.0 (<span style="font-size: 10pt;line-height: 1.5;">incorporating errata set 1,&nbsp;</span>November 2014) <br> <a href="https://openid.net/specs/openid-connect-core-1_0.html" target="_top" class="descriptionLink">https://openid.net/specs/openid-connect-core-1_0.html</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[OpenID Connect Federation 1.0]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">OpenID Connect Federation1.0 (Draft 21, 2022)<br> <a href="https://openid.net/specs/openid-connect-federation-1_0-21.html" target="_top" class="descriptionLink">https://openid.net/specs/openid-connect-federation-1_0-21.html</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[OAuth 2.0 Pushed Authorization Requests]<br> [RFC9126]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">OAuth 2.0 Pushed Authorization Requests (September 2021)<br> <a href="https://datatracker.ietf.org/doc/html/rfc9126" target="_top" class="descriptionLink">https://datatracker.ietf.org/doc/html/rfc9126</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[ISO18045]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><a href="https://standards.iso.org/ittf/PubliclyAvailableStandards/index.html" target="_top">Publicly Available Standards (iso.org)</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[TR-03107-1]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Technische Richtlinie TR-03107-1 Version 1.1.1, 07.05.2019<br> <a href="https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Publikationen/TechnischeRichtlinien/TR03107/TR-03107-1.pdf;jsessionid=FFBC05B6EE23EE8461127AC755D621FC.internet461?__blob=publicationFile&amp;v=1" target="_top" class="descriptionLink">https://www.bsi.bund.de/SharedDocs/Downloads/DE/BSI/Publikationen/TechnischeRichtlinien/TR03107/TR-03107-1.pdf;jsessionid=FFBC05B6EE23EE8461127AC755D621FC.internet461?__blob=publicationFile&amp;v=1</a>&nbsp;<br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[KeyInfo#getSecurityLevel()]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><a href="https://developer.android.com/reference/android/security/keystore/KeyInfo#getSecurityLevel()" target="_top" class="descriptionLink">https://developer.android.com/reference/android/security/keystore/KeyInfo#getSecurityLevel()</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">[KeyInfo#isInsideSecureHardware()]</span></td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><a href="https://developer.android.com/reference/android/security/keystore/KeyInfo#isInsideSecureHardware()" target="_top" class="descriptionLink">https://developer.android.com/reference/android/security/keystore/KeyInfo#isInsideSecureHardware()</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[support.apple.com/guide/security]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><a href="https://support.apple.com/de-de/guide/security/sec59b0b31ff/web" target="_top" class="descriptionLink">https://support.apple.com/de-de/guide/security/sec59b0b31ff/web</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 216px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[DiGA-Kriterien]</td> 
     <td style="text-align: left;vertical-align: top;width: 515px;height: 58.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Datenschutzkriterien nach § 139e Absatz 11 SGB V und § 78a Absatz 8 SGB XI&nbsp;<br> <a href="https://www.bfarm.de/DE/Medizinprodukte/Aufgaben/DiGA-und-DiPA/Datenschutzkriterien/_node.html" target="_top" class="descriptionLink">https://www.bfarm.de/DE/Medizinprodukte/Aufgaben/DiGA-und-DiPA/Datenschutzkriterien/_node.html</a>&nbsp;</span></td> 
    </tr> 
   </tbody> 
  </table>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-132456">7 Anhang B - Abläufe</h2>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-132454">7.1 App-App-Flow</h3>
  <p id="polarion_87"> Der App-App-Flow beschreibt die Einzelschritte für die Authentifizierung eines Nutzers im Rahmen eines Fachdienstes wobei der Fachdienst eine<span id="polarion-comment:1101"></span> App ist, welche auf demselben Gerät wie die Authenticator-App installiert ist. </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132455">7.1.1 Vorbedingungen App-App-Flow</h4>
  <ul id="polarion_126"> 
   <li>Registrierung des App-Link/Universal-Link für das Frontend auf dem Gerät des Nutzers (auf redirect Adresse des Fachdienstes) - oder einreichen über Web.</li> 
   <li>Registrierung des App-Link/Universal-Link für das Authenticator-Modul des IDP auf dem Gerät des Nutzers (auf Adresse des IDP) - oder anfragen über Web.</li> 
   <li>Aktueller Signaturschlüssel des Federation Master ist bekannt und vertrauenswürdig bei IDP und Fachdienst eingebracht worden.</li> 
  </ul>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132465">7.1.2 Flow-Diagramm App-App-Flow</h4>
  <p id="polarion_331" style="text-align: center;" data-keep-next="true"> <img src="attachments/APP-APP-Flow.png" style="max-width: 650px;" data-lastmodified="2022-05-17T07:50:58.842+02:00"> </p>
  <p id="polarion_256" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">7</span> : App-App-Flow </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132466">7.1.3 Ablaufbeschreibung App-App-Flow</h4>
  <p id="polarion_220"></p>
  <p id="polarion_257" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">9</span> : Ablaufbeschreibung App-App-Flow </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=5" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 69.8899px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Schritt</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 73.8837px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Teilschritt</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 274.654px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Beschreibung</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 290.66px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Standard</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 233.962px;border: 1px solid #CCCCCC;padding: 5px;">0</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 233.962px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 233.962px;border: 1px solid #CCCCCC;padding: 5px;">Bezug des Entity Statement des Federation Master unter Nutzung des bekannten Signaturschlüssels.<br> (Folgeschlüssel können über das signierte Entity Statement transportiert werden)<br> <br> Hintergrund:<br> <span style="font-style: italic;">Das Entity Statement wird von einer Entität eines IDP (im föd. Verbund) ausgestellt und betrifft eine Subjekt-Entität und Blatt-Entitäten in einer Föderation. Ein Entity Statement ist immer ein signiertes JSON Web Token (JWT).</span></td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 233.962px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Entity Statement →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#entity-statement" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-3.1)</a><a href="https://openid.net/specs/openid-connect-federation-1_0.html#entity-statement" target="_top"><br> </a></li> 
       <li>Key Rollover for a Trust Anchor → <a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.9.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-9.2)</a><a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.9.2" target="_top">&nbsp;</a></li> 
      </ul> <a href="https://openid.net/specs/openid-connect-federation-1_0.html#entity-statement" target="_top"><br> </a></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 487.925px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 487.925px;border: 1px solid #CCCCCC;padding: 5px;">0-a</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 487.925px;border: 1px solid #CCCCCC;padding: 5px;">Bei Bedarf ruft das Anwendungsfrontend beim <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> die Liste aller IDPs ab. <span style="color: #172B4D;">Die Ermittlung der registrierten IDPs erfolgt über den Federation Master. Beim Federation Master sind die Entity Statements aller registrierten IDP hinterlegt. Die Bereitstellung der Liste kann über zwei Wege erfolgen:<br> </span> 
      <div style="margin-left: 40px;"> 
       <span style="color: #172B4D;">a) Der Fachdienst verwendet das&nbsp;OIDC Federation API&nbsp;. Der Fachdienst muss dann aus dem Response die für eine Auswahl notwendigen Informationen extrahieren und seinen Anwendungsfrontends zur Verfügung stellen.</span>
       <br> 
       <span style="color: #172B4D;">b) Der Federation Master stellt ein zusätzliches API neben dem Standard-API bereit und liefert hier nur die für eine Auswahl notwendigen Informationen (Name der Organisation/Kasse, Icon, weitere Informationen für Folge-Request zur Ermittlung des vollständigen Entity Statement). Die Adresse des API ist als custom-metadata im Entity Statement des Federation Master hinterlegt.</span>
       <br> 
      </div> </td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 487.925px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Entity Listings Request → <a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.7.3.1" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-7.3.1)</a><a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.7.3.1" target="_top">&nbsp;</a></li> 
       <li>OP-Metadata organisation_name → <a href="https://openid.net/specs/openid-connect-federation-1_0.html#OP_metadata" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-4.2)</a></li> 
       <li>Metadata Erweiterung → <a href="https://openid.net/specs/openid-connect-federation-1_0.html#metadata" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-4)</a><a href="https://openid.net/specs/openid-connect-federation-1_0.html#metadata" target="_top">&nbsp;</a></li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 275.409px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 275.409px;border: 1px solid #CCCCCC;padding: 5px;">0-b</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 275.409px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> antwortet dem Anwendungsfrontend mit der Liste aller IDPs.&nbsp;</li> 
       <li>Das Anwendungsfrontend zeigt dem Nutzer eine Suchfunktion an, in der er in der Liste seine Kasse per Name und mit Icon auswählen kann.</li> 
       <li>Die Auswahl kann am Anwendungsfrontend gespeichert werden, so dass bei folgenden Anmeldungen der Nutzer diese manuelle Auswahl nicht mehr durchführen muss.</li> 
      </ul> </td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 275.409px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 177.987px;border: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 177.987px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 177.987px;border: 1px solid #CCCCCC;padding: 5px;">Das Anwendungsfrontend sendet dem <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> einen AUTHORIZATION_REQUEST und eine Code-Challenge sowie den zur Anmeldung gewünschten IDP.<br> (Wenn die Wahl des IDP nicht im Anwendungsfrontend getroffen wurde (0-a) kann der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> in diesem Schritt einen Auswahldialog anzeigen lassen.)</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 177.987px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Authorization Request →&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.1" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-4.1.1)</a>&nbsp;</li> 
       <li>PKCE/Code-Challenge →&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc7636#section-4.3" target="_top" class="descriptionLink">Proof Key for Code Exchange by OAuth Public Clients (section-4.3)</a> </li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">1-a</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">Falls der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> das Entity Statement des IDP noch nicht kennt, lädt er dies herunter. ( /.well-known/openid-federation)</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">Federation Entity Configuration Request →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.6.1" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-6.1)</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 150.692px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 150.692px;border: 1px solid #CCCCCC;padding: 5px;">1-b</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 150.692px;border: 1px solid #CCCCCC;padding: 5px;">Der IDP sendet sein Entity Statement zurück.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 150.692px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Federation Entity Configuration Response →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.6.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-6.2)</a></li> 
       <li>OAuth 2.0 Pushed Authorization Request →&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc9126#section-5" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-5)</a> </li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 58.9937px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 58.9937px;border: 1px solid #CCCCCC;padding: 5px;">1-c</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 58.9937px;border: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> fragt das Entity Statement des Federation Master über den IDP an.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 58.9937px;border: 1px solid #CCCCCC;padding: 5px;">Entity Statement-Request →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.7.1.1" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-7.1.1)</a></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 129.906px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 129.906px;border: 1px solid #CCCCCC;padding: 5px;">1-d</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 129.906px;border: 1px solid #CCCCCC;padding: 5px;">Der Federation Master sendet sein Entity Statement über den IDP zurück.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 129.906px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Federation Entity Configuration Response →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.6.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-6.2)</a></li> 
       <li>Validation trust chain →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.8." target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-8)</a> </li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 233.837px;border: 1px solid #CCCCCC;padding: 5px;">2</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 233.837px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 233.837px;border: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> sendet einen Pushed Authorization Request (PAR) inkl. Code-Challenge / PKCE, und benötigter <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes&nbsp;</span>an den IDP.<span id="polarion-comment:1643"></span></td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 233.837px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>OAuth 2.0 Pushed Authorization Requests →&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc9126#section-2.1" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-2.1)</a>&nbsp;</li> 
       <li>Authentication Request →&nbsp;<a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-3.1.2.1)</a>&nbsp;</li> 
       <li>PKCE/Code-Challenge →&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc7636#section-4.3" target="_top" class="descriptionLink">Proof Key for Code Exchange by OAuth Public Clients (section-4.3)</a></li> 
       <li>Client Authentication →&nbsp;<a href="https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-9)</a> </li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 78.4906px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 78.4906px;border: 1px solid #CCCCCC;padding: 5px;">2-a</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 78.4906px;border: 1px solid #CCCCCC;padding: 5px;">Falls der IDP das Entity Statement des <span style="font-size: 10pt;line-height: 1.5;">Authorization-Servers</span> noch nicht kennt, lädt er dies herunter. ( /.well-known/openid-federation).</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 78.4906px;border: 1px solid #CCCCCC;padding: 5px;">Federation Entity Configuration Request →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.6.1" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-6.1)</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 233.837px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 233.837px;border: 1px solid #CCCCCC;padding: 5px;">2-b</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 233.837px;border: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> sendet sein Entity Statement zurück und der IDP registriert ihn als Client.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 233.837px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Federation Entity Configuration Response →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.6.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-6.2)</a></li> 
       <li>RP Metadata →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.4.1" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-4.1)</a>&nbsp;</li> 
       <li>Entity Statement →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#entity-statement" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-3.1)</a></li> 
       <li>OAuth 2.0 Pushed Authorization Requests →&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc9126#section-6" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-6)</a> </li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 58.9937px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 58.9937px;border: 1px solid #CCCCCC;padding: 5px;">2-c</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 58.9937px;border: 1px solid #CCCCCC;padding: 5px;">Abruf des Entity Statement zum Fachdienst/<span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> beim Federation Master.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 58.9937px;border: 1px solid #CCCCCC;padding: 5px;">Entity Statement-Request →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.7.1.1" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-7.1.1)</a></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 213.05px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 213.05px;border: 1px solid #CCCCCC;padding: 5px;">2-d</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 213.05px;border: 1px solid #CCCCCC;padding: 5px;">Der Federation Master sendet sein Entity Statement über den Fachdienst/<span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> zurück.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 213.05px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Federation Entity Configuration Response →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.6.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-6.2)</a></li> 
       <li>Automatic Registration →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.10.1" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-10.1)</a></li> 
       <li>Validation trust chain →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.8.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-8.2)</a></li> 
       <li>Entity Statement →&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.3.1" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-3.1)</a></li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 59.9843px;border: 1px solid #CCCCCC;padding: 5px;">3</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 59.9843px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 59.9843px;border: 1px solid #CCCCCC;padding: 5px;">Der IDP sendet eine Request-URI (mit Bezug zum vorherigen AUTHORIZATION_REQUEST) an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span>.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 59.9843px;border: 1px solid #CCCCCC;padding: 5px;">Request-URI →&nbsp;<span style="color: #172B4D;"><a href="https://datatracker.ietf.org/doc/html/rfc9126#section-2.2" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-2.2)</a><a href="https://datatracker.ietf.org/doc/html/rfc9126#section-2.2" target="_top">&nbsp;</a></span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 78.4906px;border: 1px solid #CCCCCC;padding: 5px;">4</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 78.4906px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 78.4906px;border: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>sendet die Request-URI und Client ID an das Anwendungsfrontend zur Weiterleitung an die Adresse des <span style="color: #172B4D;">Authenticator des</span> IDP.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 78.4906px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 63.9937px;border: 1px solid #CCCCCC;padding: 5px;">5</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 63.9937px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 63.9937px;border: 1px solid #CCCCCC;padding: 5px;">Anwendungsfrontend öffnet den Authenticator für die eigentliche Authentifizierung des Anwenders (Deep-Link/Universal-Link).</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 63.9937px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">6</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Das Authenticator-Modul leitet den Authentication Request an den IDP weiter (proprietär).</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 339.78px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 339.78px;border: 1px solid #CCCCCC;padding: 5px;">6-a</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 339.78px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Der IDP Prüft anhand der URI ob der Request zu einem vorherigen AUTHORIZATION_REQUEST gehört<span style="font-weight: bold;"> </span>(proprietär).</li> 
       <li>Der Authorization-Endpunkt des IDP stellt (wenn nötig) entsprechend den angefragten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> einen Consent (Zustimmung des Nutzers zur Verarbeitung der angezeigten Daten) zusammen (proprietär).</li> 
       <li>Der Authorization-Endpunkt des IDP überträgt&nbsp;(wenn nötig) Consent-Abfrage und ggf. für die Authentisierung des Nutzers notwendige Daten zu dem Authenticator-Modul (proprietär).</li> 
      </ul> </td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 339.78px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 300.22px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 300.22px;border: 1px solid #CCCCCC;padding: 5px;">6-b</td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 300.22px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Das Authenticator-Modul des IDP fordert den Nutzer (wenn nötig) zur Consent-Zustimmung auf und führt die Authentisierung des Nutzers nach den Verfahren des IDP durch. Das notwendige Vertrauensniveau steht im Request (acr-<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim</span>).</li> 
       <li>Das Authenticator-Modul des IDP bestätigt dem IDP die erfolgreiche Durchführung der Authentisierung (proprietär).</li> 
       <li>Der Authorization-Endpunkt des IDP erstellt den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>.</li> 
      </ul> </td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 300.22px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 80px;border: 1px solid #CCCCCC;padding: 5px;">7</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 80px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 80px;border: 1px solid #CCCCCC;padding: 5px;">Der Authorization-Endpunkt des IDP antwortet dem Authenticator-Modul mit dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>und einem Redirect zum Fachdienst (proprietär).</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 80px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 138.491px;border: 1px solid #CCCCCC;padding: 5px;">8</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 138.491px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 138.491px;border: 1px solid #CCCCCC;padding: 5px;">Das Authenticator-Modul des IDP ruft über einen App-Link bzw. Universal-Link entsprechend der Redirect-URL das Anwendungsfrontend auf<span style="font-weight: bold;"> </span>(eigentlich ein Redirect zum Fachdienst aber das Frontend ist auf die Adresse registriert)<span style="font-weight: bold;"> </span>und übergibt den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 138.491px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 61.0063px;border: 1px solid #CCCCCC;padding: 5px;">9</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 61.0063px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 61.0063px;border: 1px solid #CCCCCC;padding: 5px;">Die Anwendungsfrontend leitet den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>(IDP) an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span>.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 61.0063px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 154.717px;border: 1px solid #CCCCCC;padding: 5px;">10</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 154.717px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 154.717px;border: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> reicht den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>(IDP) und den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER </span>beim Token-Endpunkt des IDP ein.<span id="polarion-comment:1644"></span></td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 154.717px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER </span>→&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc7636#section-4.5" target="_top" class="descriptionLink">Proof Key for Code Exchange by OAuth Public Clients (section-4.5)</a>&nbsp;</li> 
       <li>Client Authentication →&nbsp;<a href="https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication" target="_top" class="descriptionLink">OpenID Connect Core 1.0 (section-9)</a></li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 374.654px;border: 1px solid #CCCCCC;padding: 5px;">11</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 374.654px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 374.654px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> erhält vom Token-Endpunkt des IDP einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>mit den gewünschten <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span>, der mit dem öffentlichen Schlüssel aus der Registrierung verschlüsselt ist.</li> 
       <li>Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> entschlüsselt das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>.</li> 
       <li>Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> prüft den Herausgeber&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span>, validiert die Signatur des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>gegen den zur KID passenden Schlüssel aus den JWKS des IDP und zieht die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span>&nbsp;(d. h. die Key/Value-Paare im Payload eines Tokens) der authentisierten Identität aus dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>.</li> 
      </ul> </td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 374.654px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">12</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">Zum weiteren Zugriff erstellt der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> ein <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>(AS) und sendet diese an das Anwendungsfrontend.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 82.5157px;border: 1px solid #CCCCCC;padding: 5px;">13</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 82.5157px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 82.5157px;border: 1px solid #CCCCCC;padding: 5px;">Anwendungsfrontend übergibt dem <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span> den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>(AS) sowie den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span>.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 82.5157px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 63.0189px;border: 1px solid #CCCCCC;padding: 5px;">14</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 63.0189px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 63.0189px;border: 1px solid #CCCCCC;padding: 5px;">Anwendungsfrontend erhält <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN </span>mit den notwendigen Daten vom <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span>.</td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 63.0189px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 69.8899px;height: 175.503px;border: 1px solid #CCCCCC;padding: 5px;">15</td> 
     <td style="text-align: left;vertical-align: top;width: 73.8837px;height: 175.503px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 274.654px;height: 175.503px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Das Anwendungsfrontend greift auf die Fachdienst API zu und übergibt dabei das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>.</li> 
       <li>Nach erfolgreicher Validierung des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span> gibt die Fachdienst API den Zugriff auf die Fachdaten dieser Identität frei.</li> 
      </ul> </td> 
     <td style="text-align: left;vertical-align: top;width: 290.66px;height: 175.503px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_217"></p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132850">7.1.4 Detailinformationen zum App-App-Flow</h4>
  <p id="polarion_339"> <span style="font-weight: bold;">Abruf der Schlüssel des Federation Master</span> </p>
  <p id="polarion_344">Dazu wird das selbst signierte&nbsp;Entity Statement des Federation Master abgerufen und gegen den vorher bekanntgemachten Signaturschlüssel des Federation Master geprüft.</p>
  <p id="polarion_347">Response auf GET an die Adresse "http://master0815.de/.well-known/openid-federation"</p>
  <p id="polarion_352">HTTP 200 mit Content-Type: application/entity-statement+jwt</p>
  <p id="polarion_354"> Folgende Werte müssen im Header des selbst signierten Entity Statement des Federation Master auftauchen:<span id="polarion-comment:1033"></span> </p>
  <p id="polarion_130" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">10</span> : Header Entity Statement des Federation Master </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=16" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 47.7516px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 174.025px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 123.318px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 363.994px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 47.7516px;height: 21.4937px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span></td> 
     <td style="text-align: left;vertical-align: top;width: 174.025px;height: 21.4937px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">ES256</span></td> 
     <td style="text-align: left;vertical-align: top;width: 123.318px;height: 21.4937px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 363.994px;height: 21.4937px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 47.7516px;height: 38.978px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="text-align: left;vertical-align: top;width: 174.025px;height: 38.978px;border: 1px solid #CCCCCC;padding: 5px;">wie aus jwks im Body des Dokumentes</td> 
     <td style="text-align: left;vertical-align: top;width: 123.318px;height: 38.978px;border: 1px solid #CCCCCC;padding: 5px;">"master0815-1"</td> 
     <td style="text-align: left;vertical-align: top;width: 363.994px;height: 38.978px;border: 1px solid #CCCCCC;padding: 5px;">Identifier des verwendeten Schlüssels aus dem jwks im Body des Statement</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 47.7516px;height: 21.4937px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">typ</span></td> 
     <td style="text-align: left;vertical-align: top;width: 174.025px;height: 21.4937px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">entity-statement+jwt</span></td> 
     <td style="text-align: left;vertical-align: top;width: 123.318px;height: 21.4937px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 363.994px;height: 21.4937px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_357"> <span style="color: #333333;">Folgende Werte müssen im Body des selbst signierten Entity Statement des Federation Master enthalten sein:<span id="polarion-comment:1034"></span></span> </p>
  <p id="polarion_131" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">11</span> : Body Entity Statement des Federation Master </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=17" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 198px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 88px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 128px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 295px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss </span>anstelle issuer ist hier Spec konform&nbsp;= URL des Federation Master (wird definiert)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 38.978px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 38.978px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 38.978px;border: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 38.978px;border: 1px solid #CCCCCC;padding: 5px;">URL des Federation Master (wird definiert) = <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;">Alle time Werte in Sekunden seit 1970,&nbsp;<a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;">1645398001</td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;">2022-02-21 00:00:01</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;">Alle time Werte in Sekunden seit 1970,&nbsp;<a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;">1646002800</td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;">Beispielhafte Gültigkeit von 7 Tagen</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jwks</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;">JWKS Objekt</td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;">unter anderem "master0815-1"</td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 77.9717px;border: 1px solid #CCCCCC;padding: 5px;">Schlüssel für die Signatur des Entity Statement.<br> Gemäß&nbsp;<a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.9.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-9.2)</a> werden hier auch Schlüssel für einen Key-Rollover transportiert.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">metadata {</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">federation_entity {</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">federation_fetch_endpoint</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de/federation_fetch_endpoint"</td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Adresse des Endpunktes zum Abrufen einzelner oder aller Statements des Masters über IDPs und Fachdienste</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">federation_list_endpoint<span id="polarion-comment:1785"></span></span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Adresse des Endpunktes zum Abrufen der Liste aller bekannten Entity Identifier</td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de/federation_list"</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 60.5032px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idp_list_endpoint</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 60.5032px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 60.5032px;border: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de/idp_list.jws"</td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 60.5032px;border: 1px solid #CCCCCC;padding: 5px;">non Standard <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim</span> - ggf. auch als reine Konfiguration machbar z. B. /.well-known/entity_listing</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 198px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">}}</span></td> 
     <td style="text-align: left;vertical-align: top;width: 88px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 295px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_340"></p>
  <p id="polarion_343"> <span style="font-weight: bold;">IDP-Liste</span> </p>
  <p id="polarion_366"> Es wird vom Nutzer einer Anwendung der Telematikinfrastruktur<span id="polarion-comment:1061"></span> erwartet, dass dieser die Institution kennt, welche seine Identität herausgibt (bei einem Versicherten wäre dies z. B. seine Krankenkasse).<span id="polarion-comment:1062"></span><span id="polarion-comment:1035"></span> </p>
  <p id="polarion_368"></p>
  <p id="polarion_194" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">12</span> : Beispiel vorliegender Identitätsdaten </p>
  <table id="polarion_wiki macro name=table;params=uid=369|width=99.37%" class="polarion-Document-table" style="width: 99.37%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 123px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Begriff</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 194px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">Erläuterung</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 398px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
    </tr> 
    <tr> 
     <td style="width: 123px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Identität</td> 
     <td style="width: 194px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">Von Institution gemanagte ID</td> 
     <td style="text-align: center;width: 398px;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"><img src="attachments/Beispielidentitaet.png" style="width: 343px;height: 200px;" data-lastmodified="2022-05-17T09:26:27.268+02:00"></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_371"> <span style="font-size: 11pt;color: #000000;line-height: 1.5;">Jede Kasse wird als eigener IDP mit eigenen Endpunkten und Entity Statements geführt. Ein Dienstleister kann dahinter aber denselben Dienst stehen haben und die Kassen als Mandanten pflegen. Damit bleibt es auch möglich für die Kasse bei fehlender Installation auf einer eigenen Infoseite zu ihren Apps zu verweisen. Kassen geben die Freigabe für ihren Eintrag in der Föderation frei.</span> </p>
  <p id="polarion_373">Die Liste der Kassen wird aus der Föderation generiert und am Federation Master zum Abruf bereitgestellt. Die Integrität der Liste wird mittels Signatur über einen Schlüssel aus dessen Keyset sichergestellt.</p>
  <p id="polarion_345"> <span style="font-weight: bold;">(0-a)&nbsp;Anwendungsfrontend fragt die Liste aller IDPs ab</span> </p>
  <p id="polarion_382"> Das Anwendungsfrontend fragt die Liste aller IDPs ab, oder der&nbsp;<span id="polarion-comment:1102"></span><span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>lässt diese Liste selbst im Frontend anzeigen (Webview).&nbsp;Die Kommunikation zwischen&nbsp;<span style="color: #172B4D;">Anwendungsfrontend und Fachdienst ist</span>&nbsp;anwendungsspezifisch und wird hier nicht weiter spezifiziert. </p>
  <p id="polarion_346"> <span style="font-weight: bold;">(0-b)&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>antwortet dem Anwendungsfrontend mit der Liste aller IDPs</span> </p>
  <p id="polarion_384"> Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>antwortet dem Anwendungsfrontend mit der Liste aller IDPs oder der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>lässt diese Liste selbst im Frontend anzeigen.&nbsp;Diese Liste wird als&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc7515" target="_top" class="external-link">JWS&nbsp;</a>formatiert und mittels eines Schlüssels des Federation Master signiert.&nbsp;Das Frontend lässt den Nutzer die Wahl seines IDP (seiner Kasse) treffen oder diese Auswahl erfolgt über eine Webseite des Fachdienstes. Die notwendigen Informationen können&nbsp;aus den Entity Statements gelesen werden.&nbsp;Das signierte JWS der IDP-Liste hat folgende Inhalte:<span id="polarion-comment:1036"></span> </p>
  <p id="polarion_231" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">13</span> : Attribute der IDP-Liste </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=18" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 156.006px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 130px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 135px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 288.082px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 156.006px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="text-align: left;vertical-align: top;width: 130px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 135px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 288.082px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss </span>anstelle issuer ist hier Spec konform = URL des Federation Master (wird definiert)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 156.006px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span></td> 
     <td style="text-align: left;vertical-align: top;width: 130px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a></td> 
     <td style="text-align: left;vertical-align: top;width: 135px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">1645398001</td> 
     <td style="text-align: left;vertical-align: top;width: 288.082px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">2022-02-21 00:00:01</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 156.006px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span></td> 
     <td style="text-align: left;vertical-align: top;width: 130px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a></td> 
     <td style="text-align: left;vertical-align: top;width: 135px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">1646002800</td> 
     <td style="text-align: left;vertical-align: top;width: 288.082px;height: 58.4906px;border: 1px solid #CCCCCC;padding: 5px;">Beispielhafte Gültigkeit von 7 Tagen</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 156.006px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">idp_entity {</span></td> 
     <td style="text-align: left;vertical-align: top;width: 130px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 135px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 288.082px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 156.006px;height: 60.5032px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">organization_name</span></td> 
     <td style="text-align: left;vertical-align: top;width: 130px;height: 60.5032px;border: 1px solid #CCCCCC;padding: 5px;">String (max. 128 Zeichen</td> 
     <td style="text-align: left;vertical-align: top;width: 135px;height: 60.5032px;border: 1px solid #CCCCCC;padding: 5px;">"IDP 4711"</td> 
     <td style="text-align: left;vertical-align: top;width: 288.082px;height: 60.5032px;border: 1px solid #CCCCCC;padding: 5px;">Der Name des IDP zur Anzeige für den Benutzer ist die<span style="color: #FF0000;"> </span>Definition von&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">organization_name</span> im Entity Statement des IDP<br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 156.006px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="text-align: left;vertical-align: top;width: 130px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">URI</td> 
     <td style="text-align: left;vertical-align: top;width: 135px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 288.082px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">issuer Wert des jeweiligen sektoralen Identity Provider (URL) - sollte nach Vorgaben der Föderation der Adresse für die Authentisierung entsprechen</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 156.006px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">logo_uri</span></td> 
     <td style="text-align: left;vertical-align: top;width: 130px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;">URI</td> 
     <td style="text-align: left;vertical-align: top;width: 135px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;">„https://idp4711.de/logo.png“</td> 
     <td style="text-align: left;vertical-align: top;width: 288.082px;height: 41.0063px;border: 1px solid #CCCCCC;padding: 5px;">Parameter&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">logo_uri</span> aus dem Entity Statement des IDP</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 156.006px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">user_type_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 130px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">[ HCI = Health Care Institution, HP = Health Professional, IP = Insured Person]</td> 
     <td style="text-align: left;vertical-align: top;width: 135px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">"IP"</td> 
     <td style="text-align: left;vertical-align: top;width: 288.082px;height: 77.9874px;border: 1px solid #CCCCCC;padding: 5px;">Parameter&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">user_type_supported</span> aus dem Entity Statement des IDP</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 156.006px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">}</span></td> 
     <td style="text-align: left;vertical-align: top;width: 130px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 135px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 288.082px;height: 19.4969px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_390">Folgende Werte müssen im Header der vom Federation Master signierten IDP-Liste auftauchen:</p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=9" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 138.835px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 129.849px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 133.854px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 301.698px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 138.835px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span></td> 
     <td style="text-align: left;vertical-align: top;width: 129.849px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">ES256</span></td> 
     <td style="text-align: left;vertical-align: top;width: 133.854px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 301.698px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 138.835px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="text-align: left;vertical-align: top;width: 129.849px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">wie aus jwks im Body des Entity Statement</td> 
     <td style="text-align: left;vertical-align: top;width: 133.854px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">"master0815-1"</td> 
     <td style="text-align: left;vertical-align: top;width: 301.698px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Identifier des verwendeten Schlüssels aus dem jwks im Body des Statement</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 138.835px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">typ</span></td> 
     <td style="text-align: left;vertical-align: top;width: 129.849px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">idp-list+jwt<span id="polarion-comment:1770"></span></span></td> 
     <td style="text-align: left;vertical-align: top;width: 133.854px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 301.698px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_348"></p>
  <p id="polarion_349"> <span style="font-weight: bold;">(1) Authorization Request von Anwendungsfrontend zum Authentication-Endpunkt (Auth EP) des <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span>s des Fachdienstes</span> </p>
  <p id="polarion_392"> Das Anwendungsfrontend sendet ein HTTP-GET an den&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes.&nbsp;Die folgenden GET-Parameter werden im query string verwendet: </p>
  <p id="polarion_86"> <span id="polarion-comment:1629"></span> </p>
  <p id="polarion_90" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">14</span>: Authorization Request von Anwendungsfrontend zum Authorization-Server </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=10" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 172px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 128px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 152px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 257px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id</span></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">VSCHAR (max. 32 Zeichen)</td> 
     <td style="text-align: left;vertical-align: top;width: 152px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">"eRezeptApp"</td> 
     <td style="text-align: left;vertical-align: top;width: 257px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">kein ";" und kein "<span style="color: #242424;">┼" (definiert gem. Unicode&nbsp;U+253C&nbsp;(9532)), kein Leerzeichen</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state</span></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">VSCHAR (max. 255 Zeichen)</td> 
     <td style="text-align: left;vertical-align: top;width: 152px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">af0ifjsldkj<span id="polarion-comment:1289"></span></td> 
     <td style="text-align: left;vertical-align: top;width: 257px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri</span></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 152px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 257px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Adresse des Fachdienstes weil da soll der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>am Ende landen.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code_challenge</span></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Hash über <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span></td> 
     <td style="text-align: left;vertical-align: top;width: 152px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">K2-ltc83acc4h0c9w6ESC_rEMTJ3bww-uCHaoeK1t8U<span id="polarion-comment:1290"></span></td> 
     <td style="text-align: left;vertical-align: top;width: 257px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code_challenge_method</span></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">S256</span></td> 
     <td style="text-align: left;vertical-align: top;width: 152px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 257px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">response_type</span></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">code</span></td> 
     <td style="text-align: left;vertical-align: top;width: 152px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 257px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 19.5px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">String</td> 
     <td style="text-align: left;vertical-align: top;width: 152px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">"e-rezept"</td> 
     <td style="text-align: left;vertical-align: top;width: 257px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Anwendungsspezifisch zu definieren, kein <span style="font-style: italic;">openid</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 172px;height: 129.92px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idp_iss</span></td> 
     <td style="text-align: left;vertical-align: top;width: 128px;height: 129.92px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 152px;height: 129.92px;border: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 257px;height: 129.92px;border: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>nicht Standard Parameter,&nbsp;</li> 
       <li>iss URL des IDP den der Nutzer für die Authentisierung ausgewählt hat,&nbsp;</li> 
       <li>optional - nötig, wenn Auswahl des IDP im Frontend passiert.</li> 
      </ul> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_397"></p>
  <p id="polarion_350"> <span style="font-weight: bold;">(1-a) Falls der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes das Entity Statement des IDP noch nicht kennt, lädt er dies herunter</span> </p>
  <p id="polarion_407">Request:</p>
  <p id="polarion_409">HTTP-GET&nbsp;</p>
  <p id="polarion_414">Adresse: "https://idp4711.de/.well-known/openid-federation"</p>
  <p id="polarion_351"> <span style="font-weight: bold;">(1-<span id="polarion-comment:1037"></span>b) Der IDP sendet sein Entity Statement zurück</span> </p>
  <p id="polarion_416"> Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>verifiziert die Signatur des Entity Statement gegen einen Schlüssel aus dem Entity Statement des Federation Master über diesen issuer (<a href="https://openid.net/specs/openid-connect-federation-1_0.html#trust_chain_validation" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-8.2)</a>&nbsp;). </p>
  <p id="polarion_421">Response:</p>
  <p id="polarion_425"> HTTP 200 mit Content-Type: application/<span style="font-size: 10pt;line-height: 1.5;">entity-statement+jwt</span> </p>
  <p id="polarion_427">Folgende Werte müssen im Header des selbst signierten Entity Statement des sektoralen IDP auftauchen:</p>
  <p id="polarion_236" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">15</span> : Header Entity Statement des sektoralen IDP </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=11" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 147.849px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 136.854px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 143.858px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 288.722px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 147.849px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span></td> 
     <td style="text-align: left;vertical-align: top;width: 136.854px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">ES256</span></td> 
     <td style="text-align: left;vertical-align: top;width: 143.858px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 288.722px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 147.849px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="text-align: left;vertical-align: top;width: 136.854px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">wie aus jwks im Body des Dokumentes</span></td> 
     <td style="text-align: left;vertical-align: top;width: 143.858px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">"idp4711-3"</td> 
     <td style="text-align: left;vertical-align: top;width: 288.722px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Identifier des verwendeten Schlüssels aus dem jwks im Body des Entity Statement</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 147.849px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">typ</span></td> 
     <td style="text-align: left;vertical-align: top;width: 136.854px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;font-size: 10pt;line-height: 1.5;">entity-statement+jwt</span></td> 
     <td style="text-align: left;vertical-align: top;width: 143.858px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 288.722px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_433">Folgende Werte müssen im Body selbst signierten Entity Statement des sektoralen IDPs enthalten sein:</p>
  <p id="polarion_286" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">16</span> : Body Entity Statement des sektoralen IDP </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=12" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss </span>anstelle issuer ist hier Spec konform = URL des IDP (variabel je Mandant/Kasse)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">URL des IDP (variabel je Mandant/Kasse) = <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">1645484401</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">2022-02-22 00:00:01</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">1645570800</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">Gültigkeit von 24 Stunden</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jwks</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">JWKS Objekt</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">unter anderem "idp4711-3"</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">Schlüssel für die Signatur des Entity Statement </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">authority_hints</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">[string]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss </span>Bezeichnung des Federation Master</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">metadata {</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">openid_provider {</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">issuer</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">URL des IDP (variabel je Mandant/Kasse)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 156px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">signed_jwks_uri</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 156px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 156px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #4D5156;"><span style="color: #000000;">"https://idp4711.de</span>/jws.json"</span></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 156px;border: 1px solid #CCCCCC;padding: 5px;">Ablageort für weitere Schlüssel des IDP etwa die zur Signatur seiner Token<br> Wenn eine <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">signed_jwks_uri </span>im Entity Statement angegeben ist müssen diese Schlüssel importiert werden. </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">organization_name</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">Name des IDP - wird genutzt in der Auswahlliste für den Benutzer (Alternativ <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">name </span>im Feld federation_entity nutzen)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">logo_uri</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">„https://idp4711.de/logo.png“</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">Attribut ist nicht im Standard, ist&nbsp;nach <a href="https://openid.net/specs/openid-connect-discovery-1_0.html" target="_top" class="descriptionLink">OpenID Connect Discovery 1.0</a><a href="https://openid.net/specs/openid-connect-discovery-1_0.html" target="_top">&nbsp;</a>- aber in Federation Spec auch für ein OP gelistet</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">authorization_endpoint</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">„https://idp4711.de/Auth“</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Adresse des IDP-Endpunkt (im Internet)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">token_endpoint</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">„https://idp4711.de/Token“</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Adresse des IDP-Endpunkt (im Internet)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">pushed_authorization_request_endpoint</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">„https://idp4711.de/PAR_Auth“</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">Adresse des IDP-Endpunkt (im Internet) nach <a href="https://datatracker.ietf.org/doc/html/rfc9126#section-5" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-5)</a><a href="https://datatracker.ietf.org/doc/html/rfc9126#section-5" target="_top">&nbsp;</a></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_registration_types_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-style: italic;">automatic</span>]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">gemäß <a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.4.2" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-4.2)</a><a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.4.1" target="_top">&nbsp;&nbsp;<br> </a></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">subject_types_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-style: italic;">pairwise</span>]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">response_types_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-style: italic;">code</span>]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Weitere Werte sind möglich.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-style: italic;">openid<br> urn:telematik:geburtsdatum<br> urn:telematik:alter&nbsp;<br> urn:telematik:display_name&nbsp;<br> urn:telematik:given_name&nbsp;<br> urn:telematik:geschlecht&nbsp;<br> urn:telematik:email urn:telematik:versicherter</span>&nbsp;<br> ]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;">Weitere Werte sind möglich&nbsp;-<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.3" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-3.3)</a>&nbsp;<br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">response_modes_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-style: italic;">query</span>]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">grant_types_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-style: italic;">authorization_code</span>]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">require_pushed_authorization_requests</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">true</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><a href="https://datatracker.ietf.org/doc/html/rfc9126#section-5" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-5)</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">token_endpoint_auth_methods_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-style: italic;font-size: 10pt;color: #222222;line-height: 1.5;">self_signed_tls_client_auth</span>]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Weitere Werte sind<span id="polarion-comment:1652"></span> möglich.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">request_authentication_methods_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">{ <span style="font-style: italic;">"ar": ["none"], "par": ["self_signed_tls_client_auth"]</span> }<span id="polarion-comment:1645"></span></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 97.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">id_token_signing_alg_values_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-style: italic;">ES256</span>]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Weitere Werte sind möglich.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">id_token_encryption_alg_values_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">[ECDH-ES]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">id_token_encryption_enc_values_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;font-family: 'Courier New', Courier, monospace, HanWangKanTan;line-height: 1.5;">user_type_supported</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">[IP = Insured Person]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">"IP"</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">Bei sektoralen IDP für Versicherte muss der Wert immer "IP" sein.</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">}</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">federation_entity {</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">name&nbsp;</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">String</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">"IDP 4711"</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">Name des IDP - wird genutzt in der Auswahlliste für den Benutzer (alternativ&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">organization_name</span> aus Metadata nutzen)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">contacts&nbsp;</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">[string]</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">"support@idp4711.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">optional</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">homepage_uri</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">optional</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">}}</span></td> 
     <td style="text-align: left;vertical-align: top;width: 168px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 132px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 210px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_353" style="margin-left: 0px;"> <span style="font-weight: bold;"><span id="polarion-comment:1038"></span></span> </p>
  <p id="polarion_68"></p>
  <p id="polarion_138"> <span style="font-weight: bold;">signed_jwks_uri</span> </p>
  <p id="polarion_442" style="margin-left: 0px;"> Ablageort für weitere Schlüssel des IDP etwa die zur Signatur seiner Token. Wenn eine <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">signed_jwks_uri </span>im Entity Statement angegeben ist, müssen auch diese Schlüssel importiert werden. </p>
  <p id="polarion_453" style="margin-left: 0px;">Folgende Werte müssen im Header des selbst signierten KeySet des sektoralen IDP auftauchen:</p>
  <p id="polarion_496" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">17</span> : Header des KeySet des sektoralen IDP </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=13" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 154px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 154px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 154px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 246px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span></td> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #172B4D;">ES256</span></td> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 246px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 44px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 44px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">wie aus jwks im Body des Entity Statement</span></td> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 44px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 246px;height: 44px;border: 1px solid #CCCCCC;padding: 5px;">Identifier des verwendeten Schlüssels aus dem jwks im Body des Entity Statement</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">typ</span></td> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: normal;">JWT</span></td> 
     <td style="text-align: left;vertical-align: top;width: 154px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">jwk-set+json</td> 
     <td style="text-align: left;vertical-align: top;width: 246px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Belegung gemäß <a href="https://www.rfc-editor.org/rfc/rfc7517" target="_top" class="descriptionLink">[RFC7517]</a>&nbsp;</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_458" style="margin-left: 0px;">Folgende Werte müssen im Body enthalten sein:</p>
  <p id="polarion_498" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">18</span> : Body des KeySet des sektoralen IDP </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=499" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 243px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">keys {</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kty</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">EC</td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">idp4711-3</td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">crv</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;">P-256</td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">x</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">qAOdPQROkHfZY1daGofOmSNQWpYK8c9G2m2Rbkpbd4c</td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">y</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">G_7fF-T8n2vONKM15Mzj4KR_shvHBxKGjMosF6FdoPY</td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">use</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">sig</td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">nach&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc7517#section-4.2" target="_top" class="descriptionLink">JSON Web Key (section-4.2)</a>&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">}</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 20px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 20px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 20px;border: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 20px;border: 1px solid #CCCCCC;padding: 5px;">URL des IDP (variabel je Mandant/Kasse)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">Alle time Werte in Sekunden seit 1970,&nbsp;<a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a></td> 
     <td style="text-align: left;vertical-align: top;width: 155px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">1645484401</td> 
     <td style="text-align: left;vertical-align: top;width: 243px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">2022-02-22 00:00:01</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_356"></p>
  <p id="polarion_358"> <span style="font-weight: bold;">(1-<span id="polarion-comment:1039"></span>c) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes ruft das Entity Statement zum IDP beim Federation Master ab</span> </p>
  <p id="polarion_461">Request:</p>
  <p id="polarion_463">HTTP-GET&nbsp;</p>
  <p id="polarion_477">Adresse: "http://master0815.de/federation_fetch_endpoint"</p>
  <p id="polarion_479">HTTPS GET Request an den federation_fetch_endpoint aus dem Entity Statement des Federation Master mit dem folgenden Parameter:</p>
  <p id="polarion_287" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">19</span> : Parameter HTTPS GET Request an den Federation Master API </p>
  <table id="polarion_wiki macro name=table;params=uid=480|width=100.17%" class="polarion-Document-table" style="width: 100.17%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 131px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 131px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 156px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 292px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 131px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="width: 131px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 156px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de"</td> 
     <td style="width: 292px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">issuer des Federation Master - verpflichtender Parameter für unser Szenario aber ohne Relevanz</td> 
    </tr> 
    <tr> 
     <td style="width: 131px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span></td> 
     <td style="width: 131px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 156px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="width: 292px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #333333;">issuer des angefragten sektoralen IDP</span></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_359"></p>
  <p id="polarion_360"> <span style="font-weight: bold;">(1-d) Der Federation Master sendet sein Entity Statement über den angefragten sektoralen IDP zurück</span> </p>
  <p id="polarion_481">Response:</p>
  <p id="polarion_488"> HTTP 200 mit Content-Type: application/<span style="font-size: 10pt;line-height: 1.5;">entity-statement+jwt</span> </p>
  <p id="polarion_491">Folgende Werte müssen im Header des Entity Statement des Federation Master über den sektoralen IDP enthalten sein:</p>
  <p id="polarion_493" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">20</span> : Header HTTP-Response zum Entity Statement des Fachdienstes </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=492" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 62px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 129px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 252px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 62px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #172B4D;">ES256</span></td> 
     <td style="width: 129px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 252px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="width: 62px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">wie aus jwks im Body des Dokumentes</td> 
     <td style="width: 129px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"master0815-1"</td> 
     <td style="width: 252px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Identifier des verwendeten Schlüssels aus dem jwks im Body des Statement</td> 
    </tr> 
    <tr> 
     <td style="width: 62px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">typ</span></td> 
     <td style="width: 266px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;font-size: 10pt;line-height: 1.5;">entity-statement+jwt</span></td> 
     <td style="width: 129px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 252px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_503">Folgende Werte müssen im Body des Entity Statement des Federation Master über den sektoralen IDP enthalten sein:</p>
  <p id="polarion_494" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">21</span> : Body HTTP-Response zum Entity Statement des Fachdienstes </p>
  <table id="polarion_wiki macro name=table;params=uid=504|width=100.16%" class="polarion-Document-table" style="width: 100.16%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 144px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 305px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 144px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de"</td> 
     <td style="width: 305px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL des Federation Master</td> 
    </tr> 
    <tr> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span></td> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 144px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="width: 305px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL des angefragten IDP (variabel je Mandant/Kasse)</td> 
    </tr> 
    <tr> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span></td> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a></td> 
     <td style="width: 144px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1645398001</td> 
     <td style="width: 305px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2022-02-21 00:00:01</td> 
    </tr> 
    <tr> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span></td> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a></td> 
     <td style="width: 144px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1645480801</td> 
     <td style="width: 305px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispielhafte Gültigkeit von 1 Tag um schneller Sperrungen durchzuführen</td> 
    </tr> 
    <tr> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jwks</span></td> 
     <td style="width: 130px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">JWKS Objekt</td> 
     <td style="width: 144px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">unter anderem&nbsp;"idp4711-3"</td> 
     <td style="width: 305px;height: 12px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schlüssel für die Signatur des Entity Statement des IDP</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_505"> Als Ergebnis des Schritts (d2-d) kennt&nbsp;der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes kennt die <span id="polarion-comment:1113"></span> öffentlichen Schlüssel für Signaturen des IDP. </p>
  <p id="polarion_361"></p>
  <p id="polarion_362"> <span style="font-weight: bold;">(2) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes sendet einen<span id="polarion-comment:1114"></span> Pushed Authorization Request (PAR) an den Authentication-Endpunkt (Auth EP) des sektoralen IDP</span> </p>
  <p id="polarion_506"> Der innere Flow startet mit dem Pushed Authorization Request (<a href="https://datatracker.ietf.org/doc/html/rfc9126" target="_top">rfc9126</a>) des Fachdienstes an den sektoralen IDP. Als <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_assertion</span> wird&nbsp;<span style="font-size: 10pt;line-height: 1.5;">self_signed_tls_client_auth&nbsp;</span>verwendet (siehe&nbsp;OIDC Standard&nbsp;<a href="https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication" target="_top" class="descriptionLink">OpenID Connect Core 1.0 (section-9)</a>). </p>
  <p id="polarion_507">Anmerkung: Dies passiert als Folge des Authorization Request des Anwendungsfrontends.</p>
  <p id="polarion_508">HTTP-POST</p>
  <p id="polarion_509">Der Authorization Request des Fachdienstes zum sektoralen IDP enthält die folgenden Parameter:</p>
  <p id="polarion_495" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">22</span> : Parameter Pushed Authorization Request&nbsp; </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=510" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 142px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 203px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 168px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 196px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 142px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id</span></td> 
     <td style="width: 203px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 168px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 196px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">kein ";" und kein "<span style="color: #242424;">┼" (definiert gem. Unicode&nbsp;U+253C&nbsp;(9532)), kein Leerzeichen</span></td> 
    </tr> 
    <tr> 
     <td style="width: 142px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state</span></td> 
     <td style="width: 203px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">VSCHAR (max. 512 Zeichen)</td> 
     <td style="width: 168px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">bg1jgktmelk</td> 
     <td style="width: 196px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Generierter Wert, ist ein anderer <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state </span>als in dem OAUTH Request des Frontend<span style="color: #FF0000;"> <span style="color: #000000;">an den Fachdienst</span></span></td> 
    </tr> 
    <tr> 
     <td style="width: 142px;height: 45px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri</span></td> 
     <td style="width: 203px;height: 45px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL<br> </td> 
     <td style="width: 168px;height: 45px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">https://Fachdienst007.de/AS</td> 
     <td style="width: 196px;height: 45px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Adresse des Fachdienstes Authorization-Server<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 142px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code_challenge</span></td> 
     <td style="width: 203px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">Hash über <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER </span>des Fachdienstes</td> 
     <td style="width: 168px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;">K2-mvd94bdd5i1d0x7FTD_sFNRK4cxx-vDIbpfL2u9W<span id="polarion-comment:1292"></span></td> 
     <td style="width: 196px;height: 38px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER </span>ist ein beliebiger Wert, über den der Hash gebildet wird.<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 142px;height: 45px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code_challenge_method</span></td> 
     <td style="width: 203px;height: 45px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">S256</span></td> 
     <td style="width: 168px;height: 45px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 196px;height: 45px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 142px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">response_type</span><br> </td> 
     <td style="width: 203px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><pre style="font-style: italic;">code</pre></td> 
     <td style="width: 168px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 196px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 142px;height: 44px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">nonce</span></td> 
     <td style="width: 203px;height: 44px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">(max. 512 Zeichen)</td> 
     <td style="width: 168px;height: 44px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">274312:dj83hs9s<span id="polarion-comment:1293"></span></td> 
     <td style="width: 196px;height: 44px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beliebig generierter Wert, hier wird auch die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">nonce </span>genutzt, die mit dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>abgeglichen wird.<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 142px;height: 40px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span></td> 
     <td style="width: 203px;height: 40px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">[string]</td> 
     <td style="width: 168px;height: 40px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"<span style="color: #172B4D;">openid<br> urn:telematik:display_name&nbsp;<br> urn:telematik:versicherter</span>"</td> 
     <td style="width: 196px;height: 40px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.3" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-3.3)</a><a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.3" target="_top">&nbsp;<br> </a><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 142px;height: 60px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">acr_values</span></td> 
     <td style="width: 203px;height: 60px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"gematik-ehealth-loa-high"<br> oder&nbsp;<br> "gematik-ehealth-loa-substantial"<span id="polarion-comment:1040"></span><br> </td> 
     <td style="width: 168px;height: 60px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">"gematik-ehealth-loa-high"</span><br> </td> 
     <td style="width: 196px;height: 60px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span id="polarion-comment:1651"></span><br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_363" style="margin-left: 0px;"> &nbsp;<span id="polarion-comment:1654"></span>&nbsp;Zu den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims </span>bzgl. der Identitäten für Versicherte siehe Kapitel 4.2.3.2.&nbsp; </p>
  <p id="polarion_214"></p>
  <p id="polarion_369"> <span style="font-weight: bold;">(2-a) Falls der IDP das Entity Statement des <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server</span>s des Fachdienstes noch nicht kennt, lädt er dies herunter</span> </p>
  <p id="polarion_519">Request:</p>
  <p id="polarion_520">HTTP-GET&nbsp;</p>
  <p id="polarion_521">Adresse: "https://Fachdienst007.de/.well-known/openid-federation"</p>
  <p id="polarion_370"></p>
  <p id="polarion_372"> <span style="font-weight: bold;">(2-b) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes sendet sein Entity Statement zurück und der IDP registriert ihn als Client (Automatic Registration)</span> </p>
  <p id="polarion_522">Der IDP verifiziert die Signatur des Entity Statement über einen Dienst gegen einen Schlüssel aus dem Entity Statement des Federation Master gemäß den Standards:</p>
  <ul id="polarion_523"> 
   <li><a href="https://openid.net/specs/openid-connect-federation-1_0.html#automatic" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-10.1)</a>&nbsp;</li> 
   <li><a href="https://openid.net/specs/openid-connect-federation-1_0.html#trust_chain_validation" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-8.2)</a><span id="polarion-comment:1108"></span></li> 
  </ul>
  <p id="polarion_524">Response:</p>
  <p id="polarion_525"> HTTP 200 mit Content-Type: application/<span style="font-size: 10pt;line-height: 1.5;">entity-statement+jwt</span> </p>
  <p id="polarion_526"> Folgende <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span>&nbsp;müssen im Header des selbst signierten Entity Statement des Fachdienstes auftauchen: </p>
  <p id="polarion_512" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">23</span> : Header des Entity Statement des Fachdienstes </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=527" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 69px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 144px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 116px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 380px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 69px;height: 29px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span></td> 
     <td style="width: 144px;height: 29px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #172B4D;">ES256</span></td> 
     <td style="width: 116px;height: 29px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 380px;height: 29px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 69px;height: 45px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="width: 144px;height: 45px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">wie aus jwks im Body des Dokumentes</td> 
     <td style="width: 116px;height: 45px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"Fachdienst007-42"</td> 
     <td style="width: 380px;height: 45px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Identifier des verwendeten Schlüssels aus dem jwks im Body des Statement</td> 
    </tr> 
    <tr> 
     <td style="width: 69px;height: 28px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">typ</span></td> 
     <td style="width: 144px;height: 28px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;font-size: 10pt;line-height: 1.5;">entity-statement+jwt</span></td> 
     <td style="width: 116px;height: 28px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 380px;height: 28px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_528"> Folgende Body-<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> müssen im selbst signierten Entity Statement des Fachdienstes enthalten sein: </p>
  <p id="polarion_514" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">24</span> : Body des Entity Statement des Fachdienstes </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=529" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="width: 122px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 159px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 273px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;">iss anstelle issuer ist hier Spec konform = URL des Fachdienstes&nbsp;<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span></td> 
     <td style="width: 122px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 159px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 273px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">URL des Fachdienstes (variabel je Mandant/Kasse) = iss</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span></td> 
     <td style="width: 122px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a><span style="color: #172B4D;">,</span></td> 
     <td style="width: 159px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">1645484401</td> 
     <td style="width: 273px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">2022-02-22 00:00:01</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span></td> 
     <td style="width: 122px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a><span style="color: #172B4D;">,</span></td> 
     <td style="width: 159px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">1645570800</td> 
     <td style="width: 273px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">//Gültigkeit von 24 Stunden</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jwks</span></td> 
     <td style="width: 122px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">JWKS Objekt</td> 
     <td style="width: 159px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">unter anderem "Fachdienst007-42" </td> 
     <td style="width: 273px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">Schlüssel für die Signatur des Entity Statement<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">authority_hints</span></td> 
     <td style="width: 122px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">[ string ]</td> 
     <td style="width: 159px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de"</td> 
     <td style="width: 273px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">iss Bezeichnung des Federation Master&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">metadata {</span></td> 
     <td style="width: 122px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 159px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 273px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">openid_relying_party {</span></td> 
     <td style="width: 122px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 159px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 273px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">signed_jwks_uri</span> </td> 
     <td style="width: 122px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 159px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;">https://Fachdienst007.de/jws.json</td> 
     <td style="width: 273px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">enthält Schlüssel für die Signatur des Entity Statement, die&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">TLS Client Schlüssel und Zertifikate&nbsp;</span>(x5c,&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">use</span> = <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sig</span>) und für die Verschlüsselung der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>(<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">use</span> =&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">enc</span>)<br> </span><br> Wenn eine <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">signed_jwks_uri </span>im Entity Statement angegeben ist müssen auch diese Schlüssel importiert werden <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">jwks</span></td> 
     <td style="width: 122px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Liste von JWKS Objekten</span></td> 
     <td style="width: 159px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;">unter anderem "Fachdienst007-69", wenn nicht im signed_jwks_uri transportiert</td> 
     <td style="width: 273px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;">Optional -&nbsp;gemäß https://openid.net/specs/openid-connect-federation-1_0.html#name-openid-connect-and-oauth2-m für den Fall das ein Fachdienst signed_jwks_uri nicht anbieten kann.</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">organization_name</span></td> 
     <td style="width: 122px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">String</td> 
     <td style="width: 159px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">007 GmbH</td> 
     <td style="width: 273px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">Optional: Name der Organisation die hinter dem Fachdienst steht</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_name</span></td> 
     <td style="width: 122px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">String</td> 
     <td style="width: 159px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst007</td> 
     <td style="width: 273px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">Name des Fachdienstes (redundant zum&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">name</span> in den "Federation Entity" <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span>)</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">logo_uri</span></td> 
     <td style="width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">https://Fachdienst007.de/logo.jpg</td> 
     <td style="width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="color: #333333;">Optional</span>: Wenn vorhanden zur Darstellung der Anfrage durch den Authenticator/IDP zu verwendet<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uris</span></td> 
     <td style="width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">[ URLs ]</td> 
     <td style="width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">https://Fachdienst007.de/client</td> 
     <td style="width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">One of these registered Redirection URI values MUST exactly match the&nbsp;redirect_uri&nbsp;parameter value used in each Authorization Request</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">response_types</span></td> 
     <td style="width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">[ <span style="font-style: italic;">code </span>]</td> 
     <td style="width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_registration_types</span></td> 
     <td style="width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">[<span style="font-style: italic;">automatic</span>]</td> 
     <td style="width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">gemäß <a href="https://openid.net/specs/openid-connect-federation-1_0.html#RP_metadata" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-4.1)</a><a href="https://openid.net/specs/openid-connect-federation-1_0.html#rfc.section.4.1" target="_top">&nbsp;</a></td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">grant_types</span></td> 
     <td style="width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">[ <span style="font-style: italic;">authorization_code</span> ]</td> 
     <td style="width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><a href="https://openid.net/specs/openid-connect-registration-1_0.html#ClientMetadata" target="_top" class="descriptionLink">OpenID Connect Dynamic Client Registration 1.0 (section-2)</a><a href="https://openid.net/specs/openid-connect-registration-1_0.html#ClientMetadata" target="_top">&nbsp;</a><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 57px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;color: #222222;">require_pushed_authorization_requests</span></td> 
     <td style="width: 122px;height: 57px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">true</span><br> </td> 
     <td style="width: 159px;height: 57px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 273px;height: 57px;border: 1px solid #CCCCCC;padding: 5px;"><a href="https://datatracker.ietf.org/doc/html/rfc9126#section-6" target="_top" class="descriptionLink">OAuth 2.0 Pushed Authorization Requests (section-6)</a><a href="https://datatracker.ietf.org/doc/html/rfc9126#section-6" target="_top">&nbsp;</a></td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">token_endpoint_auth_method</span></td> 
     <td style="width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">self_signed_tls_client_auth<span id="polarion-comment:1655"></span></span></td> 
     <td style="width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">default_acr_values</span></td> 
     <td style="width: 122px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;">"gematik-ehealth-loa-high"<br> oder&nbsp;<br> "gematik-ehealth-loa-<span style="font-size: 10pt;line-height: 1.5;">substantial</span>"<br> </td> 
     <td style="width: 159px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;">"gematik-ehealth-loa-high"</td> 
     <td style="width: 273px;height: 136.432px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">id_token_signed_response_alg</span></td> 
     <td style="width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">ES256</span></td> 
     <td style="width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">Weitere Werte sind möglich.</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">id_token_encrypted_response_alg</span></td> 
     <td style="width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">ECDH-ES</span></td> 
     <td style="width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">Weitere Werte sind möglich.</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">id_token_encrypted_response_enc</span></td> 
     <td style="width: 122px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">A256GCM</span></td> 
     <td style="width: 159px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 273px;height: 58.4766px;border: 1px solid #CCCCCC;padding: 5px;">Weitere Werte sind möglich.</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 34px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span></td> 
     <td style="width: 122px;height: 34px;border: 1px solid #CCCCCC;padding: 5px;">[ string ]</td> 
     <td style="width: 159px;height: 34px;border: 1px solid #CCCCCC;padding: 5px;">[openid<br> urn:telematik:display_name&nbsp;<br> urn:telematik:versicherter]</td> 
     <td style="width: 273px;height: 34px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">String mit space-delimited <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span> values&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">}</span></td> 
     <td style="width: 122px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 159px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 273px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 22px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">federation_entity<span style="color: #3D3D3D;"> {</span></span></td> 
     <td style="width: 122px;height: 22px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 159px;height: 22px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 273px;height: 22px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">name</span></td> 
     <td style="width: 122px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">string</td> 
     <td style="width: 159px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">"Fachdienst007"</td> 
     <td style="width: 273px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">Optional:<br> Name des Fachdienstes - wird z. B., genutzt in der Consent-Freigabe des Benutzers<br> (redundant zum client_name)<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">contacts&nbsp;</span></td> 
     <td style="width: 122px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">strings&nbsp;</td> 
     <td style="width: 159px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">"Support@Fachdienst007.de "</td> 
     <td style="width: 273px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">Optional</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">homepage_uri&nbsp;</span></td> 
     <td style="width: 122px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 159px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 273px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;">Optional</td> 
    </tr> 
    <tr> 
     <td style="width: 155px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">}}</span></td> 
     <td style="width: 122px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 159px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 273px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_29"></p>
  <p id="polarion_95">Weitere Informationen zu den Inhalten zur Client-Registrierung finden sich in den Spezifikationen zum OIDC Standard:</p>
  <ul id="polarion_127"> 
   <li><a href="https://openid.net/specs/openid-connect-federation-1_0.html#entity-statement" target="_top" class="descriptionLink">OpenID Connect Federation 1.0 (section-3.1)</a>&nbsp;</li> 
   <li><a href="https://datatracker.ietf.org/doc/html/rfc7591#section-2" target="_top" class="descriptionLink">OAuth 2.0 Dynamic Client Registration Protocol (section-2)</a>&nbsp;</li> 
   <li><a href="https://openid.net/specs/openid-connect-registration-1_0.html" target="_top" class="descriptionLink">OpenID Connect Dynamic Client Registration 1.0</a></li> 
   <li><a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.3" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-3.3)</a>&nbsp;<span style="color: #FF0000;"><a href="https://openid.net/specs/openid-connect-federation-1_0.html#OpenID.Registration" target="_top" class="xref"><span id="polarion-comment:1109"></span></a></span></li> 
  </ul>
  <p id="polarion_374" style="margin-left: 0px;"> <span style="font-weight: bold;">signed_jwks_uri</span> </p>
  <p id="polarion_531" style="margin-left: 0px;"> Ablageort für weitere Schlüssel des Fachdienstes etwa die zur <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">TLS Client Schlüssel und Zertifikate&nbsp;</span>(x5c,&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">use</span> = <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sig</span>) oder für die Verschlüsselung der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_Token </span>(<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">use</span> = "enc"). </p>
  <p id="polarion_532" style="margin-left: 0px;"> Wenn eine <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">signed_jwks_uri </span>im Entity Statement angegeben ist müssen auch diese Schlüssel importiert werden. </p>
  <p id="polarion_533" style="margin-left: 0px;">Folgende Werte müssen im Header des selbst signierten KeySet des Fachdienstes auftauchen:</p>
  <p id="polarion_517" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">25</span> : Header des KeySet des Fachdienstes </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=518" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 74.6458px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 84.8438px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 133.792px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 337.75px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 74.6458px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span></td> 
     <td style="text-align: left;vertical-align: top;width: 84.8438px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #172B4D;">ES256</span></td> 
     <td style="text-align: left;vertical-align: top;width: 133.792px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="text-align: left;vertical-align: top;width: 337.75px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 74.6458px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="text-align: left;vertical-align: top;width: 84.8438px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;color: #172B4D;line-height: 1.5;">wie aus jwks im Body des Dokumentes</span></td> 
     <td style="text-align: left;vertical-align: top;width: 133.792px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">"Fachdienst007-42"</span></td> 
     <td style="text-align: left;vertical-align: top;width: 337.75px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">Identifier des verwendeten Schlüssels aus dem jwks im Body des Entity Statement</span></td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 74.6458px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;font-family: 'Courier New', Courier, monospace, HanWangKanTan;line-height: 1.5;">typ</span></td> 
     <td style="text-align: left;vertical-align: top;width: 84.8438px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: normal;font-size: 10pt;line-height: 1.5;">JWT</span></td> 
     <td style="text-align: left;vertical-align: top;width: 133.792px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;color: #172B4D;line-height: 1.5;">jwk-set+json</span></td> 
     <td style="text-align: left;vertical-align: top;width: 337.75px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;">Belegung gemäß <a href="https://www.rfc-editor.org/rfc/rfc7517" target="_top" class="descriptionLink">[RFC7517]</a>&nbsp;<br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_535" style="margin-left: 0px;">Folgende Werte müssen im Body enthalten sein:</p>
  <p id="polarion_527" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">26</span> : Body des KeySet des Fachdienstes </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=528" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 83px;height: 58.4688px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 200px;height: 58.4688px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 263px;height: 58.4688px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;width: 163px;height: 58.4688px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">keys {</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kty</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;">EC</td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;">Fachdienst007-42 / Fachdienst007-69</td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">crv</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;">P-256 / P-256</td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">x</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;">qAOdPQROkHfZY1daGofOmSNQWpYK8c9G2m2Rbkpbd4c<br> / ....<br> </td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 58.5px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">y</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;">G_7fF-T8n2vONKM15Mzj4KR_shvHBxKGjMosF6FdoPY<br> / ...&nbsp;<br> </td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 78px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 136.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">use</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 136.5px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 136.5px;border: 1px solid #CCCCCC;padding: 5px;">sig / enc</td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 136.5px;border: 1px solid #CCCCCC;padding: 5px;">nach&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc7517#section-4.2" target="_top" class="descriptionLink">JSON Web Key (section-4.2)</a>&nbsp;<br> Der Fachdienst listet sowohl sig als auch enc Schlüssel<br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 96px;border: 1px solid #CCCCCC;padding: 5px;">x5c</td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 96px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 96px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;line-height: 1.5;">MIIDQjCCAiqgAwIBAgIGATz/FuLiMA0GCSqGSIb3DQEBBQUAMGIxCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDTzEPMA0GA1UEBxMGRGVudmVyMRwwGgYDVQQKExNQaW5nI...</span></td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 96px;border: 1px solid #CCCCCC;padding: 5px;">Zertifikat für die TLS Client Authentisierung des Fachdienst gegenüber dem IDP</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">}</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 19.5px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;">URL des IDP (variabel je Mandant/Kasse)</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;width: 83px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span></td> 
     <td style="text-align: left;vertical-align: top;width: 200px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">Alle time Werte in Sekunden seit 1970,&nbsp;<a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a>,</td> 
     <td style="text-align: left;vertical-align: top;width: 263px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">1645484401</td> 
     <td style="text-align: left;vertical-align: top;width: 163px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_377"></p>
  <p id="polarion_379"> <span style="font-weight: bold;">(2-c) Abruf des Entity Statement zum Fachdienst beim Federation Master</span> </p>
  <p id="polarion_537">Request:</p>
  <p id="polarion_538">HTTP-GET&nbsp;</p>
  <p id="polarion_539">Adresse: "http://master0815.de/federation_fetch_endpoint"</p>
  <p id="polarion_540">HTTPS GET Request an den federation_fetch_endpoint aus dem Entity Statement des Federation Master mit dem&nbsp;folgenden Parameter:</p>
  <p id="polarion_529" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">27</span> : Parameter HTTPS GET Request an Federation Master API </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=541" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 53px;height: 58.4766px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 54px;height: 58.4766px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 170px;height: 58.4766px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 432px;height: 58.4766px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 34px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="width: 54px;height: 34px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 170px;height: 34px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de"</td> 
     <td style="width: 432px;height: 34px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">issuer des Federation Master - Verpflichtender Parameter für unser Szenario aber ohne Relevanz</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 25px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span><br> </td> 
     <td style="width: 54px;height: 25px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 170px;height: 25px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 432px;height: 25px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #333333;">issuer des angefragten Fachdienst</span><br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_380"></p>
  <p id="polarion_381"> <span style="font-weight: bold;">(2-d) Der Federation Master sendet sein Entity Statement über den Fachdienst zurück</span> </p>
  <p id="polarion_542">Response:</p>
  <p id="polarion_543"> HTTP 200 mit Content-Type: application/<span style="font-size: 10pt;line-height: 1.5;">entity-statement+jwt</span> </p>
  <p id="polarion_544">Folgende Werte müssen im Header zum Entity Statement des Federation Master über den Fachdienst enthalten sein:</p>
  <p id="polarion_534" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">28</span> : Header zum Entity Statement des Federation Master über den Fachdienst </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=545" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 58px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 143px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 103px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 405px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 58px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span></td> 
     <td style="width: 143px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">ES256</span></td> 
     <td style="width: 103px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 405px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 58px;height: 39px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="width: 143px;height: 39px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">wie aus jwks im Body des Dokumentes</span></td> 
     <td style="width: 103px;height: 39px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"master0815-1"</td> 
     <td style="width: 405px;height: 39px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Identifier des verwendeten Schlüssels aus dem jwks im Body des Statement</td> 
    </tr> 
    <tr> 
     <td style="width: 58px;height: 21px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">typ</span></td> 
     <td style="width: 143px;height: 21px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;font-size: 10pt;line-height: 1.5;">entity-statement+jwt</span></td> 
     <td style="width: 103px;height: 21px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 405px;height: 21px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_546">Folgende Werte müssen im Body des Entity Statement des Federation Master über den Fachdienst enthalten sein:</p>
  <p id="polarion_536" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">29</span> : Body zum Entity Statement des Federation Master über den Fachdienst </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=547" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 62px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 215px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 156px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 277px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 62px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span></td> 
     <td style="width: 215px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 156px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"http://master0815.de"</td> 
     <td style="width: 277px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL des Federation Master<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 62px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span></td> 
     <td style="width: 215px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 156px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 277px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URL des angefragten Fachdienstes</td> 
    </tr> 
    <tr> 
     <td style="width: 62px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span></td> 
     <td style="width: 215px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a><span style="color: #172B4D;">,</span></td> 
     <td style="width: 156px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1645398001</td> 
     <td style="width: 277px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2022-02-21 00:00:01</td> 
    </tr> 
    <tr> 
     <td style="width: 62px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span></td> 
     <td style="width: 215px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Alle time Werte in Sekunden seit 1970,&nbsp;</span><a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a><span style="color: #172B4D;">,</span></td> 
     <td style="width: 156px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1645480801</td> 
     <td style="width: 277px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispielhafte Gültigkeit von 1 Tag für Möglichkeit der Sperrung</td> 
    </tr> 
    <tr> 
     <td style="width: 62px;height: 41px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">jwks</span><br> <br> <br> </td> 
     <td style="width: 215px;height: 41px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">JWKS Objekt</td> 
     <td style="width: 156px;height: 41px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">unter anderem "Fachdienst007-42"</td> 
     <td style="width: 277px;height: 41px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schlüssel für die Signatur des EntityStatement</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_548"> Als Ergebnis des Schritts (2-d) kennt der IDP die öffentlichen Keys des Fachdienstes für Verschlüsselung und Authentisierung.<span id="polarion-comment:1110"></span> </p>
  <p id="polarion_383"></p>
  <p id="polarion_385"> <span style="font-weight: bold;">(3) Der Authentication-Endpunkt (Auth EP) des sektoralen IDP antwortet dem AS des Fachdienstes mit einer Request URI</span> </p>
  <p id="polarion_549"> <span style="color: #172B4D;">Zuvor verifiziert der IDP das TLS CLientzertifkat gegen einen Schlüssel aus dem Entity Statement des Fachdienstes.</span><br> Response:<span id="polarion-comment:1656"></span> </p>
  <p id="polarion_550">HTTP 201 mit Content-Type: application/json</p>
  <p id="polarion_541" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">30</span> : Parameter der HTTP-Response </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=551" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 96px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 99px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 230px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 283px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 96px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">request_uri</span></td> 
     <td style="width: 99px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">URI</td> 
     <td style="width: 230px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">urn:Fachdienst007:bwc4JK-ESC0w8acc191e-Y1LTC2<br> </td> 
     <td style="width: 283px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URI zur späteren Identifikation des Request</td> 
    </tr> 
    <tr> 
     <td style="width: 96px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">expires_in</span></td> 
     <td style="width: 99px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">Gültigkeitsdauer der URI</td> 
     <td style="width: 230px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">90<br> </td> 
     <td style="width: 283px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">nach <span style="color: #4D5156;">RFC 6749 - </span>max. 90 Sekunden scheint praktikabel</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_552">Diese URI wird als redirect an das Anwendungsfrontend gesendet um über das Authenticator-Modul den IDP zu erreichen.</p>
  <p id="polarion_386"></p>
  <p id="polarion_387"> <span style="font-weight: bold;">(4) Der Authorization-Server des Fachdienstes antwortet dem Frontend mit einem redirect und seiner Request URI</span> </p>
  <pre id="polarion_553">HTTP-302,</pre>
  <p id="polarion_554"> <span style="color: #111111;">Mit mindestens den folgenden HTTP-Header Elementen:</span> </p>
  <ul id="polarion_555"> 
   <li><span style="color: #111111;">Location</span></li> 
  </ul>
  <p id="polarion_556">Die Location setzt sich zusammen aus:</p>
  <p id="polarion_557"> <span style="color: #172B4D;">&lt;target_url&gt;&lt;authorization request IDP Dienst zu sektoralem IDP&gt;</span> </p>
  <p id="polarion_558"> Die target_url entspricht dabei der Adresse des Authorization-Endpunktes des sektoralen IDP<span id="polarion-comment:1111"></span> entsprechend dem Entity Statement, welche auf dem Gerät auf das Authenticator-Modul weitergeleitet wird. </p>
  <p id="polarion_559">Der Request des Fachdienstes AS zum sektoralen IDP enthält dabei die folgenden Parameter:</p>
  <p id="polarion_545" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">31</span> : Request Parameter&nbsp;des Fachdienstes zum sektoralen IDP </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=560" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 94px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 181px;height: 77.9688px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 169px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 265px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 94px;height: 62px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id</span></td> 
     <td style="width: 181px;height: 62px;border: 1px solid #CCCCCC;padding: 5px;">VSCHAR (max. 32 Zeichen) </td> 
     <td style="width: 169px;height: 62px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 265px;height: 62px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Hier muss die URL des Fachdienstes eingetragen werden = seine <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id </span>in der Föderation</td> 
    </tr> 
    <tr> 
     <td style="width: 94px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">request_uri</span></td> 
     <td style="width: 181px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">URI</td> 
     <td style="width: 169px;height: 40px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">urn:Fachdienst007:bwc4JK-ESC0w8acc191e-Y1LTC2</td> 
     <td style="width: 265px;height: 40px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">URI zur späteren Identifikation des Request</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_388"></p>
  <p id="polarion_389"> <span style="font-weight: bold;">(5) Das Anwendungsfrontend sendet den Authentication Request an die URI des IDP und leitet ihn somit an das Authenticator-Modul weiter</span> </p>
  <p id="polarion_561">Das Anwendungsfrontend sendet ein HTTP-GET an den Authorization-Endpunkt des sektoralen IDP.</p>
  <p id="polarion_562">Die GET-Parameter entsprechen dem Request des Fachdienstes aus Schritt 4.</p>
  <p id="polarion_563">Das Authenticator-Modul des sektoralen IDP fängt diesen Request dadurch, dass er diese Adresse für App2App Kommunikation im Betriebssystem registriert hat.</p>
  <p id="polarion_391"></p>
  <p id="polarion_393"> <span style="font-weight: bold;">(6) Das Authenticator-Modul leitet den Authentication Request an den IDP weiter (proprietär)</span> </p>
  <p id="polarion_564"> Die Schritte zur Nutzer-Authentifizierung und zur Erstellung des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>durch den IDP sind anwendungsspezifisch und werden hier nicht weiter spezifiziert. </p>
  <p id="polarion_395"></p>
  <p id="polarion_396"> <span style="font-weight: bold;">(7) Der Authorization-Endpunkt des sektoralen IDP antwortet dem Authenticator-Modul mit einem Redirect zum Fachdienst (proprietär)</span> </p>
  <p id="polarion_565"> <span style="color: #111111;">Beispielsweise</span> </p>
  <p id="polarion_566"> <span style="color: #111111;">HTTP-302,</span> </p>
  <p id="polarion_567"> <span style="color: #111111;">Mit mindestens den folgenden HTTP-Header Elementen:</span> </p>
  <ul id="polarion_568"> 
   <li><span style="color: #111111;">Location</span></li> 
  </ul>
  <p id="polarion_569">Die Location setzt sich zusammen aus:</p>
  <p id="polarion_570">&lt;uri_Fachdienst_AS&gt;?code=&lt;AUTHORIZATION_CODE_IDP&gt;&amp;state=&lt;state_Fachdienst&gt;</p>
  <p id="polarion_547" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">32</span> : Parameter des Redirect-Request </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=571" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 141px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 174px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 164px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 230px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 141px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">uri_Fachdienst_AS</span></td> 
     <td style="width: 174px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">URI</td> 
     <td style="width: 164px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;"><a href="https://Fachdienst007.de/AS" target="_top">https://Fachdienst007.de/AS</a></span></td> 
     <td style="width: 230px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri </span>aus der Anfrage in Schritt 2</td> 
    </tr> 
    <tr> 
     <td style="width: 141px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code</span></td> 
     <td style="width: 174px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">max. 2000 Zeichen</td> 
     <td style="width: 164px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">AUTHORIZATION_CODE_IDP</td> 
     <td style="width: 230px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> des sektoralen IDP<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 141px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state</span></td> 
     <td style="width: 174px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">VSCHHAR (max. 512 Zeichen)</td> 
     <td style="width: 164px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">state_Fachdienst</td> 
     <td style="width: 230px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state </span>des Fachdienstes um den Code zu dereferenzieren</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_398"></p>
  <p id="polarion_399"> <span style="font-weight: bold;">(8) Das Authenticator-Modul des IDP ruft über einen App-Link bzw. Universal-Link entsprechend der Redirect-URL das Anwendungsfrontend auf und übergibt den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span></span> </p>
  <p id="polarion_572">Der&nbsp;App-Link bzw. Universal-Link&nbsp;Aufruf des Authenticator-Modul ist&nbsp;anwendungsspezifisch und wird hier nicht weiter spezifiziert.</p>
  <p id="polarion_573">Das Anwendungsfrontend fängt diesen Request dadurch, dass er diese Adresse für App2App Kommunikation im Betriebssystem registriert hat.</p>
  <p id="polarion_400"></p>
  <p id="polarion_401"> <span style="font-weight: bold;">(9) Das Anwendungsfrontend leitet den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes</span> </p>
  <p id="polarion_97"> HTTP-POST (Content-Type: application/x-www-form-urlencoded) nach&nbsp;<span style="color: #000000;">uri_Fachdienst_AS</span> </p>
  <p id="polarion_135"> <span style="color: #000000;">Der Request des enthält dabei die folgenden Parameter:</span> </p>
  <p id="polarion_163" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">33</span> :&nbsp;Parameter des POST-Request </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=164" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;border-collapse: collapse;"> 
   <tbody> 
    <tr> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="font-weight: bold;background-color: #F0F0F0;text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code</span></td> 
     <td style="text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">maximal 2000 Zeichen</td> 
     <td style="text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">AUTHORIZATION_CODE_IDP</td> 
     <td style="text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>des sektoralen Identity Provider</td> 
    </tr> 
    <tr> 
     <td style="text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state</span></td> 
     <td style="text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">VSCHAR (max. 512 Zeichen)</td> 
     <td style="text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;">state_Fachdienst&nbsp;</td> 
     <td style="text-align: left;vertical-align: top;height: 12px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state </span>des Fachdienstes um den Code zu dereferenzieren</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_168"></p>
  <p id="polarion_197"> <span style="font-weight: bold;">(10) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>reicht den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>(IDP) und den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span>&nbsp;beim Token-Endpunkt des IDP ein<span id="polarion-comment:1657"></span></span> </p>
  <p id="polarion_190"> HTTP POST mit Content-Type: application/x-www-form-urlencoded<span id="polarion-comment:1041"></span> </p>
  <p id="polarion_575">Die folgenden Parameter werden im payload verwendet:&nbsp;</p>
  <p id="polarion_560" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">34</span> : HTTP-POST Parameter für AUTHORIZATION_CODE und den CODE_VERIFIER </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=576" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 103px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 201px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 174px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 231px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 103px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">grant_type</span><br> </td> 
     <td style="width: 201px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #172B4D;">authorization_code</span></td> 
     <td style="width: 174px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 231px;height: 27px;border: 1px solid #CCCCCC;padding: 5px;"><br> <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 103px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code</span><br> </td> 
     <td style="width: 201px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">&lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> des sektoralen IDP base64-kodiert&gt; - max. 2000 Zeichen</td> 
     <td style="width: 174px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">AUTHORIZATION_CODE_IDP</td> 
     <td style="width: 231px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> des sektoralen IDP<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 103px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code_verifier</span><br> </td> 
     <td style="width: 201px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">&lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER </span>des Fachdienstes&gt;</td> 
     <td style="width: 174px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">code_verifier_Fachdienst</td> 
     <td style="width: 231px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><br> <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 103px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id</span><br> </td> 
     <td style="width: 201px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 174px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 231px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">URL des Fachdienstes = seine <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id&nbsp;</span><br> <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 103px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri</span><br> </td> 
     <td style="width: 201px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">URL<br> </td> 
     <td style="width: 174px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de/AS"</td> 
     <td style="width: 231px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><br> <span id="polarion-comment:1649"></span><br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_402" style="margin-left: 0px;"> <span id="polarion-comment:1650"></span> </p>
  <p id="polarion_406"> <span style="font-weight: bold;">(11) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>erhält vom Token-Endpunkt des IDP einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>mit den gewünschten </span><span style="font-weight: normal;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span><span style="font-weight: bold;">, der mit dem öffentlichen Schlüssel aus der Registrierung verschlüsselt ist</span> </p>
  <p id="polarion_582"> <span style="color: #172B4D;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes entschlüsselt den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>und verifiziert anschließend dessen Signatur. Damit endet der innere Flow.</span> </p>
  <p id="polarion_583"> <span style="color: #111111;">HTTP-200:</span> </p>
  <ul id="polarion_584"> 
   <li><span style="color: #111111;">Content-Type=application/json</span></li> 
   <li>Cache-Control=no-store</li> 
   <li>Pragma=no-cache.</li> 
  </ul>
  <p id="polarion_585"> <span style="color: #111111;">Die JSON-Struktur sieht so aus:</span> </p>
  <p id="polarion_587"> <span style="color: #111111;">{</span> </p>
  <p id="polarion_590"> "access_token": &lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>&gt;,&nbsp; </p>
  <p id="polarion_591"> "id_token": &lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN</span>&gt;, </p>
  <p id="polarion_592">"token_type": "Bearer",</p>
  <p id="polarion_594"> "expires_in": 300, (Gültigkeit des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>in Sekunden,&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.2.2" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-4.2.2)</a>) </p>
  <p id="polarion_597"> <span style="color: #111111;">}</span> </p>
  <p id="polarion_598"> Der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>wird ignoriert. </p>
  <p id="polarion_599"> <span style="color: #111111;">Der Encryption Header-</span><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> des<span style="color: #111111;"> <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>sieht dabei wie folgt aus:</span> </p>
  <p id="polarion_499" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">35</span> : Header-<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN&nbsp;</span>des sektoralen IDP </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=600" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 72px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 168px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 123px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 346px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 72px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span><br> </td> 
     <td style="width: 168px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">ECDH-ES</span></td> 
     <td style="width: 123px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 346px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 72px;height: 32px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">enc</span></td> 
     <td style="width: 168px;height: 32px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">A256GCM</span></td> 
     <td style="width: 123px;height: 32px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 346px;height: 32px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 72px;height: 48px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="width: 168px;height: 48px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">wie aus signed_jwks_uri&nbsp;</td> 
     <td style="width: 123px;height: 48px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"Fachdienst007-69"</td> 
     <td style="width: 346px;height: 48px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Ein Schlüssel mit der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">use=</span>"enc" aus dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">signed_jwks_uri&nbsp;</span>des Fachdienstes</td> 
    </tr> 
    <tr> 
     <td style="width: 72px;height: 73px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">cty</span></td> 
     <td style="width: 168px;height: 73px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">JWT</td> 
     <td style="width: 123px;height: 73px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 346px;height: 73px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_601"></p>
  <p id="polarion_166"> <span style="color: #111111;">Signature Header-</span><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;"><span style="color: #111111;">claim</span>s</span><span style="color: #111111;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;"> </span>des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>sind genau die folgenden:</span> </p>
  <p id="polarion_501" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">36</span> : Signature Header-<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span>&nbsp;des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN&nbsp;</span>des sektoralen IDP </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=602" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 139px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 125px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 150px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 294px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 139px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">alg</span><br> </td> 
     <td style="width: 125px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">ES256</span></td> 
     <td style="width: 150px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 294px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;">P256 wird zugelassen<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 139px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">typ</span></td> 
     <td style="width: 125px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: normal;color: #172B4D;">JWT</span><br> </td> 
     <td style="width: 150px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-size: 10pt;color: #172B4D;line-height: 1.5;">jwk+json</span></td> 
     <td style="width: 294px;height: 38.9844px;border: 1px solid #CCCCCC;padding: 5px;">Belegung gemäß <a href="https://www.rfc-editor.org/rfc/rfc7517" target="_top" class="descriptionLink">[RFC7517]</a>&nbsp;<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 139px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">kid</span></td> 
     <td style="width: 125px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;">wie aus jwks in Entity Statement des sektoralen IDP</td> 
     <td style="width: 150px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;"></td> 
     <td style="width: 294px;height: 19.4922px;border: 1px solid #CCCCCC;padding: 5px;">Für die Signatur des Token verwendeter Schlüssel</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_603"> Die Body-<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;"><span style="color: #111111;">claim</span>s</span>&nbsp;für den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>des sektoralen IDP sind Beispielsweise die folgenden: </p>
  <p id="polarion_571" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">37</span> : Body-<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span> für den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>des sektoralen IDP </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=604" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 144px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 115px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 152px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 298px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iss</span><br> </td> 
     <td style="width: 115px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 152px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">https://idp4711.de</td> 
     <td style="width: 298px;height: 40px;border: 1px solid #CCCCCC;padding: 5px;">Adresse des sektoralen IDP / reicht als Authentizitätsnachweis<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 52px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">sub</span></td> 
     <td style="width: 115px;height: 52px;border: 1px solid #CCCCCC;padding: 5px;">Beliebig, aber eindeutig je Nutzer und fest je Fachdienst.&nbsp;<br> </td> 
     <td style="width: 152px;height: 52px;border: 1px solid #CCCCCC;padding: 5px;">"UserC3PO-666"</td> 
     <td style="width: 298px;height: 52px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Wird als pseudonymer Identifier verwendet und ist einzig relevanter <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim </span>für Dienste die keiner Nutzerdaten erhalten sollen oder wollen.<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 52px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">iat</span></td> 
     <td style="width: 115px;height: 52px;border: 1px solid #CCCCCC;padding: 5px;">Alle time Werte in Sekunden seit 1970,&nbsp;<a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a>,</td> 
     <td style="width: 152px;height: 52px;border: 1px solid #CCCCCC;padding: 5px;">1645565035</td> 
     <td style="width: 298px;height: 52px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2022-02-22 22:23:55</td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 52px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">exp</span></td> 
     <td style="width: 115px;height: 52px;border: 1px solid #CCCCCC;padding: 5px;">Alle time Werte in Sekunden seit 1970,&nbsp;<a href="https://tools.ietf.org/html/rfc7519#section-2" target="_top" class="external-link">RFC 7519 Sect.2</a>,</td> 
     <td style="width: 152px;height: 52px;border: 1px solid #CCCCCC;padding: 5px;">1645565335</td> 
     <td style="width: 298px;height: 52px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Zeitliche Gültigkeit des Token von 5 Minuten</td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 49px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">aud</span></td> 
     <td style="width: 115px;height: 49px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 152px;height: 49px;border: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 298px;height: 49px;border: 1px solid #CCCCCC;padding: 5px;">Die <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id </span>des Fachdienstes - dieser hat die Anfrage gestellt.<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">nonce</span></td> 
     <td style="width: 115px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;">max. 512 Zeichen</td> 
     <td style="width: 152px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;">274312:dj83hs9s</td> 
     <td style="width: 298px;height: 25px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">acr</span></td> 
     <td style="width: 115px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">"gematik-ehealth-loa-high"<br> oder&nbsp;<br> "gematik-ehealth-loa-<span style="font-size: 10pt;line-height: 1.5;">substantial</span>"<br> </td> 
     <td style="width: 152px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">gematik-ehealth-loa-high</td> 
     <td style="width: 298px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">Stärke der durch den IDP durchgeführten Authentisierung des Nutzers</td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">amr</span></td> 
     <td style="width: 115px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">gemäß&nbsp;<span style="font-weight: normal;font-size: 10pt;line-height: 1.5;">A_23129 </span></td> 
     <td style="width: 152px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">urn:telematik:auth:eID</td> 
     <td style="width: 298px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">Details zur&nbsp;durchgeführten Authentisierung des Nutzers auf dem Niveau "gematik-ehealth-loa-high"</td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">urn:telematik:claims:profession</span></td> 
     <td style="width: 115px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">OID</td> 
     <td style="width: 152px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">1.2.276.0.76.4.49</td> 
     <td style="width: 298px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim </span>belegt mit OID des Versicherten, abhängig von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span>/<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span></td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">urn:telematik:claims:given_name</span></td> 
     <td style="width: 115px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">max. 64 Zeichen</td> 
     <td style="width: 152px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 298px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim </span>belegt mit dem Vornamen des Versicherten,<br> abhängig von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span>/<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span></td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">urn:telematik:claims:organization</span></td> 
     <td style="width: 115px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">max. 64 Zeichen</td> 
     <td style="width: 152px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 298px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim </span>belegt mit IK-Nummer der Kasse, abhängig von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span>/<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span></td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">urn:telematik:claims:id</span></td> 
     <td style="width: 115px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">10 Zeichen (für KVNR)</td> 
     <td style="width: 152px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 298px;height: 98px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claim </span>belegt mit KVNR des Versicherten, abhängig von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span>/<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span></td> 
    </tr> 
    <tr> 
     <td style="width: 144px;height: 41px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">weitere&nbsp;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims </span>siehe A_22989 -&nbsp;"scopes" und "claims" des sektoralen IDP für Versicherte&nbsp;</td> 
     <td style="width: 115px;height: 41px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 152px;height: 41px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 298px;height: 41px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">weitere <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims&nbsp;</span>abhängig von <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span>/<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span></td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_408"></p>
  <p id="polarion_410"> <span style="font-weight: bold;">(12) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes erstellt ein <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>und sendet diesen an das Anwendungsfrontend zum Einreichen beim Token Endpunkt</span> </p>
  <p id="polarion_605"> <span style="color: #111111;">Beispielsweise</span> </p>
  <p id="polarion_606"> <span style="color: #111111;">HTTP-302,</span> </p>
  <p id="polarion_607"> <span style="color: #111111;">Mit mindestens den folgenden HTTP-Header Elementen:</span> </p>
  <ul id="polarion_608"> 
   <li><span style="color: #111111;">Location</span></li> 
  </ul>
  <p id="polarion_609">Die Location setzt sich zusammen aus:</p>
  <p id="polarion_610"> &lt;<a href="https://Fachdienst007.de/AS" target="_top">https://Fachdienst007.de/</a>Token&gt;?code=&lt;authorization code AS&gt;&amp;state=&lt;state Frontend&gt; </p>
  <p id="polarion_576" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">38</span> : Parameter des Redirect-Request </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=611" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 63px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 197px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 177px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 271px;height: 27px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 63px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code</span></td> 
     <td style="width: 197px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">max. 2000 Zeichen</td> 
     <td style="width: 177px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">AUTHORIZATION_CODE_AS</td> 
     <td style="width: 271px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> des Fachdienstes&nbsp;</td> 
    </tr> 
    <tr> 
     <td style="width: 63px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state</span></td> 
     <td style="width: 197px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">VSCHAR (max. 512 Zeichen)</td> 
     <td style="width: 177px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">af0ifjsldkj</td> 
     <td style="width: 271px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state </span>des Frontend&nbsp;um den Code zu dereferenzieren</td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_411"></p>
  <p id="polarion_412"> <span style="font-weight: bold;">(13) Anwendungsfrontend übergibt dem <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>sowie den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span></span> </p>
  <p id="polarion_612">HTTP POST mit Content-Type: application/x-www-form-urlencoded</p>
  <p id="polarion_613">Die folgenden Parameter werden im payload verwendet:</p>
  <p id="polarion_578" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">39</span> : Parameter HTTP-POST </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=614" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 116px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 264px;height: 24px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 166px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 163px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 116px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">grant_type</span><br> </td> 
     <td style="width: 264px;height: 28px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;color: #172B4D;">authorization_code</span></td> 
     <td style="width: 166px;height: 28px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 163px;height: 28px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 116px;height: 44px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code</span><br> </td> 
     <td style="width: 264px;height: 44px;border: 1px solid #CCCCCC;padding: 5px;">&lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> des Fachdienstes base64-kodiert&gt; - max. 2000 Zeichen</td> 
     <td style="width: 166px;height: 44px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">AUTHORIZATION_CODE_AS</td> 
     <td style="width: 163px;height: 44px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> des Fachdienstes<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 116px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code_verifier</span><br> </td> 
     <td style="width: 264px;height: 30px;border: 1px solid #CCCCCC;padding: 5px;">&lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER </span>des Fachdienstes&gt;</td> 
     <td style="width: 166px;height: 30px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">code_verifier_Frontend</td> 
     <td style="width: 163px;height: 30px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 116px;height: 31px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id</span><br> </td> 
     <td style="width: 264px;height: 31px;border: 1px solid #CCCCCC;padding: 5px;">VSCHAR&nbsp;(max. 32 Zeichen)</td> 
     <td style="width: 166px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"eRezeptApp"</td> 
     <td style="width: 163px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 116px;height: 31px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri</span><br> </td> 
     <td style="width: 264px;height: 31px;border: 1px solid #CCCCCC;padding: 5px;">URI<br> </td> 
     <td style="width: 166px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"</td> 
     <td style="width: 163px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> <br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_413"></p>
  <p id="polarion_415"> <span style="font-weight: bold;">(14) Anwendungsfrontend erhält <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN </span>mit den notwendigen Daten vom <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes</span> </p>
  <p id="polarion_615"> <span style="color: #111111;">HTTP-200:</span> </p>
  <ul id="polarion_616"> 
   <li><span style="color: #111111;">Content-Type=application/json</span></li> 
   <li>Cache-Control=no-store</li> 
   <li>Pragma=no-cache.</li> 
  </ul>
  <p id="polarion_617"> <span style="color: #111111;">Die JSON-Struktur sieht so aus:</span> </p>
  <p id="polarion_618"> <span style="color: #111111;">{</span> </p>
  <p id="polarion_619"> "access_token": &lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>&gt;,&nbsp; </p>
  <p id="polarion_620"> "refresh_token": &lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN</span>&gt;, </p>
  <p id="polarion_621">"token_type": "Bearer",</p>
  <p id="polarion_622">"scope": "e-rezept",&nbsp;</p>
  <p id="polarion_623"> "expires_in": 300, (Gültigkeit des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>in Sekunden,&nbsp;<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.2.2" target="_top" class="descriptionLink">The OAuth 2.0 Authorization Framework (section-4.2.2)</a>) </p>
  <p id="polarion_624"> <span style="color: #111111;">}</span> </p>
  <p id="polarion_417"></p>
  <p id="polarion_418"> <span style="font-weight: bold;">(15) Das Anwendungsfrontend greift auf die Fachdienst API zu und übergibt dabei das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span></span> </p>
  <p id="polarion_625"> Die Kommunikation zwischen&nbsp;<span style="color: #172B4D;">Anwendungsfrontend und Fachdienst ist</span>&nbsp;anwendungsspezifisch und wird hier nicht weiter spezifiziert. </p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-132462">7.2 Web-App-Flow</h3>
  <p id="polarion_324"> <span style="font-size: 10pt;line-height: 1.5;">Der Web-App-Flow beschreibt die Einzelschritte für die Authentifizierung eines Nutzers im Rahmen einer Web-Anwendung, welche im Browser desselben Geräts ausgeführt wird, auf dem<span id="polarion-comment:1151"></span> auch die Authenticator-App installiert ist.</span><span id="polarion-comment:1042"></span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132464">7.2.1 Vorbedingungen Web-App-Flow</h4>
  <ul id="polarion_325"> 
   <li>Registrierung des Fachdienstes als Relying Party (RP)<span id="polarion-comment:1281"></span> beim Federation Master.</li> 
   <li>Registrierung des App-Link/Universal-Link für das Authenticator-Modul des IDP auf dem Gerät des Nutzers (auf Adresse des IDP) - oder anfragen über Web.</li> 
   <li>Aktueller Signaturschlüssel des Federation Master ist bekannt und vertrauenswürdig bei IDP und Fachdienst eingebracht worden.</li> 
   <li>Sektorale IDP ist Teil des TI-Vertrauensraums und beim Federation Master registriert.</li> 
   <li>Der Fachdienst besitzt ein Web-Backend welches Anwendungslogik realisiert.</li> 
  </ul>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132458">7.2.2 Flow-Diagramm Web-App-Flow</h4>
  <p id="polarion_337" style="text-align: center;" data-keep-next="true"> <img src="attachments/WEB-APP-Flow.png" style="max-width: 650px;" data-lastmodified="2022-05-17T07:50:28.085+02:00"> </p>
  <p id="polarion_258" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">8</span> : Web-App-Flow </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132460">7.2.3 Ablaufbeschreibung Web-App-Flow</h4>
  <p id="polarion_330"></p>
  <p id="polarion_259" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">40</span> : Ablaufbeschreibung Web-App-Flow </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=331" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 70px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schritt</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 94px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Teilschritt</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 556px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beschreibung</th> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 135px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">0</td> 
     <td style="width: 94px;height: 135px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 135px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Abruf der Schlüssel des Federation Master</li> 
       <li>Flow zur Auswahl des IDP:</li> 
       <ul> 
        <li>Die Auswahl des richtigen IDP ist optional. Ist der IDP bekannt (z. B. durch eine frühere Autorisierung) entfällt der Schritt</li> 
        <li>Es gibt unterschiedliche Möglichkeiten den Ablauf der IDP-Ermittlung zu gestalten. Spätestens zum Schritt (1a) muss der Ziel-IDP bekannt sein </li> 
       </ul> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 94px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Abweichend vom App/App-Flow kommt der Request vom Web-Backend der Anwendung und nicht von einem Anwendungsfrontend (App)<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1-a</td> 
     <td style="width: 556px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (1a)<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1-b</td> 
     <td style="width: 556px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (1b)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 25px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 25px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1-c</td> 
     <td style="width: 556px;height: 25px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (1c)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1-d</td> 
     <td style="width: 556px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (1d)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2&nbsp;</td> 
     <td style="width: 94px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2-a</td> 
     <td style="width: 556px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2a)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2-b</td> 
     <td style="width: 556px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2b)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2-c</td> 
     <td style="width: 556px;height: 26px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2c)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2-d</td> 
     <td style="width: 556px;height: 31px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2d)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">3</td> 
     <td style="width: 94px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (3)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">4</td> 
     <td style="width: 94px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Abweichend vom App/App-Flow läuft der Redirect über das Web-Backend zum <span style="color: #172B4D;">Web-Frontend</span>.<br> Schnittstellendetails analog&nbsp;App-zu-App Flow (4)<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">5</td> 
     <td style="width: 94px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (5)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">6</td> 
     <td style="width: 94px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (6)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">6-a</td> 
     <td style="width: 556px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (6a)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 94px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">6-b</td> 
     <td style="width: 556px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (6b)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">7</td> 
     <td style="width: 94px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (7)</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 58.4766px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">8</td> 
     <td style="width: 94px;height: 58.4766px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 58.4766px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Abweichend vom App/App Flow <span style="color: #172B4D;">führt das Authenticator-Modul des IDP den Redirect </span>zum Authorization-<span style="font-size: 10pt;line-height: 1.5;">Server&nbsp;</span>des Fachdienstes aus<span style="font-weight: bold;">&nbsp;</span>und übergibt den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>.<br> Schnittstellendetails analog&nbsp;App-zu-App Flow (9)<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">9</td> 
     <td style="width: 94px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (10)<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">10</td> 
     <td style="width: 94px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (11)<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">11</td> 
     <td style="width: 94px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes reicht <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN </span>an das Web-Backend der Anwendung weiter. Diese liegen zu keiner Zeit im Browser des Nutzers.</td> 
    </tr> 
    <tr> 
     <td style="width: 70px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">12</td> 
     <td style="width: 94px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 556px;height: 77.9688px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>(<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN</span>) wird im Web-Backend der Anwendung persistiert. Die Kommunikation zwischen Web-Frontend und Web-Backend ist implementierungsspezifisch. <br> Der Zugriff auf das Fachdienst-API erfolgt über das Web-Backend. Der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>muss bei jedem Zugriff mitgegeben werden. </td> 
    </tr> 
   </tbody> 
  </table>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132534">7.2.4 Detailinformationen zum Web-App-Flow</h4>
  <p id="polarion_419"> <span style="font-weight: bold;">(1) Authorization Request von Web-Backend zum Authentication-Endpunkt (Auth ES) des <span style="font-size: 10pt;line-height: 1.5;">Authorization-Servers&nbsp;</span>des Fachdienstes</span> </p>
  <p id="polarion_626"> Die Kommunikation zwischen Web-Frontend und Web-Backend ist anwendungsspezifisch. Das Web-Backend des Fachdienstes sendet einen Request an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes. Dieser Request ist ebenfalls anwendungsspezifisch. Damit der weitere Ablauf OIDC konform und weitest gehend identisch zum App-zu-App Flow ablaufen kann, muss der Request einigen Festlegungen genügen. </p>
  <p id="polarion_627">Das Web-Backend sendet ein HTTP-GET an den AS des Fachdienstes.</p>
  <p id="polarion_628"> <span style="color: #172B4D;">Die folgenden GET-Parameter werden im query string verwendet:</span> </p>
  <p id="polarion_580" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">41</span> : Parameter des GET-Requests </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=629" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 110px;height: 22px;border: 1px solid #CCCCCC;padding: 5px;">Name</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 178px;height: 22px;border: 1px solid #CCCCCC;padding: 5px;">Werte</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 159px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beispiel</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 262px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Anmerkungen</th> 
    </tr> 
    <tr> 
     <td style="width: 110px;height: 48px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">client_id</span><br> </td> 
     <td style="width: 178px;height: 48px;border: 1px solid #CCCCCC;padding: 5px;">VSCHAR&nbsp;(max. 32 Zeichen)</td> 
     <td style="width: 159px;height: 48px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><pre>"digaxy"</pre></td> 
     <td style="width: 262px;height: 48px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">kein ";" und kein "┼" (definiert gem. Unicode&nbsp;U+253C&nbsp;(9532)), kein Leerzeichen<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 110px;height: 48px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">state</span></td> 
     <td style="width: 178px;height: 48px;border: 1px solid #CCCCCC;padding: 5px;">VSCHAR&nbsp;(max. 255 Zeichen)</td> 
     <td style="width: 159px;height: 48px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">af0ifjsldkj</td> 
     <td style="width: 262px;height: 48px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">optional</td> 
    </tr> 
    <tr> 
     <td style="width: 110px;height: 51px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">redirect_uri</span></td> 
     <td style="width: 178px;height: 51px;border: 1px solid #CCCCCC;padding: 5px;">URL<br> </td> 
     <td style="width: 159px;height: 51px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"https://Fachdienst007.de"<br> </td> 
     <td style="width: 262px;height: 51px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Adresse des Fachdienstes&nbsp;weil da soll der <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>am Ende landen.<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 110px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code_challenge</span></td> 
     <td style="width: 178px;height: 61px;border: 1px solid #CCCCCC;padding: 5px;">Hash über <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span></td> 
     <td style="width: 159px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">K2-ltc83acc4h0c9w6ESC_rEMTJ3bww-uCHaoeK1t8U</td> 
     <td style="width: 262px;height: 61px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">PKCE optional weil Kommunikation innerhalb der Anwendung und nichts zum Browser fließt oder Redirects folgt.</td> 
    </tr> 
    <tr> 
     <td style="width: 110px;height: 155.938px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">code_challenge_method</span></td> 
     <td style="width: 178px;height: 155.938px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">S256</span></td> 
     <td style="width: 159px;height: 155.938px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 262px;height: 155.938px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">PKCE optional, siehe oben</td> 
    </tr> 
    <tr> 
     <td style="width: 110px;height: 155.938px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">response_type</span><br> </td> 
     <td style="width: 178px;height: 155.938px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-style: italic;">code</span><br> </td> 
     <td style="width: 159px;height: 155.938px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">-</td> 
     <td style="width: 262px;height: 155.938px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">CODE Flow optional, wenn andere Mechanismen die Verbindung schützen</td> 
    </tr> 
    <tr> 
     <td style="width: 110px;height: 44px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scope</span></td> 
     <td style="width: 178px;height: 44px;border: 1px solid #CCCCCC;padding: 5px;">[string]</td> 
     <td style="width: 159px;height: 44px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"e-rezept"<br> </td> 
     <td style="width: 262px;height: 44px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">anwendungsspezifisch zu definieren<br> kein openid<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 110px;height: 39px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">weitere <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims</span></td> 
     <td style="width: 178px;height: 39px;border: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 159px;height: 39px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 262px;height: 39px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">weitere <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">claims </span>können vereinbart werden<br> </td> 
    </tr> 
    <tr> 
     <td style="width: 110px;height: 93px;border: 1px solid #CCCCCC;padding: 5px;"><span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">idp_iss</span></td> 
     <td style="width: 178px;height: 93px;border: 1px solid #CCCCCC;padding: 5px;">URL</td> 
     <td style="width: 159px;height: 93px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">"https://idp4711.de"</td> 
     <td style="width: 262px;height: 93px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">nicht Standard Parameter<br> iss URL des IDP den der Nutzer für die Authentisierung ausgewählt hat.<br> Optional - nötig, wenn Auswahl des IDP im Frontend passiert.<br> </td> 
    </tr> 
   </tbody> 
  </table>
  <p id="polarion_420"> <span style="font-weight: bold;">(1-a) Falls der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes das Entity Statement des IDP noch nicht kennt, lädt er dies herunter</span> </p>
  <p id="polarion_631">Request analog App-zu-App Flow (1a).</p>
  <p id="polarion_422"> <span style="font-weight: bold;">(1-b) Der IDP sendet sein Entity Statement zurück</span> </p>
  <p id="polarion_632">Response analog App-zu-App Flow (1b)</p>
  <p id="polarion_423" style="margin-left: 0px;"> <span style="font-weight: bold;">signed_jwks_uri</span> </p>
  <p id="polarion_633" style="margin-left: 0px;"> Die Werte sind analog zu&nbsp;<span style="font-size: 10pt;line-height: 1.5;">App-zu-App Flow (1-signed_jwks_uri).</span> </p>
  <p id="polarion_424"> <span style="font-weight: bold;">(1-c) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes ruft das Entity Statement zum IDP beim Federation Master ab</span> </p>
  <p id="polarion_635">Request analog App-zu-App Flow (1c).</p>
  <p id="polarion_426"> <span style="font-weight: bold;">(1-d) Der Federation Master sendet sein Entity Statement über den angefragten sektoralen IDP zurück</span> </p>
  <p id="polarion_637">Response analog App-zu-App Flow (1d).</p>
  <p id="polarion_428"> <span style="font-weight: bold;">(2) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes sendet ein Pushed Authorization Request an den Authentication-Endpunkt (Auth ES) des sektoralen IDP</span> </p>
  <p id="polarion_639"> HTTP-POST analog&nbsp;App-zu-App Flow (2) inclusive TLS Clientauthentisierung.<span id="polarion-comment:1658"></span> </p>
  <p id="polarion_432"> <span style="font-weight: bold;">(2-a) Falls der IDP das Entity Statement des <span style="font-size: 10pt;line-height: 1.5;">Authorization-Servers&nbsp;</span>des Fachdienstes noch nicht kennt, lädt er dies herunter</span> </p>
  <p id="polarion_642">Request analog zu&nbsp;App-zu-App Flow (2a).</p>
  <p id="polarion_434"> <span style="font-weight: bold;">(2-b) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes sendet sein Entity Statement zurück und der IDP registriert ihn als Client</span> </p>
  <p id="polarion_643">Response analog zu App-zu-App Flow (2b).</p>
  <p id="polarion_435" style="margin-left: 0px;"> <span style="font-weight: bold;">signed_jwks_uri</span> </p>
  <p id="polarion_645" style="margin-left: 0px;"> Die Werte sind analog zu&nbsp;<span style="font-size: 10pt;line-height: 1.5;">App-zu-App Flow (2b-signed_jwks_uri).</span> </p>
  <p id="polarion_436"> <span style="font-weight: bold;">(2-c) Abruf des Entity Statement zum Fachdienst beim Federation Master</span> </p>
  <p id="polarion_647">Request analog zu App-zu-App Flow (2c).</p>
  <p id="polarion_437"> <span style="font-weight: bold;">(2-d) Der Federation Master sendet sein Entity Statement über den Fachdienst zurück</span> </p>
  <p id="polarion_649">Response analog&nbsp;zu App-zu-App Flow (2d).</p>
  <p id="polarion_438"> <span style="font-weight: bold;">(3) Der Authentication-Endpunkt (Auth EP) des sektoralen IDP antwortet dem AS des Fachdienstes mit einer Request URI</span> </p>
  <p id="polarion_651">Response analog&nbsp;zu&nbsp;App-zu-App Flow (3).</p>
  <p id="polarion_439"> <span style="font-weight: bold;">(4) Der Authorization-Server des Fachdienstes antwortet dem Frontend mit einem redirect und seiner Request URI</span> </p>
  <p id="polarion_652"> Abweichend vom App/App-Flow läuft der Redirect zum <span style="color: #172B4D;">Web-Frontend</span>. </p>
  <p id="polarion_653">Redirect analog zu App-zu-App Flow (4).</p>
  <p id="polarion_440"> <span style="font-weight: bold;">(5) Das Web-Frontend sendet den Authentication Request an die URI des IDP und leitet ihn somit an das Authenticator-Modul weiter</span> </p>
  <p id="polarion_655">HTTP-GET analog&nbsp;zu&nbsp;App-zu-App Flow (5).</p>
  <p id="polarion_441"> <span style="font-weight: bold;">(6) Das Authenticator-Modul leitet den Authentication Request an den IDP weiter (proprietär)</span> </p>
  <p id="polarion_657"> Die Schritte zur Nutzer-Authentifizierung und zur Erstellung des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>durch den IDP sind anwendungsspezifisch und werden hier nicht weiter spezifiziert. </p>
  <p id="polarion_443"> <span style="font-weight: bold;">(7) Der Authorization-Endpunkt des sektoralen IDP antwortet dem Authenticator-Modul mit einem Redirect zum Fachdienst (proprietär)</span> </p>
  <p id="polarion_658">Redirect analog zu App-zu-App Flow (7).</p>
  <p id="polarion_444"> <span style="font-weight: bold;">(8) Das Authenticator-Modul des IDP ruft über die Redirect-URL den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes auf und übergibt den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span></span> </p>
  <p id="polarion_660"> Abweichend vom App/App Flow führt das Authenticator-Modul des IDP den Redirect zum Authorization-<span style="font-size: 10pt;line-height: 1.5;">Server&nbsp;</span>des Fachdienstes aus<span style="font-weight: bold;">&nbsp;</span>und übergibt den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>. Der Request wird mit einem HTTP-OK quittiert.<span id="polarion-comment:1662"></span> </p>
  <p id="polarion_662"> <span style="color: #172B4D;">HTTP-POST analog zu App-zu-App Flow (9).</span> </p>
  <p id="polarion_445"> <span style="font-weight: bold;">(9) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>reicht den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span> beim Token-Endpunkt des IDP ein</span> </p>
  <p id="polarion_664"> HTTP POST <span style="color: #172B4D;">analog zu App-zu-App Flow (10)&nbsp;inclusive TLS Clientauthentisierung.<span id="polarion-comment:1659"></span></span> </p>
  <p id="polarion_447"> <span style="font-weight: bold;">(10) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>erhält vom Token-Endpunkt des IDP einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>mit den gewünschten </span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span><span style="font-weight: bold;">, der mit dem öffentlichen Schlüssel aus der Registrierung verschlüsselt ist</span> </p>
  <p id="polarion_668"> <span style="color: #172B4D;">Response analog zu App-zu-App Flow (11).</span> </p>
  <p id="polarion_448"> <span style="font-weight: bold;">(11) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes reicht das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN </span>an das Web-Backend der Anwendung weiter</span> </p>
  <p id="polarion_670"> <span style="color: #111111;">HTTP-200:</span> </p>
  <ul id="polarion_671"> 
   <li><span style="color: #111111;">Content-Type=application/json</span></li> 
   <li>Cache-Control=no-store</li> 
   <li>Pragma=no-cache.</li> 
  </ul>
  <p id="polarion_672"> <span style="color: #111111;">Die JSON-Struktur sieht so aus:</span> </p>
  <p id="polarion_673"> <span style="color: #111111;">{</span> </p>
  <p id="polarion_674"> "access_token": &lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN</span>&gt;,&nbsp; </p>
  <p id="polarion_675"> "refresh_token": &lt;<span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN</span>&gt;, </p>
  <p id="polarion_676">"token_type": "Bearer",</p>
  <p id="polarion_677">"scope": "e-rezept",&nbsp;</p>
  <p id="polarion_678"> "expires_in": 300, (Gültigkeit des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>in Sekunden,&nbsp;[The OAuth 2.0 Authorization Framework#section 4.2.2]) </p>
  <p id="polarion_679"> <span style="color: #111111;">}</span> </p>
  <p id="polarion_449"> <span style="font-weight: bold;">(12) Kommunikation Web-Frontend, Web-Backend der Anwendung und Fachdienst-API</span> </p>
  <p id="polarion_680"> Das Web-Backend persistiert <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN&nbsp;</span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN</span>. Das Web-Backend benötigt diese für die autorisierte Kommunikation mit dem Fachdienst-API. Die Kommunikation zwischen Web-Frontend und Web-Backend ist implementierungsspezifisch. <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN&nbsp;</span>und/oder <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">REFRESH_TOKEN&nbsp;</span>werden nicht an das Frontend weitergereicht. </p>
  <p id="polarion_681"> Das Web-Backend verwendet das <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN&nbsp;</span>für die Kommunikation mit dem Fachdienst-API. Das Fachdienst-API prüft den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN&nbsp;</span>bevor Anfragen entsprechend quittiert werden. </p>
  <pre id="polarion_682">GET /resource/1 HTTP/1.1 Host: example.com Authorization: Bearer &lt;ACCESS_TOKEN&gt;</pre>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-132463">7.3 Zwei-Geräte-Flow</h3>
  <p id="polarion_333">Der Zwei-Geräte-Flow beschreibt die Einzelschritte für die Authentifizierung eines Nutzers im Rahmen eines Fachdienstes wobei der Fachdienst eine App oder Web-Anwendung ist, welche auf einem anderen Gerät als&nbsp;die Authenticator-App ausgeführt wird.</p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132461">7.3.1 Vorbedingungen Zwei-Geräte-Flow</h4>
  <ul id="polarion_334"> 
   <li>Registrierung des Fachdienstes als Relying Party (RP) beim Federation Master</li> 
   <li>Registrierung des App-Link/Universal-Link für das Authenticator-Modul des IDP auf dem Gerät des Nutzers (auf Adresse des IDP) - oder anfragen über Web.</li> 
   <li>Aktueller Signaturschlüssel des Federation Master ist bekannt und vertrauenswürdig bei IDP und Fachdienst eingebracht worden.</li> 
   <li>Sektorale IDP ist Teil des TI-Vertrauensraums und beim Federation Master registriert.</li> 
   <li>Der Fachdienst besitzt ein Web-Backend welches Anwendungslogik realisiert.</li> 
   <li>Authenticator-Modul des IDP (App) läuft auf einem anderen Gerät als der Fachdienst (z. B. App → Smartphone, Anwendung → PC-Browser)</li> 
  </ul>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132459">7.3.2 Flow-Diagramm Zwei-Geräte-Flow</h4>
  <p id="polarion_335" style="text-align: center;" data-keep-next="true"> <img src="attachments/Zwei-Geraete-Flow.png" style="max-width: 650px;" data-lastmodified="2022-05-17T07:49:30.001+02:00"> </p>
  <p id="polarion_260" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">9</span> : Zwei-Geräte-Flow<span id="polarion-comment:1294"></span> </p>
  <p id="polarion_336"></p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132457">7.3.3 Ablaufbeschreibung Zwei-Geräte-Flow</h4>
  <p id="polarion_281" style="text-align: left;" data-keep-next="true" class="polarion-rte-caption-paragraph"> Tabelle <span data-sequence="Tabelle" class="polarion-rte-caption">42</span> : Ablaufbeschreibung Zwei-Geräte-Flow </p>
  <table id="polarion_wiki macro name=table;params=width=100%|uid=337" class="polarion-Document-table" style="width: 100%;margin-left: auto;margin-right: auto;border: 1px solid #CCCCCC;empty-cells: show;"> 
   <tbody> 
    <tr> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 53px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schritt</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 76px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Teilschritt</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 61px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Gerät</th> 
     <th style="background-color: #F0F0F0;text-align: left;vertical-align: top;width: 519px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Beschreibung</th> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 150.755px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">0</td> 
     <td style="width: 76px;height: 150.755px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 150.755px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 519px;height: 150.755px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"> 
      <ul> 
       <li>Abruf der Schlüssel des Federation Master</li> 
       <li>Flow zur Auswahl des IDP </li> 
       <ul> 
        <li>Die Auswahl des richtigen IDP ist optional. Ist der IDP bekannt (z. B. durch eine frühere Autorisierung) entfällt der Schritt</li> 
        <li>Es gibt unterschiedliche Möglichkeiten den Ablauf der IDP-Ermittlung zu gestalten. Spätestens zum Schritt (1a) muss der Ziel-IDP bekannt sein </li> 
       </ul> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"> Schnittstellendetails analog&nbsp;Web-zu-App Flow (1) <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1-a</td> 
     <td style="width: 61px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"> Schnittstellendetails analog&nbsp;App-zu-App Flow (1a) <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1-b</td> 
     <td style="width: 61px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (1b)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1-c</td> 
     <td style="width: 61px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (1c)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1-d</td> 
     <td style="width: 61px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (1d)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2&nbsp;</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2-a</td> 
     <td style="width: 61px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 24px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2a)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2-b</td> 
     <td style="width: 61px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2b)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2-c</td> 
     <td style="width: 61px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 23px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2c)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2-d</td> 
     <td style="width: 61px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 22px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (2d)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">3</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (3)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">4</td> 
     <td style="width: 76px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>antwortet dem Web-Backend mit Request-URI und Client ID zur Weiterleitung über das Anwendungsfrontend an die Adresse des&nbsp;<span style="color: #172B4D;">Authenticator des</span>&nbsp;IDP.</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">5</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Das Web-Backend leitet den Redirect an das <span style="color: #172B4D;">Anwendungsfrontend weiter.</span></td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">6</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Das Anwendungsfrontend öffnet die Web-Anwendung des IDP für den Authentifikationsprozess.</span></td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">6a</td> 
     <td style="width: 61px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 519px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Das Web-Frontend des IDP erfragt die Zugangsinformationen und ggf. Consent-Freigabe für die anfragende Anwendung beim Nutzer (1. Faktor, z. B. user/password)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 21px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 21px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">6b</td> 
     <td style="width: 61px;height: 21px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 21px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Der Nutzer übermittelt seine Credentials an den IDP.</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 53.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 53.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">6c</td> 
     <td style="width: 61px;height: 53.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">2</td> 
     <td style="width: 519px;height: 53.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Der IDP kann das Authenticator-Modul des IDP (z. B. 2FA) mit in den Prozess einbinden. Dazu sendet der IDP entweder eine push-Nachricht an die Authenticator-App oder fordert den Nutzer zum Start der Authenticator-App auf.</span></td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 76px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">6d</td> 
     <td style="width: 61px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Der Nutzer tätigt die notwendigen Aktivitäten zur Authentifizierung über <span style="color: #172B4D;">das Authenticator-Modul des IDP.&nbsp;</span></td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">7</td> 
     <td style="width: 76px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 519px;height: 38.9844px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Der Authorization-Endpunkt des IDP antwortet dem Aufruf des Anwendungsfrontend (Schritt 6) mit dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE&nbsp;</span>und einem Redirect zum Fachdienst.</span><br> </td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">8</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Die Anwendungsfrontend leitet den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>(IDP) an sein Web-Backend weiter.</span></td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">9</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><span style="color: #172B4D;">Das Web-Backend leitet den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>(IDP) an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>(redirected uri)</span></td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">10</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;App-zu-App Flow (10)</td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">11</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"> Schnittstellendetails analog&nbsp;App-zu-App Flow (11) <br> </td> 
    </tr> 
    <tr> 
     <td style="width: 53px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">12</td> 
     <td style="width: 76px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;"><br> </td> 
     <td style="width: 61px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">1</td> 
     <td style="width: 519px;height: 19.4922px;border: 1px solid #CCCCCC;border-top: 1px solid #CCCCCC;border-bottom: 1px solid #CCCCCC;border-right: 1px solid #CCCCCC;border-left: 1px solid #CCCCCC;padding: 5px;">Schnittstellendetails analog&nbsp;Web-zu-App Flow (11)</td> 
    </tr> 
   </tbody> 
  </table>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132521">7.3.4 Detailinformationen zum Zwei-Geräte-Flow</h4>
  <p id="polarion_450"> <span style="font-weight: bold;">(1) Authorization Request von Web-Backend zum Authentication-Endpunkt (Auth ES) des <span style="font-size: 10pt;line-height: 1.5;">Authorization-Servers&nbsp;</span>des Fachdienstes</span> </p>
  <ul id="polarion_684"> 
   <li>Web-Anwendung → Request analog&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Web-zu-App Flow (1).</span></li> 
  </ul>
  <p id="polarion_451"> <span style="font-weight: bold;">(1-a) Falls der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes das Entity Statement des IDP noch nicht kennt, lädt er dies herunter</span> </p>
  <p id="polarion_685">Request analog zu App-zu-App Flow (1a).</p>
  <p id="polarion_452"> <span style="font-weight: bold;">(1-b) Der IDP sendet sein Entity Statement zurück</span> </p>
  <p id="polarion_686">Response analog zu App-zu-App Flow (1b).</p>
  <p id="polarion_454" style="margin-left: 0px;"> <span style="font-weight: bold;">signed_jwks_uri</span> </p>
  <p id="polarion_687" style="margin-left: 0px;"> Die Werte sind analog zu&nbsp;<span style="font-size: 10pt;line-height: 1.5;">App-zu-App Flow (1-signed_jwks_uri).</span> </p>
  <p id="polarion_688"> <span style="font-weight: bold;">(1-c) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes ruft das Entity Statement zum IDP beim Federation Master ab</span> </p>
  <p id="polarion_689">Request analog zu App-zu-App Flow (1c).</p>
  <p id="polarion_455"> <span style="font-weight: bold;">(1-d) Der Federation Master sendet sein Entity Statement über den angefragten sektoralen IDP zurück</span> </p>
  <p id="polarion_690">Response analog zu App-zu-App Flow (1d).</p>
  <p id="polarion_456"> <span style="font-weight: bold;">(2) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes sendet ein Pushed Authorization Request an den Authentication-Endpunkt (Auth ES) des sektoralen IDP</span> </p>
  <p id="polarion_691"> HTTP-POST analog zu App-zu-App Flow (2)&nbsp;inclusive TLS Clientauthentisierung.<span id="polarion-comment:1660"></span> </p>
  <p id="polarion_457"> <span style="font-weight: bold;">(2-a) Falls der IDP das Entity Statement des <span style="font-size: 10pt;line-height: 1.5;">Authorization-Servers&nbsp;</span>des Fachdienstes noch nicht kennt, lädt er dies herunter</span> </p>
  <p id="polarion_694">Request analog zu App-zu-App Flow (2a):</p>
  <p id="polarion_695"> <span style="font-weight: bold;">(2-b) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes sendet sein Entity Statement zurück und der IDP registriert ihn als Client</span> </p>
  <p id="polarion_696">Response analog zu App-zu-App Flow (2b).</p>
  <p id="polarion_697" style="margin-left: 0px;"> <span style="font-weight: bold;">signed_jwks_uri</span> </p>
  <p id="polarion_698" style="margin-left: 0px;"> Die Werte sind analog zu&nbsp;<span style="font-size: 10pt;line-height: 1.5;">App-zu-App Flow (2b-signed_jwks_uri).</span> </p>
  <p id="polarion_699"> <span style="font-weight: bold;">(2-c) Abruf des Entity Statement zum Fachdienst beim Federation Master</span> </p>
  <p id="polarion_700">Request analog zu App-zu-App Flow (2c).</p>
  <p id="polarion_460"> <span style="font-weight: bold;">(2-d) Der Federation Master sendet sein Entity Statement über den Fachdienst zurück</span> </p>
  <p id="polarion_701">Response analog zu App-zu-App Flow (2d).</p>
  <p id="polarion_462"> <span style="font-weight: bold;">(3) Der Authentication-Endpunkt (Auth EP) des sektoralen IDP antwortet dem AS des Fachdienstes mit einer Request URI</span> </p>
  <p id="polarion_703">Response analog zu App-zu-App Flow (3).</p>
  <p id="polarion_464"> <span style="font-weight: bold;">(4) Der Authorization-Server des Fachdienstes antwortet dem Web-Backend mit einem redirect und seiner Request URI</span> </p>
  <p id="polarion_705"> Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>antwortet dem Web-Backend mit Request-URI und Client ID zur Weiterleitung über das Anwendungsfrontend an die Adresse des&nbsp;Authenticator des&nbsp;IDP. </p>
  <p id="polarion_465"> <span style="font-weight: bold;">(5) Das Web-Backend antwortet dem Frontend mit einem redirect und seiner Request URI</span> </p>
  <p id="polarion_706"> Das&nbsp;Web-Backend leitet den Redirect an das&nbsp;<span style="color: #172B4D;">Anwendungsfrontend weiter.</span> </p>
  <p id="polarion_466"> <span style="font-weight: bold;">(6) Das Web-Frontend öffnet die URI und damit eine Authentifizierungsseite des IDP</span> </p>
  <p id="polarion_707">HTTP-GET analog zu App-zu-App Flow (5)&nbsp;- allerdings gibt es in diesem Fall eben kein Authenticator-Modul des sektoralen IDP auf dem Gerät und daher wird unter der Adresse eine Authentifizierungsseite im Browser geöffnet.</p>
  <p id="polarion_467"> <span style="font-weight: bold;">(6a-d) Anwender authentifiziert sich nach dem Verfahren des IDP</span> </p>
  <p id="polarion_708"> Der Anwender authentifiziert sich nach dem Verfahren des IDP. Dabei kann als 2. Faktor eine Authenticator-App auf einem&nbsp;<span style="font-weight: normal;text-decoration: underline;">2. Gerät</span>&nbsp;verwendet werden. </p>
  <p id="polarion_709">Beispielablauf:</p>
  <p id="polarion_710" style="margin-left: 40px;">6a) IDP Login-Seite im Browser Gerät 1 → Identifikation des Nutzers (möglicherweise/ratsam über ersten Faktor z. B. Name/Passwort)</p>
  <p id="polarion_711" style="margin-left: 40px;">6b) IDP → Prüfung der Credentials (Optional, wenn 1 Faktor genutzt)</p>
  <p id="polarion_712" style="margin-left: 40px;">6c) Initiierung des 2. Faktor durch Aufforderung an den Anwender zum Öffnen des Authenticator-Moduls auf einem 2. Gerät oder durch ein push des IDP auf das Gerät mit dem Authenticator-Modul</p>
  <p id="polarion_713" style="margin-left: 40px;"> 6d)&nbsp;<span style="font-weight: normal;text-decoration: underline;">Authenticator-Modul Gerät 2</span>&nbsp;→ IDP → Abschluss der Authentisierung </p>
  <p id="polarion_714">Der Nutzer könnte auch einen Code vom IDP gezeigt bekommen im Schritt 6a und tippt/scannt diesem im Authenticator-Modul ein. Auch dies kann eine Kopplung der App zum Prozess beim IDP herstellen.&nbsp;</p>
  <p id="polarion_715">Varianten gibt es verschiedene aber es muss klar sein zu welcher Session (Request URI) beim IDP diese Authentisierung gehört.</p>
  <p id="polarion_468"> <span style="font-weight: bold;">(7) Der Authorization-Endpunkt des sektoralen IDP antwortet dem Web-Frontend (Browser) mit einem Redirect zum Fachdienst</span> </p>
  <p id="polarion_716"> <span style="color: #172B4D;">Die Authentifizierungsseite des Authorization-Endpunktes des sektoralen IDP reagiert und sendet dem Web-Frontend einen Redirect zum Fachdienst und den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span>.</span> </p>
  <p id="polarion_717"> <span style="color: #172B4D;">Redirect analog zu App-zu-App Flow (7).<span id="polarion-comment:1137"></span></span> </p>
  <p id="polarion_469"> <span style="font-weight: bold;">(8) Das Web-Frontend (Browser) leitet den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>an das Web-Backend der Anwendung weiter</span> </p>
  <p id="polarion_719"> <span style="color: #172B4D;">Das Anwendungsfrontend gibt die Information mit dem <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE&nbsp;</span>an das Web-Backend der Anwendung weiter.</span> </p>
  <p id="polarion_470"> <span style="font-weight: bold;">(9) Das Web-Backend der Anwendung leitet den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE </span>an den <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>des Fachdienstes</span> </p>
  <p id="polarion_720"> HTTP-POST analog zu App-zu-App Flow (9).<span id="polarion-comment:1138"></span> </p>
  <p id="polarion_471"> <span style="font-weight: bold;">(10) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>reicht den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">AUTHORIZATION_CODE</span> und den <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">CODE_VERIFIER</span> beim Token-Endpunkt des IDP ein</span> </p>
  <p id="polarion_722"> HTTP-POST analog zu App-zu-App Flow (10)&nbsp;inclusive TLS Clientauthentisierung.<span id="polarion-comment:1661"></span> </p>
  <p id="polarion_472" style="margin-left: 0px;"> <span style="font-weight: bold;">(11) Der <span style="font-size: 10pt;line-height: 1.5;">Authorization-Server&nbsp;</span>erhält vom Token-Endpunkt des IDP einen <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ID_TOKEN </span>und <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>mit den gewünschten </span><span style="font-weight: bold;font-family: 'Courier New', Courier, monospace, HanWangKanTan;">scopes</span><span style="font-weight: bold;">, der mit dem öffentlichen Schlüssel aus der Registrierung verschlüsselt ist</span> </p>
  <p id="polarion_726"> <span style="color: #172B4D;">Response analog zu&nbsp;<span style="font-size: 10pt;line-height: 1.5;">App-zu-App Flow (11).</span></span> </p>
  <p id="polarion_474"> <span style="font-weight: bold;">(12) Einlösen des <span style="font-family: 'Courier New', Courier, monospace, HanWangKanTan;">ACCESS_TOKEN </span>und Datenabruf</span> </p>
  <ul id="polarion_728"> 
   <li>Web-Anwendung → weiterer Ablauf analog ab&nbsp;<span style="font-size: 10pt;line-height: 1.5;">Web-zu-App Flow (11).</span></li> 
  </ul>
  <h2 id="polarion_wiki macro name=module-workitem;params=id=ML-132705">8 Anhang C - Möglicher Aufbau einer VAU (informativ)</h2>
  <p id="polarion_763"> <span id="polarion-comment:1367"></span><span style="color: #000000;">Anhang C trägt informativen Charakter und stellt Möglichkeiten zum Aufbau einer Vertrauenswürdigen Ausführungsumgebung VAU vor. Die Standalone-Lösung (Kapitel 8.1) orientiert sich in weiten Teilen an der Umsetzung der VAU wie es aktuell erfolgreich für das E-Rezept im Einsatz ist. Im Kapitel 8.2 soll perspektivisch ein Umsetzungsvorschlag einer VAU für eine Cloudinfrastruktur erstellt werden. Hier sind allerdings noch grundlegende Vorarbeiten notwendig.<span id="polarion-comment:1666"></span></span> </p>
  <p id="polarion_219"> <span style="font-size: 10pt;line-height: 1.5;">Der Schutzbedarf der durch den sektoralen IDP verarbeiteten Daten und der Zugriff auf&nbsp;personenbezogene medizinische Daten der durch ihn ermöglicht wird&nbsp;erfordert einen spezifischen Systemaufbau des Dienstes, durch den ein unberechtigter Zugriff auf diese Daten nicht nur über das Internet, sondern auch aus dem Betriebsumfeld des Betreibers (z. B. durch einen oder mehrere Mitarbeiter des Betreibers), technisch ausgeschlossen wird.</span> </p>
  <p id="polarion_235"> <span style="font-size: 10pt;line-height: 1.5;">Der Systemaufbau des sektoralen IDP ist darüber hinaus dadurch bestimmt, dass die Verfügbarkeit des Dienstes für einzelne Mandanten (Kostenträger) erhalten bleiben muss, auch wenn die Verfügbarkeit für andere Mandanten z. B. durch unerwartet hohe Aktivität eingeschränkt wird.</span> </p>
  <p id="polarion_243"> <span style="font-size: 10pt;line-height: 1.5;">Zum Ausschluss von Software-Manipulationen muss das ausführende System für den Verarbeitungskontext der VAU attestiert werden.&nbsp;</span>Es wird davon ausgegangen, dass die in der VAU eingesetzte Software im Rahmen der Zulassung und anschließend mit jeder Änderung durch unabhängige Begutachtung abgesichert ist. Bekannte Software-Stände werden registriert und damit attestierbar. Die Systeme bieten Hardware-basierte Unterstützung für die authentifizierbare Messung aller geladenen Software (Firmware, Bootloader, OS, Anwendungssoftware, Enklaven-Software) und lassen sich auf der Grundlage so ermittelter Messungen attestieren. Die Attestation als Teil des Boot-Vorgangs und als Voraussetzung zur Erlangung einer gültigen Service-Identität stellt damit sicher, dass nur aktuelle und geprüfte Systeme von Nutzern angesprochen werden können. </p>
  <p id="polarion_299">Die Nutzung von Technologien wie Intel SGX dient der Verkleinerung der Angriffsfläche gegen die Software durch Hardware-basierte Mechanismen, z. B. zur individuellen Verschlüsselung des Arbeitsspeichers eines Prozesses, um Angriffe abzuwehren, die aus einer&nbsp;fehlerbehafteten&nbsp;Speicherverwaltung resultieren können. Leider decken diese Mechanismen nicht alle denkbaren Angriffe gegen den geschützt ausgeführten Code zuverlässig ab. Es werden immer wieder neue Side Channel Angriffe entdeckt, die aus dem Kontext des Betriebssystems auch gegen Enklaven eingesetzt werden könnten. Daher wird auch sämtliche Software außerhalb der Enklave in den Attestationsprozess eingebunden, sodass zur Laufzeit kein Angriffscode eingeschleust werden kann. Dies reduziert den für die Erkennung von möglichen Schwachstellen erforderlichen Aufwand im Rahmen der Begutachtung.</p>
  <h3 id="polarion_wiki macro name=module-workitem;params=id=ML-132990">8.1 Standalone</h3>
  <p id="polarion_530"> <span id="polarion-comment:1368"></span> </p>
  <p id="polarion_476"> <span style="font-size: 10pt;line-height: 1.5;">Der Betreiber&nbsp;des sektoralen IDP stellt pro Instanz<span id="polarion-comment:1377"></span> eine dedizierte Hardware-Umgebung zur Ausführung des Dienstes bereit. Empfehlungen der gematik zum Aufbau dieser Instanzen sind im Folgenden beschrieben. </span> </p>
  <p id="polarion_305"> <span style="font-size: 10pt;line-height: 1.5;">Eine Instanz besteht aus:<span id="polarion-comment:1063"></span></span> </p>
  <ol id="polarion_36"> 
   <li> <span style="font-size: 10pt;line-height: 1.5;">einem Load Balancer, der die Rolle der in [gemSpec_IDP_Sek], Kap. 4.2<span id="polarion-comment:1064"></span> <span id="polarion-comment:1065"></span>festgelegten Eingangspunkte&nbsp;erfüllt:</span></li> 
   <ul> 
    <li><span style="font-size: 10pt;line-height: 1.5;">Endpunkt für Pushed Authorization Requests</span></li> 
    <li><span style="font-size: 10pt;line-height: 1.5;">Endpunkt für Authorization Request</span></li> 
    <li><span style="font-size: 10pt;line-height: 1.5;">Token-Endpunkt</span></li> 
    <li><span style="font-size: 10pt;line-height: 1.5;">Endpunkt für Datensynchronisation mit Bestandssystem&nbsp;</span></li> 
   </ul> 
   <li><span style="font-size: 10pt;line-height: 1.5;">einer Konfiguration von Servern, die eine Vertrauenswürdige Ausführungsumgebung gemäß [gemSpec_IDP_Sek], Kap. 3.2 bilden – dies umfasst ein HSM für die Attestation der Server und die Handhabung des privaten Schlüssels der Identität der VAU - und</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;">einem Datenbanksystem zur Aufnahme sämtlicher persistenter Daten der Anwendung in verschlüsselter Form.</span></li> 
  </ol>
  <p id="polarion_765"> <br> <span style="font-size: 10pt;line-height: 1.5;">Der Betreiber&nbsp;des sektoralen IDP wird sämtliche Systeme unterbrechungsfrei mit Strom versorgen.</span> </p>
  <p id="polarion_83"></p>
  <p id="polarion_137"> <span style="font-size: 10pt;line-height: 1.5;">Die folgende Abbildung zeigt den Aufbau einer Instanz der sektoralen IDP im Überblick:</span> </p>
  <p id="polarion_148" style="text-align: center;"> <img src="attachments/VAU-Struktur.drawio.png" style="width: 230px;height: 400px;" data-lastmodified="2022-06-03T11:45:57.464+02:00"> </p>
  <p id="polarion_240" style="text-align: center;" class="polarion-rte-caption-paragraph"> Abbildung <span data-sequence="Abbildung" class="polarion-rte-caption">10</span> : 3.2.6&nbsp;Umsetzungsempfehlungen<span id="polarion-comment:1158"></span> für die Vertrauenswürdige Ausführungsumgebung </p>
  <p id="polarion_611"></p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132708">8.1.1 Load Balancer</h4>
  <p id="polarion_82"> <span id="polarion-comment:1412"></span> </p>
  <p id="polarion_277"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP realisiert die Netzanbindung der Server-Systeme des sektoralen IDP über einen Load Balancer mit folgenden Geräte- und Konfigurationseigenschaften:</span> </p>
  <ul id="polarion_116"> 
   <li> <span style="font-size: 10pt;line-height: 1.5;">Netzanbindung: Der Load Balancer verfügt über öffentlich adressierbaren IP-Adressen. Die Anzahl der jeweils konfigurierten IP-Adressen ist so gewählt, dass die maximale Anzahl gleichzeitiger Client-Verbindungen, die sich aus dem angegebenen Mengengerüst ableitet, ermöglicht wird.</span></li> 
   <li> <span style="font-size: 10pt;line-height: 1.5;">Abwehr von DDoS-Angriffen: Der Load Balancer kann in die Abwehr von DDoS-Angriffen eingebunden sein (z. B. für die Abwehr von Syn-Flooding) und als Teil einer umfassenden (vorgelagerten) Infrastruktur zur Abwehr solcher Angriffe an der Limitierung von Netzverkehr mitwirken bzw. zur Angriffserkennung Meldungen über ungültige Aufrufe an die vorgelagerte Abwehr-Infrastruktur senden.</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;">Protokollierung: Der Load Balancer protokolliert alle für die Überwachung seines betrieblichen Zustands durch den Anbieter erforderlichen Daten.</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;">Stromversorgung: Der Load Balancer ist mit einer zweifach redundanten Stromversorgung ausgestattet.</span><br> </li> 
  </ul>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132706">8.1.2 Anwendungsserver und zugehörige Infrastruktur</h4>
  <p id="polarion_176"> <span style="font-size: 10pt;line-height: 1.5;">Dem Schutzbedarf der im sektoralen IDP unverschlüsselt verarbeiteten Daten wird durch den Einsatz einer Vertrauenswürdigen Ausführungsumgebung (VAU) gemäß [gemSpec_IDP_Sek], Kap. 3.2 Rechnung getragen. Das in diesem Abschnitt beschriebene Subsystem des sektoralen IDP stellt die vertrauenswürdige Ausführungsumgebung dar.<br> Der Anbieter des sektoralen IDP stellt sämtliche Anwendungsserver auf denen die fachliche Logik des sektoralen IDP ausgeführt wird (VAU-Server), das HSM zur Attestation dieser Anwendungsserver und zur Bereitstellung und Anwendung des privaten Schlüssels der Dienstidentität des sektoralen IDP sowie sämtliche Komponenten zur Vernetzung der VAU-Server und des HSM in einem oder mehreren Serverschränken (VAU-Serverschränken) bereit. Ein VAU-Serverschrank ist ein Serverschrank der Schutzklasse WK 4, der zusätzlich mit folgenden Sicherheitsvorkehrungen ausgestattet ist:</span> </p>
  <ul id="polarion_177"> 
   <li><span style="font-size: 10pt;line-height: 1.5;"> einer Abschirmung gegen elektromagnetische Abstrahlung insoweit diese geeignet ist, Daten aus der Verarbeitung innerhalb des Serverschranks von außerhalb des Serverschranks zu extrahieren,</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;"> einem verstärkten Türschloss zur gegenüber Schutzklasse WK 4 verbesserten Abwehr bzw. Verzögerung von Versuchen zum gewaltsamen Eindringen in den Schrank,</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;">einem Türsensor, der im Falle eines unautorisierten Öffnens der Schranktür die Stromzufuhr aller im Schrank verbauten Systeme sofort unterbricht,&nbsp;</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;">einem Mechanismus zur Alarmierung bei unautorisierter Öffnung sowie</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;"><span style="color: #242424;">ein&nbsp;Zugang von Mitarbeitern des Anbieters des sektoralen IDP zum Schrank kann nicht unkontrolliert erfolgen.</span><br> Der Anbieter des sektoralen IDP richtet die VAU-Serverschränke so ein, dass mehrere Gruppen von VAU-Servern verfügbar sind wie im Folgenden beschrieben:&nbsp;<br> Jede Gruppe von VAU-Servern besteht aus mindestens 2 physisch separaten VAU-Servern. Die Anzahl der VAU-Server für jede Gruppe wird darüber hinaus durch die Lastanforderungen (für die jeweilige Gruppe) bestimmt. Die verschiedenen Gruppen von VAU-Servern sind jeweils verschiedenen Mandanten des sektoralen IDP zugeordnet:<span id="polarion-comment:1314"></span></span></li> 
  </ul>
  <ul id="polarion_261"> 
   <li><span style="font-size: 10pt;line-height: 1.5;"> Die physische Trennung der VAU-Server dient der Sicherstellung der Verfügbarkeit des sektoralen IDP für die verschiedenen Mandanten im Falle einer (z. B. überlastbedingten) Einschränkung der Verfügbarkeit des sektoralen IDP.</span></li> 
  </ul>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132707">8.1.3 Vernetzung Load-Balancer/VAU-Server</h4>
  <p id="polarion_744"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP vernetzt die VAU-Server mit dem Load Balancer wie im Folgenden beschrieben:</span><br> <span style="font-size: 10pt;line-height: 1.5;">Die Zuführung der Netzwerkverbindungen für Zugriffe aus dem Internet zu den VAU-Servern erfolgt über den Load Balancer und von diesem ausgehend über einen Switch und eine Firewall (Eingangs-Switch, bei mehreren VAU-Serverschränken Eingangs-Switches und Firewalls) innerhalb des VAU-Serverschranks. Der Eingangs-Switch, die Firewall und die VAU-Server sind so konfiguriert, dass jede der VAU-Servergruppen ein eigenes Subnetz bildet,<span id="polarion-comment:1077"></span> dass VAU-Server keine Netzverbindungen untereinander aufbauen können und dass sämtlicher nicht vorgesehener Netzverkehr blockiert wird.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Den VAU-Servern sind die für die Anwendungsfunktionalität erforderlichen mandantenspezifischen URLs zugeordnet. Der Load Balancer ist so konfiguriert, dass er die Verteilung der Requests auf die VAU-Server aufgrund der URLs der Requests vornehmen kann.<span id="polarion-comment:1076"></span> Der Load Balancer ist weiterhin so konfiguriert, dass er die Verteilung der Requests auf die einzelnen VAU-Server im Round-Robin-Verfahren vornehmen kann.<span id="polarion-comment:1075"></span></span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132709">8.1.4 Vernetzung VAU-Server/HSM</h4>
  <p id="polarion_745"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP vernetzt die VAU-Server mit dem HSM im VAU-Serverschrank wie im Folgenden beschrieben:</span><br> <span style="font-size: 10pt;line-height: 1.5;">Alle VAU-Server sind individuell (über ein zweites Netzwerk-Interface der VAU-Server und einen zweiten Switch (HSM-Switch) innerhalb des VAU-Serverschranks) mit dem HSM vernetzt. Diese Vernetzung innerhalb des VAU-Serverschranks darf physisch und logisch nur VAU-Server und das HSM umfassen.&nbsp;</span><br> <span style="font-size: 10pt;line-height: 1.5;">Falls mehr als ein VAU-Serverschrank für eine Instanz des sektoralen IDP erforderlich ist, darf ein einzelnes HSM in nur einem der VAU-Serverschränke von VAU-Servern in den weiteren VAU-Serverschränken mit genutzt werden. In diesem Fall muss die Vernetzung zwischen den Serverschränken als eine Switch-zu-Switch-Verbindung zwischen den dedizierten VAU-Server/HSM Netzen in den einzelnen VAU-Serverschränken ausgeführt sein. Der physische Aufbau der VAU-Serverschränke muss es dabei ausschließen, dass das Verbindungkabel von außerhalb der VAU-Serverschränke manipulierbar ist.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Der HSM-Switch (bei mehreren VAU-Serverschränken die HSM-Switches) und die VAU-Server sind so konfiguriert, dass VAU-Server keine Netzverbindungen untereinander aufbauen können.</span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132719">8.1.5 Vernetzung VAU-Server/Datenbankserver</h4>
  <p id="polarion_746"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP vernetzt die VAU-Server mit der außerhalb der VAU betriebenen Datenbank wie im Folgenden beschrieben:</span><br> <span style="font-size: 10pt;line-height: 1.5;">Alle VAU-Server sind über ein drittes Netzwerk-Interface der VAU-Server und einen dritten Switch (Ausgangs-Switch) und eine Firewall innerhalb des VAU-Serverschranks mit dem Datenbankserver vernetzt.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Der Ausgangs-Switch und die Firewall (bei mehreren VAU-Serverschränken die Ausgangs-Switches und die Firewalls) und die VAU-Server sind so konfiguriert, dass VAU-Server keine Netzverbindungen untereinander aufbauen können und sämtlicher nicht vorgesehene Netzverkehr blockiert wird.</span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132715">8.1.6 Vernetzung des Management Interface mit dem internen Netz des Anbieters des sektoralen IDP</h4>
  <p id="polarion_747"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP stattet alle VAU-Serverschränke mit einem Management Interface mit niedriger Bandbreite (56kbps) aus, dass alle VAU-Server sowie das HSM erreichbar macht und nur die zwingend notwendigen betrieblichen Steuerungsmöglichkeiten zur Abfrage des elementaren Betriebszustands und für einen Start, Neustart sowie das kontrollierte Herunterfahren der Systeme anbietet.</span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132718">8.1.7 VAU-Server</h4>
  <p id="polarion_265"> <span style="font-size: 10pt;line-height: 1.5;">Die VAU-Server bilden den Kern der Vertrauenswürdigen Ausführungsumgebung. Neben ihrer grundsätzlichen Eignung als Anwendungsserver im Rechenzentrumsbetrieb, müssen VAU-Server<span id="polarion-comment:1375"></span> zur Vertrauenswürdigkeit der Datenverarbeitung im sektoralen IDP beitragen.&nbsp;</span><br> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP wird VAU-Server einsetzen, die folgende Sicherheitseigenschaften aufweisen:</span><br> </p>
  <ul id="polarion_268"> 
   <li> <span style="font-size: 10pt;line-height: 1.5;">Ein VAU-Server ist frei von Komponenten zur persistenten Speicherung von Daten mit Ausnahme der Firmware (Diskless Server).</span></li> 
   <li> <span style="font-size: 10pt;line-height: 1.5;">Ein VAU-Server verfügt über einen Boot Loader, der Boot Images über das Netzwerk laden und ihre Signatur gegen ein vorgegebenes, d. h. manipulationssicher konfiguriertes, Zertifikat prüfen kann.</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;">Ein VAU-Server unterstützt Measured Boot über die gesamte geladene Software sowie über sämtliche sicherheitsrelevanten Plattform-Konfigurationswerte (z. B. mittels eines TPM-Moduls).</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;">Ein VAU-Server unterstützt Remote Attestation in einer Form, die keine regelmäßige (d. h. bei jedem Systemstart notwendige) Einbindung von Diensten des Herstellers erfordert (z. B. dadurch, dass ein Sealing möglich ist, oder dass eine Attestation unabhängig von Diensten des Herstellers umgesetzt werden kann).</span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;">Ein VAU-Server bietet Hardware-Unterstützung für die Speicherverwaltung (MMU und IOMMU) und die benötigten kryptographischen Primitiven.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Der Einsatz des Boot Loaders mit Signaturprüfung der Boot Images dient primär dazu, das Laden ungeprüfter Softwarekomponenten zu verhindern, während die Attestation zur Sicherstellung der Integrität der Gesamtheit aus geprüfter Software und Systemkonfiguration dient.</span><br> </li> 
  </ul>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132717">8.1.8 VAU-Server Software Stack</h4>
  <p id="polarion_749"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP wird die Software auf den VAU-Servern darauf auslegen, die Sicherheitsziele für die Server zu erreichen, indem der Software Stack (d. h. die Gesamtheit aller auf den Servern geladenen Software) minimalistisch ausgelegt ist (Minimal Trusted Computing Base). Die Software ist gehärtet und bietet einen robusten Mechanismus zur Separation, mittels dessen verschiedene Aspekte der Verarbeitung auf den VAU-Servern gegeneinander isoliert werden.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP nutzt den Separationsmechanismus mindestens dazu, die System Management Funktionen zur Steuerung des Systems durch den Betreiber von der Verarbeitung der schützenswerten Daten zu trennen. Darüber hinaus soll der Anbieter des sektoralen IDP über den Separationsmechanismus eine Partitionierung umsetzen, die potenziell angreifbare Treiber und Protokolle von der Verarbeitung der schützenswerten Daten isoliert sowie die an die einzelnen Hardware-Netzwerkschnittstellen gebundenen Netzwerkfunktionen voneinander und vom Rest der Software trennt. Die Separation soll zudem dazu genutzt werden, die verschiedenen Funktionsmodule zur Ausführung der Fachlogik voneinander zu trennen. Zu beachten ist, dass trotz der Separationsmechanismen die Attestation der gesamten geladenen Software erfolgen muss.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Die Separation der einzelnen fachlichen Verarbeitungsvorgänge (Requests) innerhalb eines Funktionsmoduls voneinander kann der Anbieter des sektoralen IDP auf der Ebene der Anwendungssoftware umsetzen. Die Anwendungssoftware gehört zur Trusted Computing Base der VAU. Ihre Sicherheits- und insbesondere ihre Separationseigenschaften müssen sicherheitstechnisch bewertbar sein.<span id="polarion-comment:1072"></span></span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132713">8.1.9 Open Source Software Stack</h4>
  <p id="polarion_750"> <span style="font-size: 10pt;line-height: 1.5;">Die Vertrauenswürdigkeit der VAU soll dadurch untermauert werden,<span id="polarion-comment:1143"></span> dass VAU-Server im Rahmen des Machbaren für die Öffentlichkeit transparente Systeme darstellen. Interessierte Personen oder Organisationen müssen – die notwendige Fachkenntnis vorausgesetzt – anhand öffentlich verfügbarer Informationen in der Lage sein, im Detail nachzuvollziehen, wie die Systeme aufgebaut sind und funktionieren. Diese Nachvollziehbarkeit soll dadurch erreicht werden, dass es dem Anbieter des sektoralen IDP auferlegt wird, eine geeignete Auswahl für die technische Basis der VAU-Server zu treffen, um zu erreichen, dass die Softwarekomponenten der VAU-Server möglichst weitgehend öffentlich im Quellcode offengelegt sind.<span id="polarion-comment:1071"></span></span><br> <span style="font-size: 10pt;line-height: 1.5;">Der offengelegte Quellcode ist fortlaufend auf dem Stand des produktiven Systems zu halten. Bei Änderungen an der Software in der Produktionsumgebung ist die öffentliche Dokumentation des Quellcodes unverzüglich zu aktualisieren.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Für alle Teile der Software der VAU,<span id="polarion-comment:1145"></span> deren Quellcode nicht öffentlich gemacht werden kann, ist der zum jeweiligen Zeitpunkt gegebene binäre Stand dieser Software zu veröffentlichen.</span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132716">8.1.10 Attestation und Integritätsschutz für VAU-Server</h4>
  <p id="polarion_751"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP stattet die VAU-Server mit der Fähigkeit zur Remote Attestation auf der Basis der beim Booten des Systems und beim Laden sämtlicher Software gemessenen Werte und einer Signatur des TPM aus. Die Attestation erfolgt gegenüber dem im VAU-Serverschrank integrierten HSM.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Zur Gewährleistung der Wirksamkeit des durch die Remote Attestation gegenüber dem HSM gegebenen Integritätsschutzes für die Laufzeitumgebung der VAU-Server wird der Anbieter des sektoralen IDP die Software für die VAU-Server im Rahmen des technisch Machbaren so gestalten, dass sich VAU-Server nach vollständigem Abschluss des Boot- und Ladevorgangs die Rechte für ein Nachladen von Software selbst entziehen.</span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132711">8.1.11 HSM</h4>
  <p id="polarion_270"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP integriert ein netzwerkfähiges HSM in den VAU-Serverschrank. Das HSM stellt drei systemspezifische Schnittstellen bereit, nämlich:</span> </p>
  <ol id="polarion_278"> 
   <li> <span style="font-size: 10pt;line-height: 1.5;">die Schnittstelle zur Remote Attestation von VAU-Servern,</span></li> 
   <li> <span style="font-size: 10pt;line-height: 1.5;">eine Schnittstelle zur Nutzung der kryptographischen Identität der VAU für die Terminierung von TLS Verbindungen sowie<span id="polarion-comment:1070"></span></span></li> 
   <li><span style="font-size: 10pt;line-height: 1.5;">eine Schnittstelle zur Nutzung der Signaturfunktion auf Basis des privaten Schlüssels der kryptographischen Identität des sektoralen Identity Providers.<span id="polarion-comment:1069"></span></span><br> </li> 
  </ol>
  <p id="polarion_753"> <span style="font-size: 10pt;line-height: 1.5;">Darüber hinaus bietet das HSM eine Management-Schnittstelle zur Einrichtung des HSM im Rahmen einer Zeremonie und zur Einbringung gültiger Referenzwerte für die Attestation der VAU-Server sowie zur Handhabung des privaten Schlüssels der VAU-Identität.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Die Management-Schnittstelle des HSM wird über das Management Interface des VAU-Serverschranks über Netz verfügbar gemacht.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Das HSM macht die Schnittstellen 2 und 3<span id="polarion-comment:1068"></span> nur erfolgreich attestierten VAU-Servern über eine TLS-Verbindung verfügbar.</span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132714">8.1.12 Datenbank</h4>
  <p id="polarion_754"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP stellt ein Datenbanksystem außerhalb der VAU bereit, in das alle verschlüsselten Identitätsdaten gespeichert werden und dass diese Daten über alle Instanzen des sektoralen IDP synchronisiert.<span id="polarion-comment:1413"></span>&nbsp;<span id="polarion-comment:1438"></span></span><br> <span style="font-size: 10pt;line-height: 1.5;">Die Synchronisation von Änderungen muss unmittelbar erfolgen und innerhalb von 500 ms abgeschlossen sein. Eine Spiegelung der Daten mit noch geringerer Latenz ist aufgrund der Architektur des sektoralen IDP nicht erforderlich.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Das Datenbanksystem stellt für die VAU-Server eine REST-Schnittstelle bereit, über die alle benötigten Datenbanktransaktionen abgebildet werden können.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP wird seine Wahl eines Datenbanksystems sowie dessen wesentliche Eigenschaften hinsichtlich Dimensionierung, Synchronisation der Datenbestände und Integration in seine Systems Management Prozesse im Umsetzungskonzept darlegen.</span> </p>
  <h4 id="polarion_wiki macro name=module-workitem;params=id=ML-132712">8.1.13 Repository</h4>
  <p id="polarion_755"> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP stellt ein Repository außerhalb der VAU bereit, aus dem die VAU-Server ihre Boot Images beziehen können. Die Schnittstelle des Repository richtet sich nach den Anforderungen des Bootloaders.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Das Repository muss ausreichend geschützt sein, um Ausfälle des sektoralen IDP durch fehlerhafte Boot Images auszuschließen.</span><br> <span style="font-size: 10pt;line-height: 1.5;">Der Anbieter des sektoralen IDP wird sich mit der gematik<span style="color: #FF0000;"><span id="polarion-comment:1366"></span> </span>über einen geeigneten Prozess zur kontrollierten Einbringung signierter Boot Images verständigen. Dort gibt es bereits etablierte Prozesse auch zu Remote Sitzungen für Schlüsselzeremonien und HSM Interaktionen. Der&nbsp;<span style="color: #000000;">gematik&nbsp;</span>fällt in diesem Prozess die Rolle des Signers der Boot Images zu.&nbsp;</span> </p>
 </body>
</html>